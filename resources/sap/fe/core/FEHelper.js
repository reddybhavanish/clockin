/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2020 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/fe/core/helpers/ValueListHelper","sap/fe/core/CommonUtils","sap/m/MessageToast","sap/base/Log"],function(V,C,M,L){"use strict";var w=V.getWaitForPromise();var F={launchValueHelpFromActionParameterDialog:function(p,f,s){var m=f.getModel(),o=m.getMetaModel(),W=f.getContent&&f.getContent(),a=W.getId(),t=W&&W.getTable&&W.getTable(),b=f&&f.getFilterBar&&f.getFilterBar(),e=t&&b,c;if(t){c=s?"416px":"Auto";t.setContextualWidth(c);}if(w[a]||e){return;}else{if(!t){w[a]=true;}V.getValueListInfo(f,o,p).then(function(v){var P,d,g=v.valueListInfo;P=g.$model.getMetaModel().getObject(v.fieldPropertyPath+"@");d=g.$model.getMetaModel().getObject("/"+g.CollectionPath+"/$Type@");var D=C.computeDisplayMode(P,d);f.getParent().setProperty("display",D);return V.createValueHelpDialog(p,f,t,b,v,s);}).catch(function(d){var g=d.status&&d.status===404?"Metadata not found ("+d.status+") for value help of property "+p:d.message;L.error(g);M.show(g);});}},getTargetCollection:function(c){var p=c.getPath();if(c.getObject("$kind")==="EntitySet"||c.getObject("$kind")==="Action"||c.getObject("0/$kind")==="Action"){return p;}p="/"+p.split("/").filter(Boolean).join("/$NavigationPropertyBinding/");return"/"+c.getObject(p);},setSemanticObjectMappings:function(s,m){var o=JSON.parse(m);for(var i=0;i<o.length;i++){var l=o[i]["LocalProperty"]["$PropertyPath"];var S=o[i]["SemanticObjectProperty"];if(s.getSelectOption(l)){var a=s.getSelectOption(l);var b=a[0]["Sign"];var c=a[0]["Low"];var O=a[0]["Option"];var h=a[0]["High"];s.removeSelectOption(l);s.addSelectOption(S,b,O,c,h);}}return s;}};return F;},true);
