/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2020 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/base/Log","sap/ui/base/Object","sap/ui/model/Context"],function(L,B,C){"use strict";var P="@FE.";var r=new RegExp(P,"g");return B.extend("sap.fe.core.TemplateModel",{oMetaModel:null,oConfigModel:null,constructor:function(m,c){this.oMetaModel=m;this.oConfigModel=c;this.fnCreateMetaBindingContext=this.oMetaModel.createBindingContext.bind(this.oMetaModel);this.fnCreateConfigBindingContext=this.oConfigModel.createBindingContext.bind(this.oConfigModel);this.fnMetaModelResolve=this.oMetaModel.resolve.bind(this.oMetaModel);this.fnConfigModelResolve=this.oConfigModel.resolve.bind(this.oConfigModel);var g=this.oConfigModel._getObject.bind(this.oConfigModel);this.oConfigModel._getObject=function(p,o){var R="";if(o){R=o.getPath();}if(p){R=R+(R?"/":"")+p;}R=R.replace(r,"");return g(R);};this.oMetaModel.resolve=this.resolve.bind(this);this.oConfigModel.resolve=this.resolve.bind(this);this.oMetaModel.createBindingContext=this.createBindingContext.bind(this);this.oConfigModel.createBindingContext=this.createBindingContext.bind(this);return this.oMetaModel;},isConfig:function(p){if(!p){return false;}var s=p.split("/"),_=function(a){if(Array.isArray(a)){for(var i=0;i<a.length;i++){if(a[i].indexOf(P)===0){return true;}}}return false;};return s&&_(s);},resolve:function(p,c){if(this.isConfig(p)){return this.fnConfigModelResolve(p,(c&&c.$$configModelContext)||c);}else{return this.fnMetaModelResolve(p,c);}},createBindingContext:function(p,c,m,f){var b,R;if(this.isConfig(p)){b=this.fnCreateConfigBindingContext(p,c,m,f);R=b.getObject();if(R&&typeof R==="string"&&!this.isConfig(R)){b=this.fnCreateMetaBindingContext(R,c,m,f);}}else{b=this.fnCreateMetaBindingContext.apply(this.oMetaModel,arguments);var s=m&&m.$$configModelPath;if(s){b=new C(this.oMetaModel,p);b.$$configModelContext=this.fnCreateConfigBindingContext(s,c,m,f);}}return b;}});});
