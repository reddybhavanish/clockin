sap.ui.define(["./CommonConverter", "sap/fe/core/helpers/StableIdHelper"], function (CommonConverter, StableIdHelper) {
  "use strict";

  var _exports = {};
  var getPVisualizationP13nMode = CommonConverter.getPVisualizationP13nMode;
  var getNavigationProperties = CommonConverter.getNavigationProperties;

  /**
   * Get properties required to build a chart via SAP FE chart fragment.
   * @param {VisualizationConverterContext} [context] Chart Context
   * @returns {ChartConfiguration} object containing chart properties
   */
  function getChartProperties(context) {
    var entityType = context.entityType,
        visualizationPath = context.visualizationPath,
        navigationInfo = getNavigationProperties(visualizationPath, entityType),
        entityName = entityType.name,
        isEntitySet = !navigationInfo.property,
        navProperty = navigationInfo.property,
        navigationOrCollectionName = navProperty ? navProperty : entityType.name;
    return {
      id: StableIdHelper.generate(["fe", "Chart", navigationOrCollectionName, visualizationPath]),
      collection: "/" + entityName + (!isEntitySet ? "/" + navProperty : ""),
      entityName: entityName,
      p13nMode: getPVisualizationP13nMode(context),
      navigationPath: navProperty
    };
  }

  _exports.getChartProperties = getChartProperties;
  return _exports;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNoYXJ0Q29udmVydGVyLnRzIl0sIm5hbWVzIjpbImdldENoYXJ0UHJvcGVydGllcyIsImNvbnRleHQiLCJlbnRpdHlUeXBlIiwidmlzdWFsaXphdGlvblBhdGgiLCJuYXZpZ2F0aW9uSW5mbyIsImdldE5hdmlnYXRpb25Qcm9wZXJ0aWVzIiwiZW50aXR5TmFtZSIsIm5hbWUiLCJpc0VudGl0eVNldCIsInByb3BlcnR5IiwibmF2UHJvcGVydHkiLCJuYXZpZ2F0aW9uT3JDb2xsZWN0aW9uTmFtZSIsImlkIiwiU3RhYmxlSWRIZWxwZXIiLCJnZW5lcmF0ZSIsImNvbGxlY3Rpb24iLCJwMTNuTW9kZSIsImdldFBWaXN1YWxpemF0aW9uUDEzbk1vZGUiLCJuYXZpZ2F0aW9uUGF0aCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUlBOzs7OztBQU1PLFdBQVNBLGtCQUFULENBQTRCQyxPQUE1QixFQUF3RjtBQUFBLFFBQ3RGQyxVQURzRixHQUNwREQsT0FEb0QsQ0FDdEZDLFVBRHNGO0FBQUEsUUFDMUVDLGlCQUQwRSxHQUNwREYsT0FEb0QsQ0FDMUVFLGlCQUQwRTtBQUFBLFFBRTdGQyxjQUY2RixHQUU1RUMsdUJBQXVCLENBQUNGLGlCQUFELEVBQW9CRCxVQUFwQixDQUZxRDtBQUFBLFFBRzdGSSxVQUg2RixHQUd4RUosVUFBVSxDQUFDSyxJQUg2RDtBQUFBLFFBSTdGQyxXQUo2RixHQUl0RSxDQUFDSixjQUFjLENBQUNLLFFBSnNEO0FBQUEsUUFLN0ZDLFdBTDZGLEdBS3ZFTixjQUFjLENBQUNLLFFBTHdEO0FBQUEsUUFNN0ZFLDBCQU42RixHQU1oRUQsV0FBVyxHQUFHQSxXQUFILEdBQWlCUixVQUFVLENBQUNLLElBTnlCO0FBUTlGLFdBQU87QUFDTkssTUFBQUEsRUFBRSxFQUFFQyxjQUFjLENBQUNDLFFBQWYsQ0FBd0IsQ0FBQyxJQUFELEVBQU8sT0FBUCxFQUFnQkgsMEJBQWhCLEVBQTRDUixpQkFBNUMsQ0FBeEIsQ0FERTtBQUVOWSxNQUFBQSxVQUFVLEVBQUUsTUFBTVQsVUFBTixJQUFvQixDQUFDRSxXQUFELEdBQWUsTUFBTUUsV0FBckIsR0FBbUMsRUFBdkQsQ0FGTjtBQUdOSixNQUFBQSxVQUFVLEVBQUVBLFVBSE47QUFJTlUsTUFBQUEsUUFBUSxFQUFFQyx5QkFBeUIsQ0FBQ2hCLE9BQUQsQ0FKN0I7QUFLTmlCLE1BQUFBLGNBQWMsRUFBRVI7QUFMVixLQUFQO0FBT0EiLCJzb3VyY2VSb290IjoiLiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoYXJ0Q29uZmlndXJhdGlvbiwgVmlzdWFsaXphdGlvbkNvbnZlcnRlckNvbnRleHQgfSBmcm9tIFwiLi4vTWFuaWZlc3RTZXR0aW5nc1wiO1xuaW1wb3J0IHsgZ2V0TmF2aWdhdGlvblByb3BlcnRpZXMsIGdldFBWaXN1YWxpemF0aW9uUDEzbk1vZGUgfSBmcm9tIFwiLi9Db21tb25Db252ZXJ0ZXJcIjtcbmltcG9ydCB7IFN0YWJsZUlkSGVscGVyIH0gZnJvbSBcInNhcC9mZS9jb3JlL2hlbHBlcnNcIjtcblxuLyoqXG4gKiBHZXQgcHJvcGVydGllcyByZXF1aXJlZCB0byBidWlsZCBhIGNoYXJ0IHZpYSBTQVAgRkUgY2hhcnQgZnJhZ21lbnQuXG4gKiBAcGFyYW0ge1Zpc3VhbGl6YXRpb25Db252ZXJ0ZXJDb250ZXh0fSBbY29udGV4dF0gQ2hhcnQgQ29udGV4dFxuICogQHJldHVybnMge0NoYXJ0Q29uZmlndXJhdGlvbn0gb2JqZWN0IGNvbnRhaW5pbmcgY2hhcnQgcHJvcGVydGllc1xuICovXG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaGFydFByb3BlcnRpZXMoY29udGV4dDogVmlzdWFsaXphdGlvbkNvbnZlcnRlckNvbnRleHQpOiBDaGFydENvbmZpZ3VyYXRpb24ge1xuXHRjb25zdCB7IGVudGl0eVR5cGUsIHZpc3VhbGl6YXRpb25QYXRoIH0gPSBjb250ZXh0LFxuXHRcdG5hdmlnYXRpb25JbmZvID0gZ2V0TmF2aWdhdGlvblByb3BlcnRpZXModmlzdWFsaXphdGlvblBhdGgsIGVudGl0eVR5cGUpLFxuXHRcdGVudGl0eU5hbWU6IHN0cmluZyA9IGVudGl0eVR5cGUubmFtZSxcblx0XHRpc0VudGl0eVNldDogYm9vbGVhbiA9ICFuYXZpZ2F0aW9uSW5mby5wcm9wZXJ0eSxcblx0XHRuYXZQcm9wZXJ0eTogc3RyaW5nID0gbmF2aWdhdGlvbkluZm8ucHJvcGVydHksXG5cdFx0bmF2aWdhdGlvbk9yQ29sbGVjdGlvbk5hbWUgPSBuYXZQcm9wZXJ0eSA/IG5hdlByb3BlcnR5IDogZW50aXR5VHlwZS5uYW1lO1xuXG5cdHJldHVybiB7XG5cdFx0aWQ6IFN0YWJsZUlkSGVscGVyLmdlbmVyYXRlKFtcImZlXCIsIFwiQ2hhcnRcIiwgbmF2aWdhdGlvbk9yQ29sbGVjdGlvbk5hbWUsIHZpc3VhbGl6YXRpb25QYXRoXSksXG5cdFx0Y29sbGVjdGlvbjogXCIvXCIgKyBlbnRpdHlOYW1lICsgKCFpc0VudGl0eVNldCA/IFwiL1wiICsgbmF2UHJvcGVydHkgOiBcIlwiKSxcblx0XHRlbnRpdHlOYW1lOiBlbnRpdHlOYW1lLFxuXHRcdHAxM25Nb2RlOiBnZXRQVmlzdWFsaXphdGlvblAxM25Nb2RlKGNvbnRleHQpLFxuXHRcdG5hdmlnYXRpb25QYXRoOiBuYXZQcm9wZXJ0eVxuXHR9O1xufVxuIl19