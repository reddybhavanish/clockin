/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2020 SAP SE. All rights reserved
    
 */
sap.ui.define(["sap/ui/core/library","sap/base/Log"],function(c,L){"use strict";var I=c.ID;function r(i){if(i.indexOf(" ")>=0){L.error(i+" - Spaces are not allowed in ID parts.");throw i+" - Spaces are not allowed in ID parts.";}i=i.replace(/^\/|^@|^#/,"").replace(/\/$|@$|#$/,"").replace(/\/|@|#/g,"::");while(i.indexOf("::::")>-1){i=i.replace("::::","::");}return i;}function a(i){i=i.replace("com.sap.vocabularies.UI.v1.","");i=i.replace("com.sap.vocabularies.Communication.v1.","");return i;}function g(v){if(v&&v.$Path){return v.$Path;}if(v&&v.$Apply&&v.$Function==="odata.concat"){var p="";for(var i=0;i<v.$Apply.length;i++){if(v.$Apply[i].$Path){if(p){p+="::";}p+=v.$Apply[i].$Path;}}return p;}}function b(d){var i="";if(typeof d.SemanticObject=="string"){i+=d.SemanticObject;}else if(d.SemanticObject.$Path){i+=d.SemanticObject.$Path;}if(typeof d.Action=="string"){i+="::"+d.Action;}else if(d.Action&&d.Action.$Path){i+="::"+d.Action.$Path;}if(d["RequiresContext"]&&d["RequiresContext"]==true){i+="::RequiresContext";}return i;}var s={generate:function(S){var d="",e,f;for(var i=0;i<S.length;i++){e=S[i];d+=d!==""?"::":"";if(e["Facet"]&&e["Facet"]["$Type"]&&e["Facet"]["$Type"]=="com.sap.vocabularies.UI.v1.CollectionFacet"){d+=e["Facet"]["ID"];}else{if(typeof e==="string"){if(e){d+=e;}}else if(typeof e==="object"){if(e&&e.Facet){if(e.Facet.$Type&&e.Facet.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(e.Facet.ID){f=e.Facet.ID;}}else if(e.Facet.$Type&&e.Facet.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(e.Facet.ID){f=e.Facet.ID;}else{f=e.Facet.Target.$AnnotationPath||e.Facet.Target.value;}}if(f){d+=f;}}if(e&&e["$Type"]&&e["$Type"].indexOf("com.sap.vocabularies.UI.v1.DataField")>-1){d+=this.getStableIdPartFromDataField(e);}}}}d=s.prepareId(d);return d;},getStableIdPartFromDataField:function(d,p){var i="";if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){i="DataFieldForAction::";i+=d.Action;return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){i="DataFieldForIntentBasedNavigation::";i+=b(d);return i;}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){i="DataFieldForAnnotation::";i+=s.prepareId(d.Target.$AnnotationPath);return i;}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"){i="DataFieldWithAction::";if(d.Value){i+=g(d.Value)+"::";}i+=d.Action;return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataField"){i="DataField::";i+=g(d.Value);return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){i="DataFieldWithIntentBasedNavigation::";i+=g(d.Value)+"::";i+=b(d);return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){i="DataFieldWithNavigationPath::";i+=g(d.Value);if(d.Target&&d.Target["$NavigationPropertyPath"]){i+="::"+d.Target["$NavigationPropertyPath"];}return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){i="DataFieldWithUrl::";i+=g(d.Value);return s.prepareId(i);}else if(p&&p.context&&p.context.getObject("@sapui.name")){return s.prepareId(p.context.getObject("@sapui.name"));}else{L.error("Stable ID Helper: Unable to create a stable ID. Please check the annotations.");}return undefined;},prepareId:function(i){i=a(i);if(I.isValid(i)){return i;}else{i=r(i);if(I.isValid(i)){return i;}else{L.error(i+" - Stable Id could not be generated due to insufficient information.");throw i+" - Stable Id could not be generated due to insufficient information.";}}}};return s;});
