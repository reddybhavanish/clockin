//@ui5-bundle sap/fe/core/library-preload.js
sap.ui.predefine('sap/fe/core/Synchronization',["sap/base/Log","sap/ui/base/Object"],function(L,B){"use strict";return B.extend("sap.fe.core.Synchronization",{constructor:function(){this._fnResolve=null;this._isResolved=false;return B.apply(this,arguments);},waitFor:function(){var t=this;if(this._isResolved){return Promise.resolve();}else{return new Promise(function(r,a){t._fnResolve=r;});}},resolve:function(){if(!this._isResolved){this._isResolved=true;if(this._fnResolve){this._fnResolve();}}}});});
sap.ui.predefine('sap/fe/core/TransactionHelper',["sap/ui/base/Object","sap/fe/core/actions/draft","sap/fe/core/actions/sticky","sap/fe/core/actions/operations","sap/fe/core/model/DraftModel","sap/ui/model/json/JSONModel","sap/fe/core/actions/messageHandling","sap/m/Popover","sap/m/VBox","sap/m/CheckBox","sap/m/Text","sap/m/Button","sap/m/MessageToast","sap/m/Dialog","sap/ui/model/BindingMode","sap/base/Log","sap/ui/core/message/Message","sap/fe/core/CommonUtils","sap/fe/core/BusyLocker","sap/fe/core/helpers/SideEffectsUtil"],function(B,d,s,o,D,J,m,P,V,C,T,a,M,b,c,L,e,f,g,S){"use strict";var h={DRAFT:"Draft",STICKY:"Sticky",NON_DRAFT:"NonDraft"};
function j(p){if(p&&p.getMetadata&&p.getMetadata().getName()==="sap.ui.base.Event"){p={};}return p||{};}
return B.extend("sap.fe.core.TransactionHelper",{_bIsModified:false,_bCreateMode:false,_oAppComponent:null,_oResourceBundle:null,initialize:function(A){this._oAppComponent=A;},destroy:function(){this.getUIStateModel().destroy();B.prototype.destroy.apply(this,arguments);},getProgrammingModel:function(i){var t=this,k=i.getModel(),l=i.getModel().getMetaModel().getMetaPath(i.getPath()),E;if(!this.sProgrammingModel){return D.upgradeOnDemand(k).then(function(I){if(I){t.sProgrammingModel=h.DRAFT;}else if(k.getMetaModel().getObject(l+"@com.sap.vocabularies.Session.v1.StickySessionSupported")){t.sProgrammingModel=h.STICKY;}else{E=i.getModel().getMetaModel().getObject("/");for(var n in E){if(E[n].$kind==="EntitySet"){if(k.getMetaModel().getObject("/"+n+"@com.sap.vocabularies.Session.v1.StickySessionSupported")){t.sProgrammingModel=h.STICKY;return t.sProgrammingModel;}}}t.sProgrammingModel=h.NON_DRAFT;}return t.sProgrammingModel;});}else{return Promise.resolve(this.sProgrammingModel);}},getUIStateModel:function(){if(!this.uiModel){this.uiModel=new J({editMode:"Display",busy:false,busyLocal:{},draftStatus:"Clear"});this.uiModel.setDefaultBindingMode(c.OneWay);}return this.uiModel;},setUIStateModel:function(u){this.uiModel=u;},isBusy:function(i,l){var u=this.getUIStateModel();return g.isLocked(u,i==="Global"?undefined:l);},busyHandler:function(i,l,O){var k=O?"lock":"unlock";if(i==="Global"||i==="Local"){g[k](this.getUIStateModel(),i==="Global"?"/busy":"/busyLocal/"+l);}},busyOn:function(i,l){this.busyHandler(i,l,true);},busyOff:function(i,l){this.busyHandler(i,l,false);},createDocument:function(l,p,r){var n,t=this,k,q,u=l.getModel(),v=u.getMetaModel(),w=v.getMetaPath(l.getHeaderContext().getPath()),N=!l.isRelative()&&(v.getObject(w+"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction")||v.getObject(w+"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction")),x,y={"$$patchWithoutSideEffects":true},z=v.getObject(w+"/@com.sap.vocabularies.Common.v1.Messages/$Path");if(z){y["$select"]=z;}p=j(p);if(!l){return Promise.reject("Binding required for new document creation");}if(p.busyMode==="Local"){q=l.sId;}k=!p.refreshList;t.busyOn(p.busyMode,q);var R=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");if(N){x=this.onCallAction(N,{contexts:l.getHeaderContext(),showActionParameterDialog:true,label:R.getText("SAPFE_ACTION_CREATE"),bindingParameters:y,parentControl:p.parentControl,bIsCreateAction:true});}else{n=l.create(p.data,k,p.createAtEnd);x=n.created();var A=function(E){var F=E.getParameter("context"),G=sap.ui.getCore().getMessageManager(),H,I,K,O;if(F===n){l.detachCreateCompleted(A);if(!E.getParameter("success")){if(p.keepTransientContextOnFailed){H=n.getPath();I=G.getMessageModel().getData();O=false;for(var i=0;i<I.length;i++){if(I[0].target===H){O=true;break;}}if(!O){K=new e({message:f.getTranslatedText("TRANSIENT_CONTEXT_MESSAGE",r),description:f.getTranslatedText("TRANSIENT_CONTEXT_DESCRIPTION",r),target:H,persistent:false,type:"Error"});G.addMessages(K);n.created().then(function(){G.removeMessages(K);},function(){G.removeMessages(K);});}var Q=function(E){if(E.getParameter("context")===n){m.showUnboundMessages();if(E.getParameter("success")){l.detachCreateCompleted(Q);}}};l.attachCreateCompleted(Q);m.showUnboundMessages();}else{F.created().then(undefined,function(){L.trace("transient creation context deleted");});F.delete();var U=t._getRouting();U.navigateBackFromTransientState(t._getAppComponent(),{unLockObject:t.getUIStateModel()});}}}};l.attachCreateCompleted(A);}return x.then(function(i){if(!l.isRelative()){t._bCreateMode=true;}n=n||(i&&i.response);if(i&&i.bConsiderDocumentModified){t.handleDocumentModifications();}return m.showUnboundMessages().then(function(){return n;});}).catch(function(i){return m.showUnboundMessages().then(function(){return Promise.reject(i);});}).finally(function(){t.busyOff(p.busyMode,q);});},deleteDocument:function(v,p,l,r){var u=this.getUIStateModel(),R,i,k=[],n=false,q=false,t=false,w,x=this;var y=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");var z,A={title:y.getText("OBJECT_PAGE_DELETE")};g.lock(u);if(p){if(!p.numberOfSelectedContexts){p=j(p);if(p.title){if(p.description){z=[p.title,p.description];A.text=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO",r,z,p.entitySetName);}else{A.text=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",r,null,p.entitySetName);}}else{A.text=f.getTranslatedText("OBJECT_PAGE_CONFIRM_GENERIC_DELETE",r);}k=v;}else{A={title:y.getText("OBJECT_PAGE_DELETE")};if(p.numberOfSelectedContexts===1&&p.numberOfSelectedContexts===v.length){k=v;A.text=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",r,null,p.entitySetName);}else if(p.numberOfSelectedContexts===1&&p.unSavedContexts.length===1){k=p.unSavedContexts;var E=k[0].getObject()["DraftAdministrativeData"]?k[0].getObject()["DraftAdministrativeData"]["LastChangedByUserDescription"]:"";z=[E];A.text=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_UNSAVED_CHANGES",r,z);}else if(p.numberOfSelectedContexts===p.unSavedContexts.length){k=p.unSavedContexts;A.text=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_UNSAVED_CHANGES_MULTIPLE_OBJECTS",r);}else if(p.numberOfSelectedContexts===v.concat(p.unSavedContexts.concat(p.lockedContexts)).length){k=v.concat(p.unSavedContexts);A.text=k.length===1?f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",r,null,p.entitySetName):f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL",r,null,p.entitySetName);}else{k=v.concat(p.unSavedContexts);t=true;A.text=k.length===1?f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_PLURAL",r,null,p.entitySetName):f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTTITLE_SINGULAR",r,null,p.entitySetName);A.nonDeletableText=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_NON_DELETABLE",r,[p.numberOfSelectedContexts-v.concat(p.unSavedContexts).length,p.numberOfSelectedContexts]);}if(p.lockedContexts.length>0){q=true;A.nonDeletableText=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED",r,[p.lockedContexts.length,p.numberOfSelectedContexts]);}if(p.unSavedContexts.length>0&&p.unSavedContexts.length!==p.numberOfSelectedContexts){if((t||q)&&k.length===p.unSavedContexts.length){n=false;k=p.unSavedContexts;if(p.unSavedContexts.length===1){A.text=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_SINGULAR",r);}else{A.text=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_UNSAVED_AND_FEW_OBJECTS_LOCKED_PLURAL",r);}}else{if(p.unSavedContexts.length===1){A.checkBoxText=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_SINGULAR",r);}else{A.checkBoxText=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_UNSAVED_PLURAL",r);}n=true;}}if(t&&q){A.nonDeletableText=f.getTranslatedText("OBJECT_PAGE_CONFIRM_DELETE_WITH_OBJECTINFO_AND_FEW_OBJECTS_LOCKED_AND_NON_DELETABLE",r,[p.numberOfSelectedContexts-v.concat(p.unSavedContexts).length-p.lockedContexts.length,p.lockedContexts.length,p.numberOfSelectedContexts]);}}}var F=new V({items:[new T({text:A.nonDeletableText,visible:q||t}),new T({text:A.text}),new C({text:A.checkBoxText,selected:true,select:function(I){var K=I.getSource().getSelected();if(K){k=v.concat(p.unSavedContexts);w=true;}else{k=v;w=false;}},visible:n})]});var G=p.numberOfSelectedContexts?f.getTranslatedText("OBJECT_PAGE_DELETE_DIALOG",r,[p.numberOfSelectedContexts]):y.getText("OBJECT_PAGE_DELETE");var H=new b({title:G,state:"Warning",content:[F],beginButton:new a({text:y.getText("OBJECT_PAGE_DELETE"),type:"Emphasized",press:function(){g.lock(u);var I=Array.isArray(k)?k:[k];H.close();return Promise.all(I.map(function(K){K.delete().then(function(){if(l.getProperty("/$contexts/"+p.id+"/deleteEnabled")!=undefined){if(n===true&&w===false){l.setProperty("/$contexts/"+p.id+"/deleteEnabled",true);var N=Object.assign(l.getProperty("/$contexts/"+p.id),{});N.selectedContexts=N.selectedContexts.filter(function(O){return N.deletableContexts.indexOf(O)===-1;});N.deletableContexts=[];N.selectedContexts=[];N.numberOfSelectedContexts=N.selectedContexts.length;l.setProperty("/$contexts/"+p.id,N);}else{l.setProperty("/$contexts/"+p.id+"/deleteEnabled",false);l.setProperty("/$contexts/"+p.id+"/selectedContexts",[]);l.setProperty("/$contexts/"+p.id+"/numberOfSelectedContexts",0);}}if(I.length===1){M.show(f.getTranslatedText("OBJECT_PAGE_DELETE_TOAST_SINGULAR",r));}else{M.show(f.getTranslatedText("OBJECT_PAGE_DELETE_TOAST_PLURAL",r));}m.removeBoundTransitionMessages();x._bIsModified=true;return m.showUnboundMessages().then(i);}).catch(function(N){return m.showUnboundMessages().then(R);});})).finally(function(){g.unlock(u);});}}),endButton:new a({text:f.getTranslatedText("OBJECT_PAGE_CANCEL",r),press:function(){H.close();}}),afterClose:function(){H.destroy();}});H.addStyleClass("sapUiContentPadding");g.unlock(u);H.open();return new Promise(function(I,K){R=K;i=I;});},editDocument:function(i){this._bIsModified=false;var t=this;var u=this.getUIStateModel();if(!i){return Promise.reject(new Error("Binding context to active document is required"));}g.lock(u);return this.getProgrammingModel(i).then(function(p){switch(p){case h.DRAFT:t.activeContext=i;return d.createDraftFromActiveDocument(i,{bPreserveChanges:true});case h.NON_DRAFT:return i;case h.STICKY:return s.editDocumentInStickySession(i);}}).then(function(n){u.setProperty("/editMode","Editable");t._bCreateMode=false;return m.showUnboundMessages().then(function(){return n;});}).catch(function(k){return m.showUnboundMessages().then(function(){return Promise.reject(k);});}).finally(function(){g.unlock(u);});},updateDocument:function(){return Promise.resolve();},cancelDocument:function(i,p,r){var t=this,u=t.getUIStateModel(),k,l=sap.ui.getCore().getMessageManager();if(!i){return Promise.reject("No context exists. Pass a meaningful context");}else{l.removeMessages(l.getMessageModel().getData());}g.lock(u);p=j(p);var n=i,q=p.cancelButton,v=n.getModel(),w;return this.getProgrammingModel(i).then(function(x){k=x;if(x===h.DRAFT){var y=v.bindContext(n.getPath()+"/DraftAdministrativeData").getBoundContext();if(!t._bIsModified){return y.requestObject().then(function(z){t._bIsModified=!(z.CreationDateTime===z.LastChangeDateTime);});}}else if(x===h.NON_DRAFT){t._bIsModified=n.hasPendingChanges();}}).then(function(){return t._showDiscardPopover(q,t._bIsModified,r);}).then(function(){switch(k){case h.DRAFT:return n.requestObject("HasActiveEntity").then(function(H){if(!H){if(n&&n.hasPendingChanges()){n.getBinding().resetChanges();}n.delete();return false;}else{var A=t.activeContext||v.bindContext(n.getPath()+"/SiblingEntity").getBoundContext();return A.requestCanonicalPath().then(function(x){w=x;if(n&&n.hasPendingChanges()){n.getBinding().resetChanges();}n.delete();}).then(function(){if(A.getPath()!==w){A=v.bindContext(w).getBoundContext();}return A;});}});case h.STICKY:return s.discardDocument(i).then(function(i){if(i){if(i.hasPendingChanges()){i.getBinding().resetChanges();}if(!t._bCreateMode){i.refresh();return i;}}return false;});case h.NON_DRAFT:if(n===i&&t._bIsModified){i.getBinding().resetChanges();}break;}}).then(function(x){t._bIsModified=false;u.setProperty("/editMode","Display");m.removeBoundTransitionMessages();return m.showUnboundMessages().then(function(){return x;});}).catch(function(x){return m.showUnboundMessages().then(function(){return Promise.reject(x);});}).finally(function(){g.unlock(u);});},saveDocument:function(i,r){var u=this.getUIStateModel(),k,t=this;if(!i){return Promise.reject(new Error("Binding context to draft document is required"));}m.removeBoundTransitionMessages();g.lock(u);return this.getProgrammingModel(i).then(function(p){switch(p){case h.DRAFT:return d.activateDocument(i);case h.STICKY:return s.activateDocument(i);case h.NON_DRAFT:k=i.getModel();k.submitBatch(k.getUpdateGroupId());return i;}}).then(function(A){t._bIsModified=false;u.setProperty("/editMode","Display");M.show(f.getTranslatedText("OBJECT_SAVED",r));return m.showUnboundMessages().then(function(){return A;});}).catch(function(l){return m.showUnboundMessages().then(function(){return Promise.reject(l);});}).finally(function(){g.unlock(u);});},onCallAction:function(A,p){p=j(p);var u=this.getUIStateModel(),t=this,i,k,l,n,q=p.bindingParameters;if(!A){return Promise.reject("Provide name of action to be executed");}n=A.split("/")[1];A=n||A;i=n?undefined:p.contexts;if(i&&((Array.isArray(i)&&i.length)||!Array.isArray(i))){i=Array.isArray(i)?i[0]:i;k=i.getModel();}if(p.model){k=p.model;}if(!k){return Promise.reject("Pass a context for a bound action or pass the model for an unbound action");}var r=t._getBindingParameters(A,i)||{},v=t._getAppComponent(),w=false;if(i&&k){l=o.callBoundAction(A,p.contexts,k,{invocationGrouping:p.invocationGrouping,label:p.label,showActionParameterDialog:true,mBindingParameters:q,additionalSideEffect:r.aAdditionalPropertyPaths,onSubmitted:function(){w=true;g.lock(u);},parentControl:p.parentControl,ownerComponent:v,localUIModel:p.localUIModel,operationAvailableMap:p.operationAvailableMap,prefix:p.prefix,bIsCreateAction:p.bIsCreateAction});}else{l=o.callActionImport(A,k,{label:p.label,showActionParameterDialog:true,bindingParameters:q,entitySetName:p.entitySetName,onSubmitted:function(){w=true;g.lock(u);},parentControl:p.parentControl,localUIModel:p.localUIModel,operationAvailableMap:p.operationAvailableMap,prefix:p.prefix,ownerComponent:v});}return l.then(function(R){return m.showUnboundMessages().then(function(){return R;});}).catch(function(x){return m.showUnboundMessages().then(function(){return Promise.reject(x);});}).finally(function(){if(w){g.unlock(u);}});},_getBindingParameters:function(A,i){var k=i&&i.getModel().getMetaModel(),l=k&&k.getMetaContext(i.getPath()),n=l&&k.getObject(A+"@com.sap.vocabularies.Common.v1.SideEffects",l);if(!n){return{};}var t=n.TargetProperties||[],p=n.TargetEntities||[],E=l.getPath(),q=[];q=q.concat(t).concat(p);t.forEach(function(r){var u=k.getObject(E+"/"+r["$PropertyPath"]+"@com.sap.vocabularies.Common.v1.Text");if(u&&u["$Path"]){var v=r["$PropertyPath"],N=v.indexOf("/")>-1?v.replace(/[^\/]+$/,""):"";q.push({"$PropertyPath":N+u["$Path"]});}});q=S.replaceEmptyNavigationPaths(q);q=S.addTextProperties(q,k,E);return{aAdditionalPropertyPaths:q};},_showDiscardPopover:function(i,I,r){var t=this;t._bContinueDiscard=false;return new Promise(function(k,l){if(!i){l("Cancel button not found");}if(I){var O=function(){i.setEnabled(true);if(t._bContinueDiscard){k();}else{l("Discard operation was rejected. Document has not been discarded");}t._oPopover.detachAfterClose(O);};if(!t._oPopover){t._oPopover=new P({showHeader:false,placement:"Top",content:[new V({items:[new T({text:f.getTranslatedText("SAPFE_DRAFT_DISCARD_MESSAGE",r)}),new a({text:f.getTranslatedText("SAPFE_DRAFT_DISCARD_BUTTON",r),width:"100%",press:function(){t._bContinueDiscard=true;t._oPopover.close();}})]})],beforeOpen:function(){i.setEnabled(false);t._oPopover.setInitialFocus(t._oPopover);}});t._oPopover.addStyleClass("sapUiContentPadding");}t._oPopover.attachAfterClose(O);t._oPopover.openBy(i);}else{k();}});},handleDocumentModifications:function(){this._bIsModified=true;},_getAppComponent:function(){return this._oAppComponent;},_getRouting:function(){return this._getAppComponent()._oRouting;}});});
sap.ui.predefine('sap/fe/core/controllerextensions/RoutingListener',["sap/ui/core/mvc/ControllerExtension","sap/ui/core/mvc/OverrideExecution","sap/ui/core/Component","sap/fe/core/CommonUtils"],function(C,O,a,b){"use strict";return C.extend("sap.fe.core.controllerextensions.RoutingListener",{metadata:{methods:{"navigateToTarget":{"public":true,"final":false}}},navigateToTarget:function(c,n){var N=this._oPageComponent.getNavigationConfiguration(n);if(N){var d=N.detail;var r=d.route;var p=d.parameters;this._oRoutingService.navigateTo(c,r,p,true);}else{this._oRoutingService.navigateTo(c,null,null,true);}this._oView.getViewData();},override:{onInit:function(){var t=this;this._oView=this.base.getView();this._oAppComponent=b.getAppComponent(this._oView);this._oPageComponent=a.getOwnerComponentFor(this._oView);if(!this._oAppComponent||!this._oPageComponent||!this._oPageComponent.isA("sap.fe.core.TemplateComponent")){throw new Error("This controller extension requires to be created from a view included in a 'sap.fe.core.TemplateComponent'");}this._oAppComponent.getService("routingService").then(function(r){t._oRoutingService=r;}).catch(function(){throw new Error("This controller extension cannot work without a 'routingService' on the main AppComponent");});}}});});
sap.ui.predefine('sap/fe/core/converters/Constants',[],function(){"use strict";var _={};var V={"Org.OData.Capabilities.V1":"Capabilities","Org.OData.Core.V1":"Core","Org.OData.Measures.V1":"Measures","com.sap.vocabularies.Common.v1":"Common","com.sap.vocabularies.UI.v1":"UI","com.sap.vocabularies.Analytics.v1":"Analytics","com.sap.vocabularies.PersonalData.v1":"PersonalData","com.sap.vocabularies.Communication.v1":"Communication"};_.VOCABULARY_ALIAS=V;var g=function(d){var r={};Object.keys(d).forEach(function(k){r[d[k]]=k;});return r;};var a=g(V);_.VOCABULARY_REVERSE_ALIAS=a;return _;});
sap.ui.predefine('sap/fe/core/converters/ConverterUtil',["./ManifestSettings"],function(M){"use strict";var P=M.Placement;var t=function(p,a,s,v){var i=s.indexOf(a);if(i!==-1){return i;}var b=p[a];if(b===undefined){throw new Error("position anchor not found: "+a);}v[a]=b;if(b.position&&!(b.position.anchor in v)){i=t(p,b.position.anchor,s,v);if(b.position.placement!==P.Before){++i;}}else{i=s.length;}s.splice(i,0,a);return i;};return{orderByPosition:function(p){var s=[];for(var k in p){t(p,k,s,{});}return s.map(function(k){return p[k];});}};});
sap.ui.predefine('sap/fe/core/converters/ManifestSettings',[],function(){"use strict";var _={};var P;(function(P){P["After"]="After";P["Before"]="Before";})(P||(P={}));_.Placement=P;var S;(function(S){S["Annotation"]="Annotation";S["Default"]="Default";S["XMLFragment"]="XMLFragment";})(S||(S={}));_.SectionType=S;var F;(function(F){F["Chart"]="Chart";F["Contact"]="Contact";F["Form"]="Form";F["HeaderContact"]="HeaderContact";F["Table"]="Table";})(F||(F={}));_.FeFacetType=F;var A;(function(A){A["DataFieldForAction"]="ForAction";A["DataFieldForIntentBasedNavigation"]="ForNavigation";A["Default"]="Default";})(A||(A={}));_.ActionType=A;return _;});
sap.ui.predefine('sap/fe/core/converters/MetaModelConverter',["./templates/index","sap/fe/core/converters/common/AnnotationConverter","./Constants"],function(t,A,C){"use strict";var V=C.VOCABULARY_ALIAS;
function _(o,k,v){if(k in o){Object.defineProperty(o,k,{value:v,enumerable:true,configurable:true,writable:true});}else{o[k]=v;}return o;}
function a(g,i){return f(g)||e(g,i)||c(g,i)||b();}
function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function c(o,m){if(!o)return;if(typeof o==="string")return d(o,m);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(o,m);}
function d(g,l){if(l==null||l>g.length)l=g.length;for(var i=0,h=new Array(l);i<l;i++){h[i]=g[i];}return h;}
function e(g,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(g)))return;var h=[];var j=true;var k=false;var l=undefined;try{for(var m=g[Symbol.iterator](),n;!(j=(n=m.next()).done);j=true){h.push(n.value);if(i&&h.length===i)break;}}catch(o){k=true;l=o;}finally{try{if(!j&&m["return"]!=null)m["return"]();}finally{if(k)throw l;}}return h;}
function f(g){if(Array.isArray(g))return g;}
var T;(function(T){T["ListReport"]="ListReport";T["ObjectPage"]="ObjectPage";})(T||(T={}));var M={parsePropertyValue:function(g,p,h,i){var j=this;var v;var k=h+"/"+p;if(typeof g==="string"){v={type:"String",String:g};}else if(typeof g==="boolean"){v={type:"Bool",Bool:g};}else if(typeof g==="number"){v={type:"Int",Int:g};}else if(Array.isArray(g)){v={type:"Collection",Collection:g.map(function(s,l){return j.parseAnnotationObject(s,k+"/"+l,i);})};if(g.length>0){if(g[0].hasOwnProperty("$PropertyPath")){v.Collection.type="PropertyPath";}else if(g[0].hasOwnProperty("$Path")){v.Collection.type="Path";}else if(g[0].hasOwnProperty("$NavigationPropertyPath")){v.Collection.type="NavigationPropertyPath";}else if(g[0].hasOwnProperty("$AnnotationPath")){v.Collection.type="AnnotationPath";}else if(g[0].hasOwnProperty("$Type")){v.Collection.type="Record";}else if(typeof g[0]==="object"){v.Collection.type="Record";}else{v.Collection.type="String";}}}else if(g.$Path!==undefined){v={type:"Path",Path:g.$Path};}else if(g.$Decimal!==undefined){v={type:"Decimal",Decimal:parseFloat(g.$Decimal)};}else if(g.$PropertyPath!==undefined){v={type:"PropertyPath",PropertyPath:g.$PropertyPath};}else if(g.$NavigationPropertyPath!==undefined){v={type:"NavigationPropertyPath",NavigationPropertyPath:g.$NavigationPropertyPath};}else if(g.$AnnotationPath!==undefined){v={type:"AnnotationPath",AnnotationPath:g.$AnnotationPath};}else if(g.$EnumMember!==undefined){v={type:"EnumMember",EnumMember:this.mapNameToAlias(g.$EnumMember.split("/")[0])+"/"+g.$EnumMember.split("/")[1]};}else if(g.$Type){v={type:"Record",Record:this.parseAnnotationObject(g,h,i)};}return{name:p,value:v};},mapNameToAlias:function(g){var h=g.split("@"),i=a(h,2),p=i[0],j=i[1];if(!j){j=p;p="";}else{p+="@";}var l=j.lastIndexOf(".");return p+V[j.substr(0,l)]+"."+j.substr(l+1);},parseAnnotationObject:function(g,h,i){var j=this;var p={};var k=false;if(typeof g==="string"){p={type:"String",String:g};}else if(typeof g==="boolean"){p={type:"Bool",Bool:g};}else if(typeof g==="number"){p={type:"Int",Int:g};}else if(g.$AnnotationPath!==undefined){p={type:"AnnotationPath",AnnotationPath:g.$AnnotationPath};}else if(g.$Path!==undefined){p={type:"Path",Path:g.$Path};}else if(g.$Decimal!==undefined){p={type:"Decimal",Decimal:parseFloat(g.$Decimal)};}else if(g.$PropertyPath!==undefined){p={type:"PropertyPath",PropertyPath:g.$PropertyPath};}else if(g.$NavigationPropertyPath!==undefined){p={type:"NavigationPropertyPath",NavigationPropertyPath:g.$NavigationPropertyPath};}else if(g.$EnumMember!==undefined){p={type:"EnumMember",EnumMember:this.mapNameToAlias(g.$EnumMember.split("/")[0])+"/"+g.$EnumMember.split("/")[1]};}else if(Array.isArray(g)){k=true;var l=p;l.collection=g.map(function(s,r){return j.parseAnnotationObject(s,h+"/"+r,i);});if(g.length>0){if(g[0].hasOwnProperty("$PropertyPath")){l.collection.type="PropertyPath";}else if(g[0].hasOwnProperty("$Path")){l.collection.type="Path";}else if(g[0].hasOwnProperty("$NavigationPropertyPath")){l.collection.type="NavigationPropertyPath";}else if(g[0].hasOwnProperty("$AnnotationPath")){l.collection.type="AnnotationPath";}else if(g[0].hasOwnProperty("$Type")){l.collection.type="Record";}else if(typeof g[0]==="object"){l.collection.type="Record";}else{l.collection.type="String";}}}else{if(g.$Type){var m=g.$Type;var n=V[m.substr(0,m.lastIndexOf("."))];var o=m.substr(m.lastIndexOf(".")+1);p.type="".concat(n,".").concat(o);}var q=[];Object.keys(g).forEach(function(r){if(r!=="$Type"&&!r.startsWith("@")){q.push(j.parsePropertyValue(g[r],r,h,i));}else if(r.startsWith("@")){var s=r.split("#");var u=s[1];var v=s[0];var w=j.getOrCreateAnnotationList(h,i);w.annotations.push({term:j.mapNameToAlias(v.substr(1)),qualifier:u,value:j.parseAnnotationObject(g[r],h,i),isCollection:false});}});p.propertyValues=q;}return p;},getOrCreateAnnotationList:function(g,h){var p=h.find(function(i){return i.target===g;});if(!p){p={target:g,annotations:[]};h.push(p);}return p;},createAnnotationLists:function(m,g,h,i){var j=this;var o={target:h,annotations:[]};Object.keys(g).forEach(function(k){var l=o;var n=g[k];var p=k.split("#");var q=p[1];k=p[0];var r=k.split("@");if(r.length>2){l=j.getOrCreateAnnotationList(h+"@"+j.mapNameToAlias(r[1]),i);k=r[2];}else{k=r[1];}var s=V[k.substr(0,k.lastIndexOf("."))];var u=k.substr(k.lastIndexOf(".")+1);var v={term:"".concat(s,".").concat(u),qualifier:q};var w=h+"@"+v.term;if(q){w+="#"+q;}var x=false;if(n===null){v.value={type:"Bool",Bool:n};}else if(typeof n==="string"){v.value={type:"String",String:n};}else if(typeof n==="boolean"){v.value={type:"Bool",Bool:n};}else if(typeof n==="number"){v.value={type:"Int",Int:n};}else if(n.$Path!==undefined){v.value={type:"Path",Path:n.$Path};}else if(n.$AnnotationPath!==undefined){v.value={type:"AnnotationPath",AnnotationPath:n.$AnnotationPath};}else if(n.$Decimal!==undefined){v.value={type:"Decimal",Decimal:parseFloat(n.$Decimal)};}else if(n.$EnumMember!==undefined){v.value={type:"EnumMember",EnumMember:j.mapNameToAlias(n.$EnumMember.split("/")[0])+"/"+n.$EnumMember.split("/")[1]};}else if(Array.isArray(n)){x=true;v.collection=n.map(function(F,G){return j.parseAnnotationObject(F,w+"/"+G,i);});if(n.length>0){if(n[0].hasOwnProperty("$PropertyPath")){v.collection.type="PropertyPath";}else if(n[0].hasOwnProperty("$Path")){v.collection.type="Path";}else if(n[0].hasOwnProperty("$NavigationPropertyPath")){v.collection.type="NavigationPropertyPath";}else if(n[0].hasOwnProperty("$AnnotationPath")){v.collection.type="AnnotationPath";}else if(n[0].hasOwnProperty("$Type")){v.collection.type="Record";}else if(typeof n[0]==="object"){v.collection.type="Record";}else{v.collection.type="String";}}}else{var y={propertyValues:[]};if(n.$Type){var z=n.$Type;var B=V[z.substr(0,z.lastIndexOf("."))];var D=z.substr(z.lastIndexOf(".")+1);y.type="".concat(B,".").concat(D);}var E=[];Object.keys(n).forEach(function(F){if(F!=="$Type"&&!F.startsWith("@")){E.push(j.parsePropertyValue(n[F],F,w,i));}else if(F.startsWith("@")){i.push({target:w,annotations:[{value:j.parseAnnotationObject(n[F],w,i)}]});}});y.propertyValues=E;v.record=y;}v.isCollection=x;l.annotations.push(v);});if(o.annotations.length>0){i.push(o);}},parseProperty:function(m,g,p,h){var i=m.getObject("/".concat(g.name,"/").concat(p,"@"));var j=m.getObject("/".concat(g.name,"/").concat(p));var k={_type:"Property",name:p,fullyQualifiedName:"".concat(g.fullyQualifiedName,"/").concat(p),type:j.$Type,maxLength:j.$MaxLength,precision:j.$Precision,scale:j.$Scale,nullable:j.$Nullable,annotations:{}};this.createAnnotationLists(m,i,k.fullyQualifiedName,h);return k;},parseNavigationProperty:function(m,g,n,h){var i=m.getObject("/".concat(g.name,"/").concat(n,"@"));var j=m.getObject("/".concat(g.name,"/").concat(n));var r=[];if(j.$ReferentialConstraint){r=Object.keys(j.$ReferentialConstraint).map(function(s){return{sourceTypeName:g.name,sourceProperty:s,targetTypeName:j.$Type,targetProperty:j.$ReferentialConstraint[s]};});}var k={_type:"NavigationProperty",name:n,fullyQualifiedName:"".concat(g.fullyQualifiedName,"/").concat(n),partner:j.$Partner,isCollection:j.$isCollection?j.$isCollection:false,targetTypeName:j.$Type,referentialConstraint:r,annotations:{}};this.createAnnotationLists(m,i,k.fullyQualifiedName,h);return k;},parseEntityType:function(m,g,h,i){var j=this;var k=m.getObject("/".concat(g));var l=m.getObject("/".concat(g,"@"));var n=m.getObject("/".concat(g,"/@"));var o=m.getObject("/".concat(g,"/"));var p=o.$Key;var q={_type:"EntityType",name:g,fullyQualifiedName:k.$Type,keys:[],entityProperties:[],navigationProperties:[],annotations:{getAnnotation:function(v){return q.annotations[v];}}};var r={_type:"EntitySet",name:g,navigationPropertyBinding:{},entityType:k.$Type,fullyQualifiedName:"".concat(i,"/").concat(g)};this.createAnnotationLists(m,n,q.fullyQualifiedName,h);this.createAnnotationLists(m,l,r.fullyQualifiedName,h);var s=Object.keys(o).filter(function(v){if(v!="$Key"&&v!="$kind"){return o[v].$kind==="Property";}}).map(function(v){return j.parseProperty(m,q,v,h);});var u=Object.keys(o).filter(function(v){if(v!="$Key"&&v!="$kind"){return o[v].$kind==="NavigationProperty";}}).map(function(v){return j.parseNavigationProperty(m,q,v,h);});q.keys=p.map(function(v){return s.find(function(w){return w.name===v;});});q.entityProperties=s;q.navigationProperties=u;return{entityType:q,entitySet:r};},parseAction:function(g,h,n){var i="";var j="".concat(g);if(h.$IsBound){i=h.$Parameter.filter(function(k){return k.$Name===h.$EntitySetPath;}).map(function(k){return k.$Type;}).join("");j="".concat(g,"(").concat(i,")");}var p=h.$Parameter||[];return{_type:"Action",name:g.substr(n.length+1),fullyQualifiedName:j,isBound:h.$IsBound,sourceType:i,returnType:h.$ReturnType?h.$ReturnType.$Type:"",parameters:p.map(function(k){return{_type:"ActionParameter",isEntitySet:k.$Type===h.$EntitySetPath,fullyQualifiedName:"".concat(j,"/").concat(k.$Name),type:k.$Type};})};},parseEntityTypes:function(m){var g=this;var o=m.getObject("/$");var E=m.getObject("/");var h=[];var i=[];var j=[];var k=o.$EntityContainer;Object.keys(E).filter(function(r){return r!=="$kind"&&E[r].$kind==="EntitySet";}).forEach(function(r){var v=g.parseEntityType(m,r,h,k),w=v.entityType,x=v.entitySet;i.push(w);j.push(x);});j.forEach(function(r){var v=o[k][r.name].$NavigationPropertyBinding;if(v){Object.keys(v).forEach(function(w){var x=j.find(function(y){return y.name===v[w];});if(x){r.navigationPropertyBinding[w]=x;}});}});var u=function(r){if(!r){return r;}var v=r.split("."),w=a(v,2),x=w[0],y=w[1];var n=Object.keys(V).find(function(G){return V[G]===x;});if(n){return"".concat(n,".").concat(y);}else{if(r.indexOf("@")!==-1){var z=r.split("@"),B=a(z,2),D=B[0],F=B[1];return"".concat(D,"@").concat(u(F));}else{return r;}}};var n="";var s=Object.keys(o).filter(function(r){return o[r].$kind==="Schema";});if(s&&s.length>0){n=s[0].substr(0,s[0].length-1);}else if(i&&i.length){n=i[0].fullyQualifiedName.replace(i[0].name,"");n=n.substr(0,n.length-1);}var l=Object.keys(o).filter(function(r){return Array.isArray(o[r])&&o[r].length>0&&o[r][0].$kind==="Action";}).reduce(function(r,v){var l=o[v];l.forEach(function(w){r.push(g.parseAction(v,w,n));});return r;},[]);var p=o.$Annotations;var q=Object.keys(p).filter(function(r){return r.indexOf("(")!==-1;});q.forEach(function(r){g.createAnnotationLists(m,o.$Annotations[r],r,h);});return{identification:"metamodelResult",version:"4.0",schema:{entityContainer:{},entitySets:j,entityTypes:i,associations:[],actions:l,namespace:n,annotations:{"metamodelResult":h}},references:[],unalias:u};},convertTypes:function(m){var p=this.parseEntityTypes(m);return A.convertTypes(p);},convertPage:function(s,m,o){var g=this.convertTypes(m);var E=o.entitySet;var h=g.schema.entitySets.find(function(j){return j.name===E;});if(h){var i=m.createBindingContext("/"+E);return _({},E,t[s].convertPage(h,i,o,g.unalias));}}};return M;});
sap.ui.predefine("sap/fe/core/converters/common/AnnotationConverter",[],function(){"use strict";
function _(n,i){return e(n)||d(n,i)||b(n,i)||a();}
function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}
function b(o,i){if(!o)return;if(typeof o==="string")return c(o,i);var n=Object.prototype.toString.call(o).slice(8,-1);if(n==="Object"&&o.constructor)n=o.constructor.name;if(n==="Map"||n==="Set")return Array.from(n);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(o,i);}
function c(n,o){if(o==null||o>n.length)o=n.length;for(var i=0,v=new Array(o);i<o;i++){v[i]=n[i];}return v;}
function d(n,i){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(n)))return;var o=[];var v=true;var w=false;var x=undefined;try{for(var y=n[Symbol.iterator](),z;!(v=(z=y.next()).done);v=true){o.push(z.value);if(i&&o.length===i)break;}}catch(B){w=true;x=B;}finally{try{if(!v&&y["return"]!=null)y["return"]();}finally{if(w)throw x;}}return o;}
function e(i){if(Array.isArray(i))return i;}
function f(i,C){if(!(i instanceof C)){throw new TypeError("Cannot call a class as a function");}}
var P=function P(i,n){f(this,P);this.path=i.Path;this.type="Path";this.$target=n;};
function g(i){var o={};if(i.schema.entityContainer&&i.schema.entityContainer.fullyQualifiedName){o[i.schema.entityContainer.fullyQualifiedName]=i.schema.entityContainer;}i.schema.entitySets.forEach(function(n){o[n.fullyQualifiedName]=n;});i.schema.actions.forEach(function(n){o[n.fullyQualifiedName]=n;n.parameters.forEach(function(v){o[v.fullyQualifiedName]=v;});});i.schema.entityTypes.forEach(function(n){o[n.fullyQualifiedName]=n;n.entityProperties.forEach(function(v){o[v.fullyQualifiedName]=v;});n.navigationProperties.forEach(function(v){o[v.fullyQualifiedName]=v;});});Object.keys(i.schema.annotations).forEach(function(n){i.schema.annotations[n].forEach(function(v){var w=i.unalias(v.target);v.annotations.forEach(function(x){var y="".concat(w,"@").concat(i.unalias(x.term));if(x.qualifier){y+="#".concat(x.qualifier);}o[y]=x;x.fullyQualifiedName=y;});});});return o;}
function h(i,n){if(n.startsWith("@")){return i+n;}else{return i+"/"+n;}}
function r(o,i,n){var v=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;n=h(i.fullyQualifiedName,n);var w=n.split("/");var x=n;var y=w.reduce(function(z,B){if(!z){x=B;}else if(z._type==="EntitySet"&&z.entityType){x=h(z.entityType,B);}else if(z._type==="NavigationProperty"&&z.targetTypeName){x=h(z.targetTypeName,B);}else if(z._type==="NavigationProperty"&&z.targetType){x=h(z.targetType.fullyQualifiedName,B);}else if(z._type==="Property"){x=h(i.fullyQualifiedName.substr(0,i.fullyQualifiedName.lastIndexOf("/")),B);}else if(z._type==="Action"&&z.isBound){x=h(z.fullyQualifiedName,B);if(!o[x]){x=h(z.sourceType,B);}}else if(z._type==="ActionParameter"&&z.isEntitySet){x=h(z.type,B);}else if(z._type==="ActionParameter"&&!z.isEntitySet){x=h(i.fullyQualifiedName.substr(0,i.fullyQualifiedName.lastIndexOf("/")),B);if(!o[x]){var C=i.fullyQualifiedName.lastIndexOf("/");if(C===-1){C=i.fullyQualifiedName.length;}x=h(o[i.fullyQualifiedName.substr(0,C)].sourceType,B);}}else{x=h(z.fullyQualifiedName,B);}return o[x];},null);if(!y){}if(v){return x;}return y;}
function p(i,n,o,v,w){if(i===undefined){return undefined;}switch(i.type){case"String":return i.String;case"Int":return i.Int;case"Bool":return i.Bool;case"Decimal":return i.Decimal;case"Date":return i.Date;case"EnumMember":return i.EnumMember;case"PropertyPath":return{type:"PropertyPath",value:i.PropertyPath,$target:r(v,o,i.PropertyPath)};case"NavigationPropertyPath":return{type:"NavigationPropertyPath",value:i.NavigationPropertyPath,$target:r(v,o,i.NavigationPropertyPath)};case"AnnotationPath":var x=r(v,o,n.unalias(i.AnnotationPath),true);var y={type:"AnnotationPath",value:i.AnnotationPath,$target:x};w.push(y);return y;case"Path":var $=r(v,o,i.Path,true);var z=new P(i,$);w.push(z);return z;case"Record":return j(i.Record,n,o,v,w);case"Collection":return k(i.Collection,n,o,v,w);case"Apply":return i;}}
function j(i,n,o,v,w){var x={$Type:n.unalias(i.type)};var y={};i.propertyValues.forEach(function(z){y[z.name]=p(z.value,n,o,v,w);});return Object.assign(x,y);}
function k(i,n,o,v,w){switch(i.type){case"PropertyPath":return i.map(function(x){return{type:"PropertyPath",value:x.PropertyPath,$target:r(v,o,x.PropertyPath)};});case"Path":return i.map(function(x){var $=r(v,o,x.Path,true);var y=new P(x,$);w.push(y);return y;});case"AnnotationPath":return i.map(function(x){var y=r(v,o,x.AnnotationPath,true);var z={type:"AnnotationPath",value:x.AnnotationPath,$target:y};w.push(z);return z;});case"NavigationPropertyPath":return i.map(function(x){return{type:"NavigationPropertyPath",value:x.NavigationPropertyPath,$target:r(v,o,x.NavigationPropertyPath)};});case"Record":return i.map(function(x){return j(x,n,o,v,w);});case"String":return i.map(function(x){return x;});default:if(i.length===0){return[];}throw new Error("Unsupported case");}}
function l(i,n,o,v,w){if(i.record){var x={$Type:n.unalias(i.record.type),fullyQualifiedName:i.fullyQualifiedName,qualifier:i.qualifier};var y={};i.record.propertyValues.forEach(function(B){y[B.name]=p(B.value,n,o,v,w);});return Object.assign(x,y);}else if(!i.isCollection){if(i.value){return p(i.value,n,o,v,w);}else{return true;}}else if(i.collection){var z=k(i.collection,n,o,v,w);z.fullyQualifiedName=i.fullyQualifiedName;return z;}else{throw new Error("Unsupported case");}}
function m(i,o){return function(n){return r(o,i,n);};}
function q(i,o){i.schema.entityTypes.forEach(function(n){n.navigationProperties.forEach(function(v){if(v.targetTypeName){v.targetType=o[v.targetTypeName];}else if(v.relationship){var w=i.schema.associations.find(function(y){return y.fullyQualifiedName===v.relationship;});if(w){var x=w.associationEnd.find(function(y){return y.role===v.toRole;});if(x){v.targetType=o[x.type];}}}});n.resolvePath=m(n,o);});}
function s(i,o){i.schema.actions.forEach(function(n){if(n.isBound){var v=o[n.sourceType];n.sourceEntityType=v;if(v){if(!v.actions){v.actions={};}v.actions[n.name]=n;v.actions["".concat(i.schema.namespace,".").concat(n.name)]=n;}var w=o[n.returnType];n.returnEntityType=w;}});}
function t(i,o){i.schema.entitySets.forEach(function(n){n.entityTypeInstance=o[n.entityType];});}
function u(i){var o=g(i);q(i,o);s(i,o);t(i,o);var n=[];var v=[];Object.keys(i.schema.annotations).forEach(function(w){i.schema.annotations[w].forEach(function(x){var y=i.unalias(x.target);var z=o[y];if(!z){if(y.indexOf("@")!==-1){v.push(x);}}else{if(!z.annotations){z.annotations={};}x.annotations.forEach(function(B){var C=B.term.split("."),D=_(C,2),E=D[0],F=D[1];if(!z.annotations[E]){z.annotations[E]={};}if(!z.annotations._annotations){z.annotations._annotations={};}var G="".concat(F).concat(B.qualifier?"#".concat(B.qualifier):"");z.annotations[E][G]=l(B,i,z,o,n);if(z.annotations[E][G]!==null&&typeof z.annotations[E][G]==="object"){z.annotations[E][G].term=i.unalias("".concat(E,".").concat(F));z.annotations[E][G].qualifier=B.qualifier;}z.annotations._annotations["".concat(E,".").concat(G)]=z.annotations[E][G];o["".concat(y,"@").concat(i.unalias(E+"."+G))]=z.annotations[E][G];});}});});v.forEach(function(w){var x=i.unalias(w.target);var y=x.split("@"),z=_(y,2),B=z[0],C=z[1];var D=C.split("/");B=B+"@"+D[0];var E=D.slice(1).reduce(function(F,G){if(!F){return null;}return F[G];},o[B]);if(!E){}else{if(!E.annotations){E.annotations={};}w.annotations.forEach(function(F){var G=F.term.split("."),H=_(G,2),I=H[0],J=H[1];if(!E.annotations[I]){E.annotations[I]={};}if(!E.annotations._annotations){E.annotations._annotations={};}var K="".concat(J).concat(F.qualifier?"#".concat(F.qualifier):"");E.annotations[I][K]=l(F,i,E,o,n);if(E.annotations[I][K]!==null&&typeof E.annotations[I][K]==="object"){E.annotations[I][K].term=i.unalias("".concat(I,".").concat(J));E.annotations[I][K].qualifier=F.qualifier;}E.annotations._annotations["".concat(I,".").concat(K)]=E.annotations[I][K];o["".concat(x,"@").concat(i.unalias(I+"."+K))]=E.annotations[I][K];});}});n.forEach(function(w){var x=w.$target;w.$target=o[x];});return i;}
var A={convertTypes:u};return A;});
sap.ui.predefine('sap/fe/core/converters/controls/ChartConverter',["./CommonConverter","sap/fe/core/helpers/StableIdHelper"],function(C,S){"use strict";var _={};var g=C.getPVisualizationP13nMode;var a=C.getNavigationProperties;
function b(c){var e=c.entityType,v=c.visualizationPath,n=a(v,e),d=e.name,i=!n.property,f=n.property,h=f?f:e.name;return{id:S.generate(["fe","Chart",h,v]),collection:"/"+d+(!i?"/"+f:""),entityName:d,p13nMode:g(c),navigationPath:f};}
_.getChartProperties=b;return _;});
sap.ui.predefine('sap/fe/core/converters/controls/CommonConverter',[],function(){"use strict";var _={};
function g(e,f){var h=f.name;var n=e.replace("/"+h+"/","").replace(/\/?@.*/,"");return{property:n,prefix:n?n+"/":""};}
_.getNavigationProperties=g;
function a(r){var l=r.lastIndexOf(".");return r.substr(l+1);}
_.getOnlyAnnotation=a;
function b(e,f){var t=e.substr(0,e.indexOf("@"));var h=f.fullyQualifiedName;if(t===h){return e.replace(h,"/"+f.name+"/");}else{var i=f.navigationProperties.findIndex(function(x){return x.targetTypeName===t;});var n=f.navigationProperties[i];return"/"+f.name+"/"+e.replace(n.targetTypeName,n.name+"/");}}
_.getTemplateAnnotationPath=b;
function c(e){var f,h,i;var v=e.visualizationPath,m=e.manifestSettings;var j=v.indexOf("@com.sap.vocabularies.UI.v1.LineItem")>-1;var k=!!(m.variantManagement&&["Page","Control"].indexOf(m.variantManagement)>-1);var p=true,P=[];if(((f=m.controlConfiguration)===null||f===void 0?void 0:(h=f[v])===null||h===void 0?void 0:(i=h.tableSettings)===null||i===void 0?void 0:i.personalization)!==undefined){p=m.controlConfiguration[v].tableSettings.personalization;}if(k&&p){if(p===true){return j?"Sort,Column":"Sort,Type,Item";}else if(typeof p==="object"){if(j&&p.column){P.push("Column");}if(!j&&p.type){P.push("Type");}if(p.sort){P.push("Sort");}return P.join(",");}}return undefined;}
_.getPVisualizationP13nMode=c;
function d(n,e){var t=e.resolvePath(n);if(t._type==="NavigationProperty"){return t.targetType;}else{return e.navigationProperties[e.navigationProperties.findIndex(function(x){return x.name===n;})].targetType;}}
_.getTargetEntityType=d;return _;});
sap.ui.predefine('sap/fe/core/converters/controls/PresentationConverter',["././TableConverter","././ChartConverter","./CommonConverter"],function(T,C,a){"use strict";var _={};var g=a.getTemplateAnnotationPath;var b=a.getOnlyAnnotation;var c=a.getNavigationProperties;var d=a.getTargetEntityType;var e=C.getChartProperties;var f=T.getTableManifestConfiguration;var h=T.getTableAnnotationConfiguration;var j=T.getTableActionsConfiguration;
function o(i,p){var q=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);if(p)s=s.filter(function(r){return Object.getOwnPropertyDescriptor(i,r).enumerable;});q.push.apply(q,s);}return q;}
function k(t){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};if(i%2){o(Object(s),true).forEach(function(p){l(t,p,s[p]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(s));}else{o(Object(s)).forEach(function(p){Object.defineProperty(t,p,Object.getOwnPropertyDescriptor(s,p));});}}return t;}
function l(i,p,v){if(p in i){Object.defineProperty(i,p,{value:v,enumerable:true,configurable:true,writable:true});}else{i[p]=v;}return i;}
var m=function(i,s){var p,q,r;var t=i.entityType;var u=[];var S={};s===null||s===void 0?void 0:s.forEach(function(v){v.propertyNames.forEach(function(w){if(!S[w]){S[w]=true;}});});(p=t.annotations)===null||p===void 0?void 0:(q=p.UI)===null||q===void 0?void 0:(r=q.SelectionFields)===null||r===void 0?void 0:r.forEach(function(v,w){var x=v.value;if(!S[x]){u.push({readablePath:x,templatingPath:"/"+t.name+"/@com.sap.vocabularies.UI.v1.SelectionFields/"+w+"/$PropertyPath"});}});return u;};
function n(p,q){var r;var s=p.entityType,t=p.manifestSettings;var u=q;var v={};var w=c(q,s);var x=w.prefix+"@com.sap.vocabularies.UI.v1.LineItem";var y="",z="";var E=w.property?d(w.property,s):s;var A=[],B=[],D=false;var F=(r=E.annotations)===null||r===void 0?void 0:r.getAnnotation("UI")[b(u)];if(F&&F.$Type==="com.sap.vocabularies.UI.v1.PresentationVariantType"){var G=F.Visualizations;if(G){for(var i=0;i<G.length;i++){var H=G[i].value;var I=w.prefix+H;if(H&&H.indexOf("@com.sap.vocabularies.UI.v1.LineItem")>-1&&!y){A.push(I);D=true;v.annotationPath=g(F.fullyQualifiedName,s);y=I;}else if(H&&H.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1&&sap.ui.Device&&sap.ui.Device.system.desktop&&!w.property&&!z){A.push(I);z=I;}if(y&&z){i=G.length;}}}if(!D){y=x;A=[x];u=x;}}else{y=u.indexOf("@com.sap.vocabularies.UI.v1.LineItem")>-1?u:x;A=[y];}if(D&&F.MaxItems){v.threshold=F.MaxItems;}else{v.threshold=w.property?10:30;}v.visualizationPaths=[];A.forEach(function(I){var Q;var R=(Q=E.annotations)===null||Q===void 0?void 0:Q.getAnnotation("UI")[b(I)];if(R){var S="/"+s.name+"/"+I;v.visualizationPaths.push(S);}});if(!v.annotationPath){v.annotationPath=v.visualizationPaths[0];}if(t.controlConfiguration){var J,K,L,M;(J=t.controlConfiguration[y])===null||J===void 0?void 0:(K=J.tableSettings)===null||K===void 0?void 0:(L=K.quickVariantSelection)===null||L===void 0?void 0:(M=L.paths)===null||M===void 0?void 0:M.forEach(function(Q){var R;var S=(R=E.annotations)===null||R===void 0?void 0:R.getAnnotation("UI")[b(Q.annotationPath)];if(S){var U;var V=[];(U=S.SelectOptions)===null||U===void 0?void 0:U.forEach(function(W){var X=W.PropertyName;var Y=X.value;if(V.indexOf(Y)===-1){V.push(Y);}});B.push({text:S.Text,key:Q.annotationPath,propertyNames:V});}});}var N=k({},v,{},{selectionFields:w.property?undefined:m(p,B),lineItemPath:y,entityName:s.name,targetEntityName:E.name,quickVariantSelection:B});var O=k({},{visualizationPath:y},{},p);var P={annotation:h(O),control:f(O),actions:j(y,s,t)};N=k({},N,{},{tableConfiguration:P});if(z&&D){O.visualizationPath=z;N.chartConfiguration=e(O);}return N;}
_.getPresentation=n;return _;});
sap.ui.predefine('sap/fe/core/converters/controls/TableConverter',["sap/fe/core/helpers/StableIdHelper","../ManifestSettings","./CommonConverter"],function(S,M,C){"use strict";var _={};var g=C.getPVisualizationP13nMode;var a=C.getOnlyAnnotation;var b=C.getTargetEntityType;var c=C.getNavigationProperties;var A=M.ActionType;var d=function(t){var n,o,p,q,r,s;var u=t.entityType,v=t.entitySet;var w=i(t),x=w.name?w.name:u.name,y=(n=v.annotations)===null||n===void 0?void 0:(o=n.Capabilities)===null||o===void 0?void 0:(p=o.NavigationRestrictions)===null||p===void 0?void 0:p.RestrictedProperties,z=((q=w.entitySet.annotations)===null||q===void 0?void 0:(r=q.Capabilities)===null||r===void 0?void 0:(s=r.DeleteRestrictions)===null||s===void 0?void 0:s.Deletable)!==false;if(y){var B=y.find(function(D){return D.NavigationProperty.value===x&&D.DeleteRestrictions;});if(B&&B.DeleteRestrictions){return B.DeleteRestrictions.Deletable;}}return"{= "+(z!==false)+" && ${ui>/editMode} === 'Editable'}";};var e=function(t){var n=t.entityType,o=t.manifestSettings;var p=i(t);var q=p.name;var r=q?q:n.name;var s=undefined,u;if(o.navigation){var v=o.navigation[r];if(v){var w,x,y;u=(w=v.display)===null||w===void 0?void 0:w.target;if(u){s=".handlers.onChevronPressNavigateOutBound( $controller ,'"+u+"', ${$parameters>bindingContext})";}else if(u=(x=v.detail)===null||x===void 0?void 0:x.outbound){s=".handlers.onChevronPressNavigateOutBound( $controller ,'"+u+"', ${$parameters>bindingContext})";}else if(u=(y=v.detail)===null||y===void 0?void 0:y.route){var z=n.name===r?n:b(r,n);if(z){var B,D;var E=p.entitySet.annotations;s=".routing.navigateForwardToContext(${$parameters>bindingContext}, { targetPath: '"+r+"', editable : "+((E===null||E===void 0?void 0:(B=E.Common)===null||B===void 0?void 0:B.DraftRoot)||(E===null||E===void 0?void 0:(D=E.Common)===null||D===void 0?void 0:D.DraftNode)?"!${$parameters>bindingContext}.getProperty('IsActiveEntity')":"undefined")+"})";}}}}return{press:s,action:s?"Navigation":undefined};};var f=function(t){var n,o,p,q,r,s,u;var v=t.entityType,w=t.manifestSettings,x=t.visualizationPath,y=((n=w.controlConfiguration)===null||n===void 0?void 0:(o=n[x])===null||o===void 0?void 0:(p=o.tableSettings)===null||p===void 0?void 0:p.selectionMode)||"Multi",z=i(t),B=z.name?b(z.name,v):v,D=(q=B.annotations)===null||q===void 0?void 0:q.getAnnotation("UI")[a(x)],E=!(((r=z.entitySet.annotations)===null||r===void 0?void 0:(s=r.Capabilities)===null||s===void 0?void 0:(u=s.DeleteRestrictions)===null||u===void 0?void 0:u.Deletable)===false);if(D){var F=D.find(function(G){var H;return(G.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"||G.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&G.RequiresContext&&(G.RequiresContext===true||G.RequiresContext.Bool==="true"))&&!(G.Inline&&((H=G.Inline)===null||H===void 0?void 0:H.Bool)!=="true");});if(F){return y;}else if(E){if(z.name){return"{= ${ui>/editMode} === 'Editable' ? '"+y+"' : 'None'}";}else{return y;}}}return"None";};var h=function(t){var n;var o=t.manifestSettings,v=t.visualizationPath;return o.controlConfiguration?(n=o.controlConfiguration[v])===null||n===void 0?void 0:n.tableSettings:undefined;};var i=function(t){var n=t.entityType,o=t.entitySet,v=t.visualizationPath;var p=c(v,n);var q=p.property;var r;if(!q){r=o;}else{r=q.split("/").reduce(function(s,u){return s.navigationPropertyBinding[u];},o);}return{entitySet:r,name:q};};var j=function(n){var t={};for(var o in n){var p=n[o];var q=p.press.lastIndexOf(".");var r={controlId:!p.id?o:p.id,visible:p.visible===undefined?"true":p.visible,enabled:p.enabled===undefined?"true":p.enabled,handlerModule:p.press.substring(0,q).replace(/\./gi,"/"),handlerMethod:p.press.substring(q+1),press:p.press,type:A.Default,text:p.text};t[o]=r;}return t;};
function k(t){var n=t.entityType,o=t.manifestSettings,v=t.visualizationPath,p=c(v,n),q=n.name,r=!p.property,s=p.property,u=s?s:n.name,w=g(t),x=S.generate(["fe","table",u,v.replace(u+"/","")]);return{id:x,collection:"/"+q+(!r?"/"+s:""),navigationPath:s,navigationOrCollectionName:u,row:e(t),isEntitySet:r,editMode:r?"Display":"{ui>/editMode}",createMode:r?"false":"{localUI>/createMode}",busy:r?"{ui>/busy}":"{ui>/busyLocal/"+x+"}",p13nMode:w,show:{delete:r?undefined:d(t),create:r?undefined:"{= ${ui>/editMode} === 'Editable'}"},selectionMode:f(t),autoBindOnInit:!!!r,enableControlVM:o.variantManagement==="Control"?w:undefined,filterId:r?S.generate(["fe","FilterBar",q]):undefined};}
_.getTableAnnotationConfiguration=k;
function l(t){var n=h(t);if(n){var o,p,q;var r=JSON.stringify(n.quickVariantSelection);return{quickFilter:r,type:n.type,headerVisible:r&&n.quickVariantSelection.hideTableTitle===true?false:true,enableExport:n.enableExport,creationMode:(o=n.creationMode)===null||o===void 0?void 0:o.name,createAtEnd:(p=n.creationMode)===null||p===void 0?void 0:p.createAtEnd,disableAddRowButtonForEmptyData:(q=n.creationMode)===null||q===void 0?void 0:q.disableAddRowButtonForEmptyData};}else{return undefined;}}
_.getTableManifestConfiguration=l;
function m(v,n,o){var p;var q=o.controlConfiguration?(p=o.controlConfiguration[v])===null||p===void 0?void 0:p.actions:undefined;return j(q);}
_.getTableActionsConfiguration=m;return _;});
sap.ui.predefine('sap/fe/core/converters/templates/ListReportConverter',["../controls/PresentationConverter"],function(P){"use strict";var g=P.getPresentation;return{convertPage:function(e,m,M,u){var _,a;var b=e.entityTypeInstance;var c={entitySet:e,entityType:b,manifestSettings:M};var p=((_=b.annotations)===null||_===void 0?void 0:(a=_.UI)===null||a===void 0?void 0:a.PresentationVariant)?"@com.sap.vocabularies.UI.v1.PresentationVariant":"@com.sap.vocabularies.UI.v1.LineItem";var d=g(c,p);return{presentation:d};}};});
sap.ui.predefine('sap/fe/core/converters/templates/ObjectPageConverter',["sap/fe/core/helpers/StableIdHelper","sap/ui/model/odata/v4/AnnotationHelper","../ManifestSettings","../controls/PresentationConverter","../ConverterUtil"],function(S,A,M,P,C){"use strict";var g=P.getPresentation;var a=M.ActionType;var b=M.SectionType;var c=M.Placement;var F=M.FeFacetType;
function o(i,u){var v=Object.keys(i);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(i);if(u)w=w.filter(function(x){return Object.getOwnPropertyDescriptor(i,x).enumerable;});v.push.apply(v,w);}return v;}
function _(u){for(var i=1;i<arguments.length;i++){var v=arguments[i]!=null?arguments[i]:{};if(i%2){o(Object(v),true).forEach(function(w){d(u,w,v[w]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(u,Object.getOwnPropertyDescriptors(v));}else{o(Object(v)).forEach(function(w){Object.defineProperty(u,w,Object.getOwnPropertyDescriptor(v,w));});}}return u;}
function d(i,u,v){if(u in i){Object.defineProperty(i,u,{value:v,enumerable:true,configurable:true,writable:true});}else{i[u]=v;}return i;}
var e=function(i,u,v,w,x){var y,z,B,D;var E=i.entityType,G=i.manifestSettings;var H="/"+E.name,I={type:v,annotationPath:H+"/@"+u};switch(v){case F.Form:I=_({},I,{},{id:k([],w,u),entitySet:"/"+E.name,useFormContainerLabels:!!(x&&x.Facets),hasFacetsNotPartOfPreview:x&&x.Facets?x.Facets.some(function(K){var L,N;return((L=K.annotations)===null||L===void 0?void 0:(N=L.UI)===null||N===void 0?void 0:N.PartOfPreview)===false;}):false,hidden:false});break;case F.Table:I=_({},I,{},{presentation:g(i,w.Target.value)});break;case F.HeaderContact:var J=w;I=_({},I,{},{contact:I.annotationPath+"/Target/$AnnotationPath",text:(y=J.Target.$target.fn)===null||y===void 0?void 0:(z=y.$target)===null||z===void 0?void 0:(B=z.annotations)===null||B===void 0?void 0:(D=B.Common)===null||D===void 0?void 0:D.Label});break;case F.Contact:I=_({},I,{},{text:"For Contacts Fragment"});break;case F.Chart:I=_({},I,{},{text:"For Chart Fragment"});break;}return I;};var f=function(i,u,v){var w=i.entityType;var x=[];var y=function(z){var B=j(w,u,z);if(B.length>0){x=x.concat(B);}};if(v.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"&&v.Facets){v.Facets.forEach(function(z){y(z);});}else{y(v);}return x;};var h=function(i,u,v){if(!i){return v;}else if(s(i)){return A.format({$Path:i.path},{context:u});}else{return A.format(i,{context:u});}};var j=function(i,u,v){var w=v;var x=w.Target.value;var y=[];if(x&&/.*com\.sap\.vocabularies\.UI\.v1\.(Identification#|FieldGroup|StatusInfo).*/.test(x)){var z=w.Target.$target;if(z){var B=z.Data?z.Data:z;B.forEach(function(D){if(D.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){y.push({id:S.generate(["fe","Form",{Facet:w},D]),type:a.DataFieldForIntentBasedNavigation,text:D.Label,visible:D.RequiresContext?"true":"{= ${localUI>/IBNActions/"+D.SemanticObject+"-"+D.Action+"} === undefined ? false : ${localUI>/IBNActions/"+D.SemanticObject+"-"+D.Action+"} }",press:".handlers.onDataFieldForIntentBasedNavigation($controller, '"+D.SemanticObject+"','"+D.Action+"', '"+JSON.stringify(D.Mapping)+"', undefined ,"+D.RequiresContext+")"});}else if(D.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){var E,G,H;var I=i.actions[D.Action];var J=(E=D.annotations)===null||E===void 0?void 0:(G=E.UI)===null||G===void 0?void 0:(H=G.Hidden)===null||H===void 0?void 0:H.path;var K=function(){var L,N;if(I.isBound!==true){return"true";}var O=(L=I.annotations)===null||L===void 0?void 0:(N=L.Core)===null||N===void 0?void 0:N.OperationAvailable;if(O){var Q=h(O,u);if(Q){var R,T;var U=(R=I.parameters)===null||R===void 0?void 0:(T=R[0])===null||T===void 0?void 0:T.fullyQualifiedName;if(U){U=U.replace(I.fullyQualifiedName+"/","");Q=Q.replace(U+"/","");}return Q;}return"true";}return"true";};y.push({id:S.generate(["fe","Form",{Facet:w},D]),enabled:K(),type:a.DataFieldForAction,text:D.Label,visible:J?"{= !%{"+J+"}}":"true",press:".editFlow.onCallAction('"+D.Action+"', { contexts: ${$view>/#fe::ObjectPage/}.getBindingContext(), invocationGrouping : '"+(D.InvocationGrouping==="UI.OperationGroupingType/ChangeSet"?"ChangeSet":"Isolated")+"', label: '"+D.Label+"', model: ${$source>/}.getModel()})"});}});}}return y;};var k=function(i,u,v){var w=i.concat();if(u.ID){w.push(u.ID);}else{switch(u.$Type){case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":w.push(v);break;case"com.sap.vocabularies.UI.v1.ReferenceFacet":w.push(u.Target.value);break;case"com.sap.vocabularies.UI.v1.CollectionFacet":w.push(v);break;}}return S.generate(w);};var l=function(i,u){var v,w;return((v=i.ID)===null||v===void 0?void 0:v.toString())||((w=i.Label)===null||w===void 0?void 0:w.toString())||u;};var m=function(i,u,v){var w=i.entityType;var x=function(z,B){var D,E;var G=[];if(((D=B.annotations)===null||D===void 0?void 0:(E=D.UI)===null||E===void 0?void 0:E.Hidden)!==true){switch(B.$Type){case"com.sap.vocabularies.UI.v1.CollectionFacet":G.push(e(i,"".concat(z),F.Form,B,u));break;case"com.sap.vocabularies.UI.v1.ReferenceFacet":var H=B.Target.value;var I=w.resolvePath(H);if(r(B)){G.push(e(i,z,F.Form,B,u));}else{var J=I!==undefined&&/.*com\.sap\.vocabularies\.UI\.v1\.(LineItem|Presentation).*/.test(H);if(J){G.push(e(i,z,F.Table,B));}else if(H.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){G.push(e(i,z,F.Contact,B));}else if(H.indexOf("com.sap.vocabularies.Communication.v1.Chart")>-1){G.push(e(i,z,F.Chart,B));}}break;case"com.sap.vocabularies.UI.v1.ReferenceURLFacet":break;}}return G;};if(u.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"&&!u.Facets.every(r)){var y=[];u.Facets.forEach(function(z,B){y=y.concat(x("".concat(v,"/Facets/").concat(B),z));});return y;}else{return x(v,u);}};var n=function(i,u,v){var w=[];var x=function(z,B,D){var E,G;if(((E=z.annotations)===null||E===void 0?void 0:(G=E.UI)===null||G===void 0?void 0:G.Hidden)!==true){var H=z.Target.$target.$Type==="com.sap.vocabularies.Communication.v1.ContactType"?F.HeaderContact:F.Form;w.push(e(i,B,H,z,D));}};if(u.Facets){var y;(y=u.Facets)===null||y===void 0?void 0:y.forEach(function(z,B){x(z,"".concat(v,"/Facets/").concat(B),u);});}else{x(u,v);}return w;};var p=function(i,u,v){if(!i){return v;}var w=h(i,u,v);return"{= !$".concat(w,"}");};var q=function(i,u,v,w,x){var y,z;var B={id:k(w,u,x),title:h(u.Label,v),visible:p((y=u.annotations)===null||y===void 0?void 0:(z=y.UI)===null||z===void 0?void 0:z.Hidden,v,true),subSections:{},facetType:u.$Type,type:b.Annotation};B.showTitle=B.title!==undefined;var D=function(H,I,J,K){var L="FacetSubSection";var N={type:b.Annotation,visible:K.visible};var O=m(i,H,I);return _({},{title:J,id:k(["fe",L],H,I),facets:O,moreFacets:O.filter(function(u){return u.type==="Form"&&u.hasFacetsNotPartOfPreview;}),actions:f(i,v,H)},{},N);};if(u.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"&&u.Facets.find(function(u){return u.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet";})){var E,G;u.Facets.forEach(function(H,I){G=D(H,"".concat(x,"/Facets/").concat(I),h(H.Label,v),B);if(E!==undefined){G.position={anchor:E,placement:c.After};}E=l(H,I.toString());B.subSections[E]=G;});}else{B.subSections[l(u,k(["fe","Section"],u,x))]=D(u,x,B.title,B);}return B;};var r=function(i){return i.Target&&/.*com\.sap\.vocabularies\.UI\.v1\.(FieldGroup|Identification|DataPoint|StatusInfo).*/.test(i.Target.value);};var s=function(i){return i.type!==undefined&&i.type==="Path";};var t=function(i,u){if(!i){throw new Error("undefined section");}if(i.visible===undefined||i.visible===null){i.visible=true;}i.showTitle=i.title!==undefined;if(!i.type){i.type=b.Default;}if((i.type===b.XMLFragment||i.type===b.Default)&&(!i.subSections||!Object.keys(i.subSections).length)){i.subSections={"default":_({},i,{},{visible:true,showTitle:false,position:undefined,id:S.generate(["fe","CustomSubSection",u])})};}return i;};return{convertPage:function(i,u,v,w){var x,y,z;var B={};var D=i.entityTypeInstance;var E={entitySet:i,entityType:D,manifestSettings:v};var G={};var H;var I=[];if(v.editableHeaderContent){var J,K,L;(J=D.annotations)===null||J===void 0?void 0:(K=J.UI)===null||K===void 0?void 0:(L=K.HeaderFacets)===null||L===void 0?void 0:L.forEach(function(W,X){var Y=n(E,W,"".concat(w("UI.HeaderFacets"),"/").concat(X));if(Y.length>0){I=I.concat(Y);}});if(I.length>0){G.headerSection={subSection:{facets:I}};}}(x=D.annotations)===null||x===void 0?void 0:(y=x.UI)===null||y===void 0?void 0:(z=y.Facets)===null||z===void 0?void 0:z.forEach(function(W,X){var Y=q(E,W,u,["fe","FacetSection"],"".concat(w("UI.Facets"),"/").concat(X));if(H!=null){Y.position={anchor:H,placement:c.After};}H=l(W,X.toString());B[H]=Y;});for(var N in(O=v.content)===null||O===void 0?void 0:(Q=O.body)===null||Q===void 0?void 0:Q.sections){var O,Q,R,T;var U=(R=v.content)===null||R===void 0?void 0:(T=R.body)===null||T===void 0?void 0:T.sections[N];B[N]=t(_({},{id:S.generate(["fe","CustomSection",N])},{},B[N],{},U),N);}var V=C.orderByPosition(B).filter(function(W){return W.visible;}).map(function(W){W.subSections=C.orderByPosition(W.subSections);return W;});return _({},{sections:V},{},G);}};});
sap.ui.predefine('sap/fe/core/converters/templates/index',["./ListReportConverter","./ObjectPageConverter"],function(L,O){"use strict";return{ListReport:L,ObjectPage:O};});
sap.ui.predefine('sap/fe/core/helpers/DynamicAnnotationPathHelper',["sap/ui/base/BindingParser"],function(B){"use strict";var g=function(o,p){if(!o){return null;}var P=p.split("/");if(P.length===1){return o[p];}else{return g(o[P[0]],P.splice(1).join("/"));}};var r=function(a,m){if(a.indexOf("[")!==-1){var f=a.indexOf("[");var s=a.substr(0,f);var R=a.substr(f+1);var l=R.indexOf("]");var v=m.getObject(s);var e=B.parseExpression(R.substr(0,l));if(Array.isArray(v)&&e&&e.result&&e.result.parts&&e.result.parts[0]&&e.result.parts[0].path){var F=false;for(var i=0;i<v.length&&!F;i++){var o=g(v[i],e.result.parts[0].path);var b=e.result.formatter(o);if(b){F=true;}}if(F){a=r(s+(i-1)+R.substr(l+1),m);}}}return a;};return{resolveDynamicExpression:r};});
sap.ui.predefine('sap/fe/core/helpers/SemanticKeyHelper',[],function(){"use strict";var S={getSemanticKeys:function(m,e){return m.getObject("/"+e+"/@com.sap.vocabularies.Common.v1.SemanticKey");},getSemanticObjectInformation:function(m,e){var s=m.getObject("/"+e+"/@com.sap.vocabularies.Common.v1.SemanticObject");var a=this.getSemanticKeys(m,e);return{semanticObject:s,semanticKeys:a};},getSemanticPath:function(c){var m=c.getModel().getMetaModel();var e=m.getMetaContext(c.getPath()).getObject("@sapui.name");var s=this.getSemanticObjectInformation(m,e);if(!s.semanticKeys){return c.getPath();}else{var a=s.semanticKeys.map(function(o){return o.$PropertyPath;}).map(function(p){return p+"="+c.getProperty(p);}).join(",");return e+"("+a+")";}}};return S;});
sap.ui.predefine('sap/fe/core/services/CacheHandlerServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/resource/ResourceModel","sap/ui/core/cache/CacheManager"],function(S,a,R,C){"use strict";
function g(u,e,U){return new Promise(function(r,c){jQuery.ajax(u,{method:"GET"}).done(function(o,t,j){U[u]=j.getResponseHeader("ETag")||j.getResponseHeader("Last-Modified");r(e===U[u]);}).fail(function(){U[u]="";r(false);});});}
var b=S.extend("sap.fe.core.services.CacheHandlerService",{
initPromise:null,
init:function(){var t=this;var c=this.getContext();this.oFactory=c.factory;var s=c.settings;if(!s.metaModel){throw new Error("a `metaModel` property is expected when instantiating the CacheHandlerService");}this.oMetaModel=s.metaModel;this.initPromise=this.oMetaModel.fetchEntityContainer().then(function(){return t;});this.mCacheNeedsInvalidate={};},
exit:function(){this.oFactory.removeGlobalInstance(this.oMetaModel);},
validateCacheKey:function(c){var t=this;var d=true;return C.get(c).then(function(m){var M=t.getETags();var u=JSON.stringify(M);if(m){var U={};var e=JSON.parse(m.cachedETags);return Promise.all(Object.keys(e).map(function(s){if(e[s]){if(M[s]){U[s]=M[s];return e[s]===M[s];}else{return g(s,e[s],U);}}else{U[s]=M[s];return e[s]===M[s];}})).then(function(v){d=v.indexOf(false)>=0;if(Object.keys(U).some(function(s){return!U[s];})){return null;}else{return d?JSON.stringify(U):m.viewCacheKey;}});}else if(Object.keys(M).some(function(s){return!M[s];})){d=true;u=null;}return u;}).catch(function(e){d=true;return null;}).then(function(s){t.mCacheNeedsInvalidate[c]=d;return s;});},
invalidateIfNeeded:function(c,s){var d=JSON.stringify(this.getETags());if(this.mCacheNeedsInvalidate[s]||(c&&c!==d)){var m={};m.cachedETags=d;m.viewCacheKey=c;return C.set(s,m);}else{return Promise.resolve();}},
getETags:function(){var m=this.oMetaModel.getETags();Object.keys(m).forEach(function(M){if(m[M]instanceof Date){m[M]=m[M].toISOString();}});return m;}
});
return a.extend("sap.fe.core.services.CacheHandlerServiceFactory",{_oInstanceRegistry:{},createInstance:function(s){if(!this._oInstanceRegistry[s.settings.metaModel]){this._oInstanceRegistry[s.settings.metaModel]=new b(Object.assign({factory:this,scopeObject:null,scopeType:"service"},s));}var t=this;return this._oInstanceRegistry[s.settings.metaModel].initPromise.then(function(){return t._oInstanceRegistry[s.settings.metaModel];}).catch(function(e){t._oInstanceRegistry[s.settings.metaModel]=null;throw e;});},getInstance:function(m){return this._oInstanceRegistry[m];},removeGlobalInstance:function(m){this._oInstanceRegistry[m]=null;}});},true);
sap.ui.predefine('sap/fe/core/services/DraftModelServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/fe/core/model/DraftModel","sap/ui/core/Component"],function(S,a,D,C){"use strict";
var b=S.extend("sap.fe.core.services.DraftModelService",{
initPromise:Promise.resolve(this),
init:function(){var t=this;var c=this.getContext();var s=c.settings;if(c.scopeType==="component"){var o=c.scopeObject;var m=s.modelName;var A=C.getOwnerComponentFor(o);var O=o.getModel(m);if(!O){O=A.getModel(m);}this.oODataModel=O;this.initPromise=D.upgradeOnDemand(O).then(function(u){t.bIsDraftModel=u;return t;});}},
isDraftModel:function(){return this.bIsDraftModel;},
getDraftAccessModel:function(){return this.oODataModel.getDraftAccessModel();}
});
return a.extend("sap.fe.core.services.DraftModelServiceFactory",{_oGlobalInstance:null,createInstance:function(s){var d=new b(s);return d.initPromise;}});},true);
sap.ui.predefine('sap/fe/core/services/NavigationServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/base/Log","sap/fe/navigation/NavigationHandler"],function(S,a,L,N){"use strict";
var b=S.extend("sap.fe.core.services.NavigationService",{
initPromise:null,
init:function(){var c=this.getContext(),C=c&&c.scopeObject;this.oNavHandler=new N(C);this.oNavHandler.setModel(C.getModel());this.initPromise=Promise.resolve(this);},
navigate:function(s,A,n,i,o,e,c){this.oNavHandler.navigate(s,A,n,i,o,e,c);},
parseNavigation:function(){return this.oNavHandler.parseNavigation();},
_processBeforeSmartLinkPopoverOpens:function(t,s,i){return this.oNavHandler.processBeforeSmartLinkPopoverOpens(t,s,i);},
getTechnicalParameters:function(){return this.oNavHandler.getTechnicalParameters();},
setTechnicalParameters:function(t){this.oNavHandler.setTechnicalParameters(t);},
setModel:function(m){this.oNavHandler.setModel(m);},
storeInnerAppState:function(i,I){return this.oNavHandler.storeInnerAppState(i);},
storeInnerAppStateWithImmediateReturn:function(i,I,n){return this.oNavHandler.storeInnerAppStateWithImmediateReturn(i,I,n);},
replaceHash:function(A){this.oNavHandler.replaceHash(A);},
replaceInnerAppStateKey:function(A,s){return this.oNavHandler._replaceInnerAppStateKey(A,s);},
getUrlParametersFromSelectionVariant:function(s){return this.oNavHandler._getURLParametersFromSelectionVariant(s);},
saveAppStateWithImmediateReturn:function(s){if(s){var c=s.toJSONString(),s=JSON.parse(c),x={selectionVariant:s},r=this.oNavHandler._saveAppStateWithImmediateReturn(x);return r.appStateKey?r.appStateKey:"";}}
});
return a.extend("sap.fe.core.services.NavigationServiceFactory",{createInstance:function(s){var n=new b(s);return n.initPromise.then(function(o){return o;});}});},true);
sap.ui.predefine('sap/fe/core/services/ResourceModelServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/model/resource/ResourceModel","sap/base/i18n/ResourceBundle"],function(S,a,R,b){"use strict";
var c=S.extend("sap.fe.core.services.ResourceModelService",{
initPromise:Promise.resolve(),
init:function(){var C=this.getContext();var s=C.settings;this.oFactory=C.factory;var B=s.bundles.concat(s.enhanceI18n||[]).map(function(d){return d.indexOf("/")!==-1?{bundleUrl:d}:{bundleName:d+".messagebundle"};});this.oResourceModel=new R({bundleName:B[0].bundleName,enhanceWith:B.slice(1),async:true});if(C.scopeType==="component"){var o=C.scopeObject;o.setModel(this.oResourceModel,s.modelName);}this.initPromise=this.oResourceModel.getResourceBundle().then(function(){return this;}.bind(this));},
getResourceModel:function(){return this.oResourceModel;},
exit:function(){this.oFactory.removeGlobalInstance();}
});
return a.extend("sap.fe.core.services.ResourceModelServiceFactory",{_oInstances:{},createInstance:function(s){var k=s.settings.bundles.join(",")+(s.settings.enhanceI18n?","+s.settings.enhanceI18n.join(","):"");if(!this._oInstances[k]){this._oInstances[k]=new c(Object.assign({factory:this},s));}return this._oInstances[k].initPromise;},removeGlobalInstance:function(){this._oInstances={};}});},true);
sap.ui.predefine('sap/fe/core/services/RoutingServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/Component","sap/ui/base/BindingParser","sap/fe/core/helpers/SemanticKeyHelper","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/routing/HashChanger","sap/base/Log"],function(S,a,C,B,b,F,c,H,L){"use strict";
var R=S.extend("sap.fe.core.services.RoutingService",{
initPromise:Promise.resolve(this),
init:function(){var t=this;var o=this.getContext();if(o.scopeType==="component"){this.oAppComponent=o.scopeObject;this.oModel=this.oAppComponent.getModel();this.oRouter=this.oAppComponent.getRouter();var r=this.oAppComponent.getManifestEntry("/sap.ui5/routing");this._parseRoutingConfiguration(r);this.initPromise=Promise.resolve(t);}},
_parseRoutingConfiguration:function(r){var t=this;this._mTargets={};Object.keys(r.targets).forEach(function(T){t._mTargets[T]=Object.assign({targetName:T},r.targets[T]);if(t._mTargets[T].contextPattern!==undefined){t._mTargets[T].viewLevel=t._getViewLevelFromPattern(t._mTargets[T].contextPattern);}});this._mRoutes={};for(var s in r.routes){var o=r.routes[s];var d=Array.isArray(r.routes)?o.name:s;t._mRoutes[d]={name:d,pattern:o.pattern,targets:Array.isArray(o.target)?o.target:[o.target]};if(!Array.isArray(o.target)){var v=t._getViewLevelFromPattern(o.pattern);if(t._mTargets[o.target].viewLevel===undefined||t._mTargets[o.target].viewLevel<v){t._mTargets[o.target].viewLevel=v;}}}},
_getViewLevelFromPattern:function(p){p=p.replace(":?query:","");if(p&&p[0]!=="/"&&p[0]!=="?"){p="/"+p;}return p.split("/").length-1;},
getRouteInformation:function(r){return this._mRoutes[r];},
getTargetInformation:function(t){return this._mTargets[t];},
_getComponentId:function(o,s){if(s.indexOf(o+"---")===0){return s.substr(o.length+3);}return s;},
getTargetInformationFor:function(o){var t=this._getComponentId(o._sOwnerId,o.getId());var d=this;var s=null;Object.keys(this._mTargets).forEach(function(T){if(d._mTargets[T].id===t){s=T;}});return this.getTargetInformation(s);},
navigateTo:function(o,r,p,P){var t;if(!p){t=b.getSemanticPath(o);}else{var m=this.prepareParameters(p,r,o);t=this.oRouter.getURL(r,m);}this.oAppComponent.getRouterProxy().navToHash(t,P);},
prepareParameters:function(p,t,o){var P;try{var s=o.getPath();var d=s.split("/");P=Object.keys(p).reduce(function(r,f){var g=p[f];var h=B.complexParser(g);var i=h.parts||[h];var j=i.map(function(k){var l=k.path.split("../");var m=d.slice(0,d.length-l.length+1);m.push(l[l.length-1]);return o.getObject(m.join("/"));});if(h.formatter){r[f]=h.formatter.apply(this,j);}else{r[f]=j.join("");}return r;},{});}catch(e){L.error("Could not parse the parameters for the navigation to route "+t);P=undefined;}return P;}
});
return a.extend("sap.fe.core.services.RoutingServiceFactory",{createInstance:function(s){var r=new R(s);return r.initPromise;}});},true);
sap.ui.predefine('sap/fe/core/services/TemplatedViewServiceFactory',["sap/ui/core/service/Service","sap/ui/core/service/ServiceFactory","sap/ui/core/service/ServiceFactoryRegistry","sap/ui/model/base/ManagedObjectModel","sap/ui/core/cache/CacheManager","sap/ui/model/resource/ResourceModel","sap/ui/core/mvc/View","sap/ui/core/Component","sap/ui/model/json/JSONModel","sap/base/Log","sap/ui/core/routing/HashChanger","sap/fe/core/TemplateModel","sap/fe/core/converters/MetaModelConverter","sap/fe/core/helpers/DynamicAnnotationPathHelper"],function(S,a,b,M,C,R,V,c,J,L,H,T,d,D){"use strict";
function e(n,i){this.name=n;this.currentPath=i||"";this.lastPath="";this.set=function(N){while(N.indexOf("../")===0){this.currentPath=this.currentPath.substr(0,this.currentPath.lastIndexOf(this.lastPath)-1);this.lastPath=this.currentPath.substr(this.currentPath.lastIndexOf("/")+1);N=N.substr(3);}if(N){this.lastPath=N;}this.currentPath+=N;L.info(this.name+" is now : "+this.currentPath);};this.get=function(){return this.currentPath;};this.delete=function(){this.currentPath="";L.info(this.name+" has been deleted");};}
var f=S.extend("sap.fe.core.services.TemplatedViewService",{
initPromise:null,
init:function(){var t=this;var s=[];var o=this.getContext();var g=o.scopeObject;var A=c.getOwnerComponentFor(g);var m=A.getMetaModel();var h=A.getMetadata().getComponentName()+"::"+A.getLocalId(g.getId());var E=g.getEnhanceI18n()||[];if(E){for(var i=0;i<E.length;i++){E[i]=A.getManifestObject().resolveUri(E[i],"manifest");}}var j=A.getMetadata().getName()+"_"+h+"_"+sap.ui.getCore().getConfiguration().getLanguageTag();s.push(b.get("sap.fe.core.services.ResourceModelService").createInstance({scopeType:"component",scopeObject:g,settings:{bundles:["sap.fe.core","sap.fe.templates"],enhanceI18n:E,modelName:"sap.fe.i18n"}}).then(function(r){return r.getResourceModel();}));s.push(b.get("sap.fe.core.services.CacheHandlerService").createInstance({settings:{metaModel:m}}).then(function(k){return k.validateCacheKey(j);}));this.initPromise=Promise.all(s).then(function(k){var r=k[0];var l=k[1];return t.createView(r,h,l);}).then(function(k){var l=b.get("sap.fe.core.services.CacheHandlerService").getInstance(m);l.invalidateIfNeeded(k,j);});},
createView:function(r,s,g){var t=this;var o=this.getContext(),m=o.settings,v=m.viewName,h=o.scopeObject,E=h.getProperty("entitySet"),A=c.getOwnerComponentFor(h),i=A.getMetaModel(),j=new J(sap.ui.Device).setDefaultBindingMode("OneWay"),k=new J(A.getManifest()),l=new J({currentPath:new e(),navigationPath:new e("NavigationPath")});this.oFactory=o.factory;return A.getService("routingService").then(function(n){var p=n.getTargetInformationFor(h);var q={navigation:h.getNavigation(),viewLevel:p.viewLevel,stableId:s};if(h.getViewData){Object.assign(q,h.getViewData());}var u=new J(q),P=new J(d.convertPage(v.split(".").pop(),i,q)),w=o.oTemplateModel,G=o.oConfigModel,x=G.getData();x[s]=P.getData();if(q&&q.controlConfiguration){Object.keys(q.controlConfiguration).forEach(function(B){if(B.indexOf("[")!==-1){var F=D.resolveDynamicExpression(B,i);q.controlConfiguration[F]=q.controlConfiguration[B];}});}var y={type:"XML",preprocessors:{xml:{bindingContexts:{entitySet:E?w.createBindingContext("/"+E,null,{$$configModelPath:"/"+s+"/"+E}):null,viewData:q?u.createBindingContext("/"):null},models:{entitySet:w,"sap.fe.i18n":r,"sap.ui.mdc.metaModel":i,"sap.fe.deviceModel":j,manifest:k,viewData:u,metaPath:l}}},id:s,viewName:m.viewName,viewData:q,cache:{keys:[g]},height:"100%"};function z(B){L.error(B);y.viewName=m.errorViewName||"sap.fe.core.services.view.TemplatingErrorPage";y.preprocessors.xml.models["error"]=new J(B);return h.runAsOwner(function(){return V.create(y);});}return h.runAsOwner(function(){return V.create(y).catch(z).then(function(B){t.oView=B;t.oView.setModel(new M(t.oView),"$view");h.setAggregation("rootControl",t.oView);return g;}).catch(L.error);});}).catch(function(n){throw new Error("Error while creating view : "+n);});},
getView:function(){return this.oView;},
exit:function(){this.oFactory.removeGlobalInstance();}
});
return a.extend("sap.fe.core.services.TemplatedViewServiceFactory",{_oInstanceRegistry:{},createInstance:function(s){var A=c.getOwnerComponentFor(s.scopeObject);if(!this._oInstanceRegistry[A]){var o=new J();this._oInstanceRegistry[A]={configModel:o,templateModel:new T(A.getMetaModel(),o)};}s.oTemplateModel=this._oInstanceRegistry[A].templateModel;s.oConfigModel=this._oInstanceRegistry[A].configModel;var t=new f(Object.assign({factory:this},s));return t.initPromise.then(function(){return t;});},removeGlobalInstance:function(){this._oInstanceRegistry={};}});},true);
/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2020 SAP SE. All rights reserved
    
 */
sap.ui.predefine('sap/fe/core/AppComponent',["sap/ui/core/UIComponent","sap/m/NavContainer","sap/f/FlexibleColumnLayout","sap/fe/core/controllerextensions/Routing","sap/fe/core/RouterProxy","sap/base/Log","sap/base/util/merge","sap/fe/core/controllerextensions/EditFlow","sap/ui/mdc/field/FieldValueHelp"],function(U,N,F,R,a,L,m,E,b){"use strict";var f=b.prototype.init;
b.prototype.init=function(){var B=this.getBindingContext();f.apply(this,arguments);this.setBindingContext(B);};
var c={FCL:{VIEWNAME:"sap.fe.templates.RootContainer.view.Fcl",ROUTERCLASS:"sap.f.routing.Router"},NAVCONTAINER:{VIEWNAME:"sap.fe.templates.RootContainer.view.NavContainer",ROUTERCLASS:"sap.m.routing.Router"}};
var A=U.extend("sap.fe.core.AppComponent",{
metadata:{config:{fullWidth:true},manifest:{"sap.ui5":{services:{resourceModel:{factoryName:"sap.fe.core.services.ResourceModelService","startup":"waitFor","settings":{"bundles":["sap.fe.core"],"modelName":"sap.fe.i18n"}},draftModel:{"factoryName":"sap.fe.core.services.DraftModelService","startup":"waitFor"},routingService:{factoryName:"sap.fe.core.services.RoutingService","startup":"waitFor"},ShellUIService:{factoryName:"sap.ushell.ui5service.ShellUIService"},navigation:{factoryName:"sap.fe.core.services.NavigationService"}},rootView:{viewName:c.NAVCONTAINER.VIEWNAME,type:"XML",async:true,id:"appRootView"},routing:{config:{controlId:"appContent",routerClass:c.NAVCONTAINER.ROUTERCLASS,viewType:"XML",controlAggregation:"pages",async:true,containerOptions:{propagateModel:true}}}}},designtime:"sap/fe/core/designtime/AppComponent.designtime",library:"sap.fe.core"},
_oRouterProxy:null,
getRouterProxy:function(){return this._oRouterProxy;},
getRootViewController:function(){return this.getRootControl().getController();},
getRootContainer:function(){return this.getRootControl().getContent()[0];},
constructor:function(_,i){this.bInitializeRouting=i!==undefined?i:true;var M=this.getManifestObject()._oManifest;m(M,_);this._oRouting=new R();this._oTemplateContract={oAppComponent:this};this._oRouterProxy=new a();U.apply(this,arguments);return this.getInterface();},
init:function(){var t=this;var M=this.getModel();if(M){M.getMetaModel().requestObject("/$EntityContainer/").catch(function(e){var r=this.getRootContainer(),d=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");t._oRouting.navigateToMessagePage(d.getText("SAPFE_APPSTART_TECHNICAL_ISSUES"),{title:d.getText("SAPFE_ERROR"),description:e.message,navContainer:r});}.bind(this));}var o=this.getMetadata().getManifestEntry("/sap.ui5",true);if(o.rootView.viewName===c.FCL.VIEWNAME&&o.routing.config.routerClass===c.FCL.ROUTERCLASS){L.info('Rootcontainer: "'+c.FCL.VIEWNAME+'" - Routerclass: "'+c.FCL.ROUTERCLASS+'"');}else if(o.rootView.viewName===c.NAVCONTAINER.VIEWNAME&&o.routing.config.routerClass===c.NAVCONTAINER.ROUTERCLASS){L.info('Rootcontainer: "'+c.NAVCONTAINER.VIEWNAME+'" - Routerclass: "'+c.NAVCONTAINER.ROUTERCLASS+'"');}else{throw Error("\nWrong configuration for the couple (rootView/routerClass) in manifest file.\n"+"Current values are :("+o.rootView.viewName+"/"+o.routing.config.routerClass+")\n"+"Expected values are \n"+"\t - ("+c.NAVCONTAINER.VIEWNAME+"/"+c.NAVCONTAINER.ROUTERCLASS+")\n"+"\t - ("+c.FCL.VIEWNAME+"/"+c.FCL.ROUTERCLASS+")");}U.prototype.init.apply(t,arguments);if(this.bInitializeRouting){t._oRouting.initializeRouting(t).then(function(){var i=c.FCL.VIEWNAME===o.rootView.viewName;t.getRouterProxy().init(t,i);}).catch(function(e){L.error("cannot cannot initialize routing: "+e);});if(M){t.getService("draftModel").then(function(d){if(d.isDraftModel()){t.setModel(d.getDraftAccessModel(),"$draft");}}).catch(function(){L.error("cannot load draftModel");});}}},
exit:function(){this._oRouting.fireOnAfterNavigation();E.onExitApplication(this.getId());},
getMetaModel:function(){return this.getModel().getMetaModel();},
exitApplication:function(){this._oRouting.fireOnAfterNavigation();E.onExitApplication(this.getId());},
destroy:function(){this.exitApplication();var M=this.oModels[undefined];var h=jQuery.extend({},M.oRequestor.mHeaders);U.prototype.destroy.apply(this,arguments);M.oRequestor.mHeaders=h;}
});
return A;});
sap.ui.predefine('sap/fe/core/TemplateComponent',["sap/ui/core/UIComponent","sap/fe/core/CommonUtils"],function(U,C){"use strict";
var T=U.extend("sap.fe.core.TemplateComponent",{
metadata:{properties:{entitySet:{type:"string",defaultValue:null},bindingContextPattern:{type:"string"},navigation:{type:"object"},enhanceI18n:{type:"string[]"},controlConfiguration:{type:"object"},content:{type:"object"}},events:{"pageReady":{element:{type:"sap.ui.base.ManagedObject"}}},library:"sap.fe.core"},
setContainer:function(c){U.prototype.setContainer.apply(this,arguments);if(c){var t=this;c.addEventDelegate({onBeforeShow:function(){t.bShown=false;t.bIsBackNav=false;t._bIsPageReady=false;},onBeforeHide:function(){t.bShown=false;t.bIsBackNav=false;t._bIsPageReady=false;},onAfterShow:function(e){t.bShown=true;t.bIsBackNav=e.isBack||e.isBackToPage;t._checkPageReady(true);}});}},
setFocusInformation:function(f){this._mLastFocusedControl=f;},
_checkPageReady:function(f){var t=this;if(this.bShown&&this.bDataReceived!==false&&this.bTablesLoaded!==false){if(this.bDataReceived===true&&!f&&!this._bWaitingForRefresh){this.bDataReceived=undefined;this._bWaitingForRefresh=true;var u=function(){sap.ui.getCore().detachEvent("UIUpdated",u);t._bWaitingForRefresh=false;t.firePageReady();};sap.ui.getCore().attachEvent("UIUpdated",u);}else{window.requestAnimationFrame(function(){t.firePageReady();});}}},
init:function(){U.prototype.init.apply(this,arguments);this.oAppComponent=C.getAppComponent(this);var t=this;this.getService("templatedView").then(function(o){var v=o.getView();var b=[];var r=0;var R=0;var f=function(e){e.getSource().detachDataRequested(f);r++;t.bDataReceived=false;};var a=function(e){e.getSource().detachDataReceived(a);R++;if(R===r&&r!==0){r=0;R=0;t.bDataReceived=true;t._checkPageReady(false);}};v.getParent().attachModelContextChange(function(e){t._bIsPageReady=false;b.forEach(function(E){E.detachDataRequested(f);E.detachDataReceived(a);});b=[];e.getSource().findAggregatedObjects(true,function(E){var O=E.getObjectBinding();if(O){O.attachDataRequested(f);O.attachDataReceived(a);b.push(O);}else{var B=Object.keys(E.mBindingInfos);if(B.length>0){B.forEach(function(p){var l=E.mBindingInfos[p].binding;if(l&&l.isA("sap.ui.model.odata.v4.ODataListBinding")){l.attachDataRequested(f);l.attachDataReceived(a);b.push(l);}});}}if(E.isA("sap.ui.mdc.Table")){t.bTablesLoaded=false;E.done().then(function(){if(E&&E._oTable){var i=E._oTable.getBindingInfo("items");if(i){var l=i.binding;l.attachDataRequested(f);l.attachDataReceived(a);b.push(l);}}t.bTablesLoaded=true;setTimeout(function(){t._checkPageReady(false);},0);});}});setTimeout(function(){t._checkPageReady(false);},0);});});this.attachPageReady(function(){t._bIsPageReady=true;});},
onBeforeBinding:function(c,p){return true;},
onAfterBinding:function(c){return true;},
isPageReady:function(){return this._bIsPageReady;},
onPageReady:function(l){if(this.getRootControl()&&this.getRootControl().getController()&&this.getRootControl().getController().onPageReady){this.getRootControl().getController().onPageReady(l);}},
getNavigationConfiguration:function(t){var n=this.getNavigation();return n[t];},
getViewData:function(){var p=this.getMetadata().getAllProperties();return Object.keys(p).reduce(function(v,P){v[P]=p[P].get(this);return v;}.bind(this),{});},
getPageTitleInformation:function(){if(this.getRootControl()&&this.getRootControl().getController()&&this.getRootControl().getController().getPageTitleInformation){return this.getRootControl().getController().getPageTitleInformation();}}
});
return T;},true);
sap.ui.predefine('sap/fe/core/coreLibrary',["sap/fe/core/services/TemplatedViewServiceFactory","sap/fe/core/services/ResourceModelServiceFactory","sap/fe/core/services/CacheHandlerServiceFactory","sap/fe/core/services/DraftModelServiceFactory","sap/fe/core/services/NavigationServiceFactory","sap/fe/core/services/RoutingServiceFactory","sap/ui/core/service/ServiceFactoryRegistry"],function(T,R,C,D,N,a,S){"use strict";var c={init:function(){if(!sap.fe.core){sap.fe.core={};}sap.fe.core.CreationMode={NewPage:"NewPage",Sync:"Sync",Async:"Async",Deferred:"Deferred",Inline:"Inline",CreationRow:"CreationRow"};S.register("sap.fe.core.services.TemplatedViewService",new T());S.register("sap.fe.core.services.ResourceModelService",new R());S.register("sap.fe.core.services.CacheHandlerService",new C());S.register("sap.fe.core.services.DraftModelService",new D());S.register("sap.fe.core.services.NavigationService",new N());S.register("sap.fe.core.services.RoutingService",new a());}};return c;},false);
sap.ui.predefine('sap/fe/core/helpers/SideEffectsUtil',["sap/base/Log"],function(L){"use strict";var s={};
s.replaceEmptyNavigationPaths=function(p){return((p&&p.map(function(P){if(P["$NavigationPropertyPath"]===""){return{"$PropertyPath":"*"};}return P;}))||[]);};
s.addTextProperties=function(p,m,b){var B=b,t=[],T,e,r;if(B.charAt(0)!=="/"){B="/"+B;}if(B.charAt(B.length-1)!=="/"){B=B+"/";}p.forEach(function(P){if(P["$PropertyPath"]==="*"){r=true;}else if(P["$PropertyPath"]){T=_(m,B+P["$PropertyPath"]);if(T){t.push(T);}}});if(r){e=m.getObject(B);Object.keys(e).forEach(function(k){if(e[k].$kind&&e[k].$kind==="Property"){T=_(m,B+k);if(T){t.push(T);}}});}return p.concat(t);};
function _(m,p){var t=m.getObject(p+"@com.sap.vocabularies.Common.v1.Text");if(t&&t["$Path"]){return{"$PropertyPath":t["$Path"]};}return undefined;}
s.logRequest=function(r){var p=Array.isArray(r.pathExpressions)&&r.pathExpressions.reduce(function(P,o){return P+"\n\t\t"+(o["$PropertyPath"]||o["$NavigationPropertyPath"]||"");},"");L.info("SideEffects request:\n\tContext path : "+r.context.getPath()+"\n\tProperty paths :"+p);};
return s;});
sap.ui.predefine('sap/fe/core/library',["sap/fe/core/services/TemplatedViewServiceFactory","sap/fe/core/services/ResourceModelServiceFactory","sap/fe/core/services/CacheHandlerServiceFactory","sap/fe/core/services/DraftModelServiceFactory","sap/fe/core/services/NavigationServiceFactory","sap/fe/core/services/RoutingServiceFactory","sap/ui/core/service/ServiceFactoryRegistry"],function(T,R,C,D,N,a,S){"use strict";sap.ui.getCore().initLibrary({name:"sap.fe.core",dependencies:["sap.ui.core","sap.fe.navigation"],types:[],interfaces:[],controls:[],elements:[],version:"1.78.0",noLibraryCSS:true});sap.fe.core.CreationMode={NewPage:"NewPage",Sync:"Sync",Async:"Async",Deferred:"Deferred",Inline:"Inline",CreationRow:"CreationRow"};S.register("sap.fe.core.services.TemplatedViewService",new T());S.register("sap.fe.core.services.ResourceModelService",new R());S.register("sap.fe.core.services.CacheHandlerService",new C());S.register("sap.fe.core.services.DraftModelService",new D());S.register("sap.fe.core.services.NavigationService",new N());S.register("sap.fe.core.services.RoutingService",new a());return sap.fe.core;},false);
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
        (c) Copyright 2009-2020 SAP SE. All rights reserved
    
 */
sap.ui.predefine('sap/fe/core/AnnotationHelper',["sap/base/Log","sap/ui/model/odata/v4/AnnotationHelper","sap/fe/core/CommonUtils","sap/ui/mdc/library"],function(L,O,C,m){"use strict";var F=m.FilterBarP13nMode;var A={getQuickFilterText:function(c,a,e){var q=c.getModel(1).getObject(e+"/@"+a);return q.Text;},getFilterBarP13nMode:function(v){var p=[],P=v.variantManagement&&v.variantManagement!=="None";if(v.controlConfiguration&&v.controlConfiguration["@com.sap.vocabularies.UI.v1.SelectionFields"]&&v.controlConfiguration["@com.sap.vocabularies.UI.v1.SelectionFields"].filterBarSettings&&v.controlConfiguration["@com.sap.vocabularies.UI.v1.SelectionFields"].filterBarSettings.personalization!==undefined){P=v.controlConfiguration["@com.sap.vocabularies.UI.v1.SelectionFields"].filterBarSettings.personalization;}if(typeof P==="object"){if(P.item){p.push(F.Item);}if(P.value){p.push(F.Value);}}else{p=P?[F.Item,F.Value]:[];}return p.length>0?p.join(","):undefined;},getSelectionMode:function(v,a,i,d,V){var s=(v.controlConfiguration&&v.controlConfiguration[a]&&v.controlConfiguration[a]["tableSettings"]&&v.controlConfiguration[a]["tableSettings"]["selectionMode"])||"Multi";if(this.checkForActions(V)){return s;}else if(d){if(i){return"{= ${ui>/editMode} === 'Editable' ? '"+s+"' : 'None'}";}else{return s;}}return"None";},getTargetContext:function(t){var T=t.getObject(t.getPath()),n=O.getNavigationPath(t.getPath());return n+"/"+T;},getFormContext:function(t){var a=t.getObject(),n=O.getNavigationPath(a),s,T;if(n){s=O.getNavigationPath(t.getPath());T=t.getModel().getObject(s+"/"+n+"/@sapui.name");return"/"+T+a.replace(n,"");}return t.getPath();},getNavigationContext:function(c){return O.getNavigationPath(c.getPath());},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){L.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},createBindingForDraftAdminBlock:function(M,e,f){var p="/"+e+"/DraftAdministrativeData/";return M.requestObject(p).then(function(d){var b="{parts: [{path: 'InProcessByUser'}, "+"{path: 'LastChangedByUser'} ";if(d.InProcessByUserDescription){b+=" ,{path: 'InProcessByUserDescription'}";}if(d.LastChangedByUserDescription){b+=", {path: 'LastChangedByUserDescription'}";}b+="], formatter: '.editFlow."+f+"'}";return b;});},getBindingForDraftAdminBlockInline:function(c,e){return A.createBindingForDraftAdminBlock(c.getModel(),e,"formatDraftOwnerTextInline");},getBindingForDraftAdminBlockInPopover:function(c,e){return A.createBindingForDraftAdminBlock(c.getModel(),e,"formatDraftOwnerTextInPopover");},checkForActions:function(l){var o;for(var i=0;i<l.length;i++){o=l[i];if((o["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(o["$Type"]==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&o.RequiresContext&&(o.RequiresContext===true||o.RequiresContext.Bool==="true")))&&!(o.Inline&&o.Inline.Bool!=="true")){return true;}}return false;},hasDeterminingActions:function(e){var d=e["@com.sap.vocabularies.UI.v1.LineItem"];for(var i in d){if(d[i].$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&d[i].Determining===true){return true;}}return false;},getNavigationInsertableRestrictions:function(c,s,r,I,b){var i,n,p="";for(i in r){n=r[i];if(n.NavigationProperty.$NavigationPropertyPath===s&&n.InsertRestrictions){if(n.InsertRestrictions.Insertable&&n.InsertRestrictions.Insertable.$Path){if(b){p=c.$Partner+"/";}return("{= ${"+p+n.InsertRestrictions.Insertable.$Path+"}  && ${ui>/editMode} === 'Editable' }");}return n.InsertRestrictions.Insertable?"{= ${ui>/editMode} === 'Editable' }":false;}}if(I&&I.$Path&&I.$Path.indexOf("/")>-1){if(b){s="";}else{s=s+"/";}return"{=  ${ui>/editMode} === 'Editable' && ${"+s+I.$Path+"}}";}return"{= "+(I!==false)+" && ${ui>/editMode} === 'Editable'}";},isNavigationPropertyDeletable:function(c,r,d){var i,n;for(i in r){n=r[i];if(n.NavigationProperty.$NavigationPropertyPath===c&&n.DeleteRestrictions){return n.DeleteRestrictions.Deletable;}}return"{= "+(d!==false)+" && ${ui>/editMode} === 'Editable'}";},showFooter:function(d,c){var h="";var s;var H=[];for(var i in d){var D=d[i];if(D.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&D.Determining===true){if(!D["@com.sap.vocabularies.UI.v1.Hidden"]){return true;}else if(D["@com.sap.vocabularies.UI.v1.Hidden"].$Path){if(H.indexOf(D["@com.sap.vocabularies.UI.v1.Hidden"].$Path)===-1){H.push(D["@com.sap.vocabularies.UI.v1.Hidden"].$Path);}}}}if(H.length){for(var a in H){if(H[a]){s="(%{"+H[a]+"} === true ? false : true )";}if(a==H.length-1){h=h+s;}else{h=h+s+"||";}}return("{= "+h+(c?" || ${ui>/editMode} === 'Editable' ":" ")+"|| ${localUI>/showMessageFooter} === true}");}else{return("{= "+(c?"${ui>/editMode} === 'Editable' || ":"")+"${localUI>/showMessageFooter} === true}");}},getChartVisualizationPath:function(v){var i,V,a;var b=v.getObject("");for(i in b){V=b[i];a=V.$AnnotationPath;if(a.indexOf("@com.sap.vocabularies.UI.v1.Chart")>-1){return v.getPath()+"/"+i;}}},getFirstVisualizationPath:function(v){return v.getPath()+"/"+"0";},getPVChartPath:function(a,I){var c=I.context,p=c.getPath();if(c.getObject(p+"/@sapui.name")==="@com.sap.vocabularies.UI.v1.PresentationVariant"){var P=c.getObject(p);if(P&&P.Visualizations){var v=P.Visualizations;for(var i=0;i<v.length;i++){if(v[i].$AnnotationPath.indexOf("@com.sap.vocabularies.UI.v1.Chart")!==-1){return c.getObject(p+"/Visualizations/"+i+"/$AnnotationPath/@sapui.name").replace(RegExp(".*\\."),"");}}}}},getActionContext:function(a){return C.getActionPath(a,true);},getPathToBoundActionOverload:function(a){var p=C.getActionPath(a,true);return p+"/@$ui5.overload/0";}};A.getQuickFilterText.requiresIContext=true;A.getBindingForDraftAdminBlockInline.requiresIContext=true;A.getBindingForDraftAdminBlockInPopover.requiresIContext=true;return A;},true);
sap.ui.predefine('sap/fe/core/AppStateHandler',["sap/ui/mdc/p13n/StateUtil","sap/fe/navigation/library","sap/fe/core/CommonUtils","sap/ui/fl/apply/api/ControlVariantApplyAPI","sap/fe/navigation/NavigationHelper","sap/ui/core/routing/HashChanger","sap/base/Log","sap/base/util/merge"],function(S,N,C,a,b,H,L,m){"use strict";var A={bIsAppStateReady:false,sNavType:null,bNoRouteChange:false,mInnerAppDataForFCL:{},mInnerAppDataForOP:{},getAppData:Promise.resolve(),init:function(){this.bIsAppStateReady=false;},createAppState:function(c,e){var o=c.getOwnerComponent();this.bNoRouteChange=false;if(o.isA("sap.fe.templates.ListReport.Component")&&this._getIsAppStateReady()){this._fnCreateAppStateForLR(c);}else if(o.isA("sap.fe.templates.ObjectPage.Component")&&this._getIsAppStateReady()){this._fnCreateAppStateForOP(c,e);}},applyAppState:function(c){var t=this;var o=C.getAppComponent(c.getView());t.getAppData=o.getService("navigation").then(function(n){return n.parseNavigation().done(function(d,s,e){t.sNavType=e;if(e){t._applyAppStateToPage(c,d,s,e);}else{t._setIsAppStateReady(true,c);}}).fail(function(){t._setIsAppStateReady(true,c);L.warning("Parse Navigation failed");});});},_applyAppStateToPage:function(c,o,s,n){var t=this,d,f,e=C.getAppComponent(c.getView()),M=e.getMetaModel(),v=c.getView().getViewData(),E=v.entitySet,g=c.getOwnerComponent();if(n!=="iAppState"&&g.isA("sap.fe.templates.ListReport.Component")){d={};f=c.getView().byId(c.getView().getContent()[0].data("filterBarId"));if(o.oSelectionVariant){var h=C.getMandatoryFilterFields(M,E);b.addDefaultDisplayCurrency(h,o);C.addSelectionVariantToConditions(o.oSelectionVariant,d,M,E);var V,i;switch(c.getView().getViewData().variantManagement){case"Page":V=c.getView().byId("fe::PageVariantManagement");if(o.bNavSelVarHasDefaultsOnly){i=V.getDefaultVariantKey();}else{i=V.getStandardVariantKey();}if(i===null){i=V.getId();}a.activateVariant({element:e,variantReference:i}).then(function(){if(!(o.bNavSelVarHasDefaultsOnly&&V.getDefaultVariantKey()!==V.getStandardVariantKey())){t._fnClearFilterAndReplaceWithAppState(d,c,f,V);}else{t._setIsAppStateReady(true,c);}});break;case"Control":V=c.getView().byId(c.getView().getContent()[0].data("filterBarVariantId"));if(o.bNavSelVarHasDefaultsOnly){i=V.getDefaultVariantKey();}else{i=V.getStandardVariantKey();}if(i===null){i=V.getId();}a.activateVariant({element:e,variantReference:i}).then(function(){if(!(o.bNavSelVarHasDefaultsOnly&&V.getDefaultVariantKey()!==V.getStandardVariantKey())){t._fnClearFilterAndReplaceWithAppState(d,c,f,V);}else{t._setIsAppStateReady(true,c);}}).catch(function(){t._setIsAppStateReady(true,c);L.warning("Activate Variant failed");});break;case"None":t._fnClearFilterAndReplaceWithAppState(d,c,f);break;default:t._fnClearFilterAndReplaceWithAppState(d,c,f);L.error("Variant Management not correctly defined, variable wrongly set to: "+c.getView().getViewData().variantManagement);break;}}else{t._setIsAppStateReady(true,c);}}else if(g.isA("sap.fe.templates.ListReport.Component")){this._fnApplyAppStatetoLR(c,o);}else{this._fnApplyAppStatetoOP(c,o);}},createKeyForAppStateData:function(v,e,c){var k="";k=k+v+"_"+e[0]+"/";if(e.length>1){for(var i=1;i<e.length;i++){k=k+e[i]+"/";}}k=k+c;return k;},_setIsAppStateReady:function(i,c){this.bIsAppStateReady=i;if(c&&c.getOwnerComponent().isA("sap.fe.templates.ListReport.Component")){if(this._getNavType()!=="iAppState"){this.createAppState(c);}var f=c.getView().byId(c.getView().getContent()[0].data("filterBarId"));var I=c.getView().getViewData().initialLoad;var l=c.getView().getViewData().liveMode;if((l===true&&Object.keys(f.getFilterConditions()).length===0)||(l===false&&(this._getNavType()==="xAppState"||this._getNavType()==="URLParams"||((this._getNavType()==="initial"||this._getNavType()==="iAppState")&&I===true)))){f.fireSearch();}}},_getIsAppStateReady:function(){return this.bIsAppStateReady;},removeSensitiveDataForIAppState:function(d,M,e){var p;var k="LR_"+e+"/FilterBar";var f=d.appState[k].filter;var K=Object.keys(f);K.map(function(P){if(P!=="$editState"){p=M&&M.getObject("/"+e+"/"+P+"@");if(p){if(b._checkPropertyAnnotationsForSensitiveData(p)){delete f[P];}}}});d.appState[k].filter=f;return d;},_fnCreateAppStateForLR:function(c){var t=this;return new Promise(function(r){var o=C.getAppComponent(c.getView());var v=c.getView().getViewData();var M=c.getView().getModel();var d=M&&M.getMetaModel();var e=v.entitySet;var i=o.getRootViewController().isFclEnabled();var R=o.getRouterProxy();var h=H.getInstance().getHash();var T="LR";var f=t.createKeyForAppStateData(T,[e],"FilterBar");var I={};if(i){t.mInnerAppDataForFCL=t.mInnerAppDataForFCL||{};I=m({},t.mInnerAppDataForFCL);}var V,s,g,j,k;var F=c.getView().byId(c.getView().getContent()[0].data("filterBarId"));S.retrieveExternalState(F).then(function(E){o.getService("navigation").then(function(n){I[f]=E;switch(c.getView().getViewData().variantManagement){case"Page":g=c.getView().byId("fe::PageVariantManagement");V=t.createKeyForAppStateData(T,[e],"Variant");var l=g.getModified()?g.getStandardVariantKey():g.getCurrentVariantKey();l=t.fnCheckForNullVariantId(g,l);I[V]={"variantId":l};break;case"Control":s=t.createKeyForAppStateData(T,[e],"@UI.LineItem");j=c.getView().byId(c.getView().getContent()[0].data("filterBarVariantId"));k=c.getView().byId(c.getView().getContent()[0].data("reportTableId")).getVariant();var p=k.getCurrentVariantKey();p=t.fnCheckForNullVariantId(k,p);var q=j.getModified()?j.getStandardVariantKey():j.getCurrentVariantKey();q=t.fnCheckForNullVariantId(j,q);I[f].variantId=q;I[s]={"variantId":p};break;case"None":break;default:L.error("Variant Management not correctly defined, variable wrongly set to: "+c.getView().getViewData().variantManagement);break;}var u={appState:I};u=t.removeSensitiveDataForIAppState(u,d,e,i);var w=n.storeInnerAppStateWithImmediateReturn(u,true,e,true);var x=w.appStateKey;var y=n.replaceInnerAppStateKey(h,x);R.navToHash(y);if(i){t.mInnerAppDataForFCL=m({},I);}r({appState:I});});}).catch(function(){L.warning("Retrieve External State failed");if(t._getIsAppStateReady()===false){t._setIsAppStateReady(true,c);}});});},_fnCreateAppStateForOP:function(c,e){var t=this;return new Promise(function(r){var o=C.getAppComponent(c.getView());var v=c.getView().getViewData();var E=v.entitySet;var i=o.getRootViewController().isFclEnabled();var R=o.getRouterProxy();var h=H.getInstance().getHash();var s;var n;var T="OP";var d=t.createKeyForAppStateData(T,[E],"Section");var l=m({},e);o.getService("navigation").then(function(f){var I={};if(i){I=m({},t.mInnerAppDataForFCL);}else{I=m({},t.mInnerAppDataForOP);}if(l&&l.getSource().isA("sap.uxap.ObjectPageLayout")){s=l.getParameter("section").getId();I[d]={"selectedSection":s};}if(l&&l.getSource().isA("sap.ui.fl.variants.VariantManagement")){var g=l.getSource().getId().split("::VM")[0];n=c.getView().byId(g).getRowsBindingInfo().path;var q="";if(g.indexOf("LineItem::")>-1){q=g.split("::")[g.split("::").length-1];}var j;if(q){j=t.createKeyForAppStateData(T,[E,n],"@UI.LineItem#"+q);}else{j=t.createKeyForAppStateData(T,[E,n],"@UI.LineItem");}var k=l.getSource().getCurrentVariantKey();k=t.fnCheckForNullVariantId(l.getSource(),k);I[j]={"variantId":k};}var p={appState:I};var u=f.storeInnerAppStateWithImmediateReturn(p,true,E,true);var w=u.appStateKey;var x=f.replaceInnerAppStateKey(h,w);if(x!==h){R.navToHash(x);t.bNoRouteChange=true;}if(i){t.mInnerAppDataForFCL=m({},I);}else{t.mInnerAppDataForOP=m({},I);}r(p);});});},_fnApplyAppStatetoLR:function(c,o){var t=this,T,f,d=C.getAppComponent(c.getView()),v=c.getView().getViewData(),e=v.entitySet,i=d.getRootViewController().isFclEnabled();if(i){if(o&&o.appState){t.mInnerAppDataForFCL=m({},o.appState,t.mInnerAppDataForFCL);}}T="LR";var F=t.createKeyForAppStateData(T,[e],"FilterBar");var V,s;f=c.getView().byId(c.getView().getContent()[0].data("filterBarId"));var g;if(o&&o.appState){switch(c.getView().getViewData().variantManagement){case"Page":g=c.getView().byId("fe::PageVariantManagement");V=t.createKeyForAppStateData(T,[e],"Variant");if(o.appState[V]&&o.appState[V].variantId){a.activateVariant({element:d,variantReference:o.appState[V].variantId}).then(function(){t._fnClearFilterAndReplaceWithAppState(o.appState[F].filter,c,f,g);}).catch(function(){t._fnClearFilterAndReplaceWithAppState(o.appState[F].filter,c,f,g);L.warning("Activate Variant failed");});}else{if(o.appState[F]&&o.appState[F].filter){t._fnClearFilterAndReplaceWithAppState(o.appState[F].filter,c,f,g);}}break;case"Control":g=c.getView().byId(c.getView().getContent()[0].data("filterBarVariantId"));s=t.createKeyForAppStateData(T,[e],"@UI.LineItem");if(o.appState[F]&&o.appState[F].variantId&&o.appState[s]&&o.appState[s].variantId){Promise.all([a.activateVariant({element:d,variantReference:o.appState[F].variantId}),a.activateVariant({element:d,variantReference:o.appState[s].variantId})]).then(function(){t._fnClearFilterAndReplaceWithAppState(o.appState[F].filter,c,f,g);}).catch(function(){t._fnClearFilterAndReplaceWithAppState(o.appState[F].filter,c,f,g);L.warning("Activate Variant failed");});}else{if(o.appState[F]&&o.appState[F].filter){t._fnClearFilterAndReplaceWithAppState(o.appState[F].filter,c,f,g);}}break;case"None":if(o.appState[F]&&o.appState[F].filter){S.applyExternalState(f,{filter:o.appState[F].filter}).then(function(){t._setIsAppStateReady(true,c);}).catch(function(){L.warning("Apply External State Failed");t._setIsAppStateReady(true,c);});}break;default:t._fnClearFilterAndReplaceWithAppState(o.appState[F].filter,c,f);L.error("Variant Management not correctly defined, variable wrongly set to: "+c.getView().getViewData().variantManagement);break;}}},_fnApplyAppStatetoOP:function(c,o){var t=this,T,d=C.getAppComponent(c.getView()),v=c.getView().getViewData(),e=v.entitySet,I=d.getRootViewController().isFclEnabled();T="OP";if(I){if(o&&o.appState){t.mInnerAppDataForFCL=m({},o.appState,t.mInnerAppDataForFCL);}}else if(o&&o.appState){t.mInnerAppDataForOP=m({},o.appState,t.mInnerAppDataForOP);}var f=c._findTables();var s=t.createKeyForAppStateData(T,[e],"Section");var O=c.getView().byId("fe::ObjectPage");var g=(o&&o.appState&&Object.keys(o.appState))||[];var h=[];var q,V,n;var r=function(){for(var j=0;j<f.length;j++){if(f[j].getRowsBindingInfo().path===n){var p=f[j].getId();if(q){if(p.indexOf("LineItem::")>-1&&p.split("::")[p.split("::").length-1]===q){V=f[j];break;}}else if(f[j].getId().indexOf("LineItem::")===-1){V=f[j];break;}}}};var k=function(){if(o&&o.appState&&o.appState[s]){O.setSelectedSection(o.appState[s].selectedSection);t._setIsAppStateReady(true);}else{t._setIsAppStateReady(true);}};for(var i=0;i<g.length;i++){if(g[i].indexOf("OP_"+e)>-1&&g[i].indexOf("@UI.LineItem")>-1){var l=g[i];n=g[i].split("/")[g[i].split("/").length-2];if(l.indexOf("#")>-1){q=l.split("#")[1];r();}else{r();}if(V){h.push(a.activateVariant({element:V,variantReference:o.appState[l].variantId}));}}}if(h.length){Promise.all(h).then(function(){k();}).catch(function(){k();L.warning("Activate Variant failed");});}else{k();}},_fnClearFilterAndReplaceWithAppState:function(c,o,f,v){var d=C.getAppComponent(o.getView()),M=d.getMetaModel(),V=o.getView().getViewData(),e=V.entitySet;var E=M.getObject("/"+e+"/");var t=this;var g={};var O;for(var k in E){O=E[k];if(O){if(O.$kind==="Property"){if(t.sNavType==="iAppState"&&!C.isPropertyFilterable(M,"/"+e,k,false)){continue;}g[k]=[];}}}S.applyExternalState(f,{filter:g}).then(function(){var s={filter:c};if(t.sNavType!=="iAppState"){s.items=Object.keys(c).reduce(function(h,p){if(!M.getObject("/"+e+"/"+p+"@com.sap.vocabularies.UI.v1.HiddenFilter")){h.push({name:p});}return h;},[]);}S.applyExternalState(f,s).then(function(){if(v&&v.getStandardVariantKey()!==v.getCurrentVariantKey()){v.setModified(false);}t._setIsAppStateReady(true,o);}).catch(function(){L.warning("Apply External State failed");t._setIsAppStateReady(true,o);});});},_getNavType:function(){return this.sNavType;},checkIfRouteChangedByIApp:function(){return this.bNoRouteChange;},resetRouteChangedByIApp:function(){if(this.bNoRouteChange){this.bNoRouteChange=false;}},fnCheckForNullVariantId:function(v,V){if(V===null){V=v.getId();}return V;}};return A;},true);
sap.ui.predefine('sap/fe/core/BusyLocker',["sap/base/Log"],function(L){"use strict";var _=30,a={},b={getId:function(){return"BusyLocker.ReferenceDummy";},setBusy:function(B){L.info("setBusy("+B+") triggered on dummy reference");}};
function g(r,p){return r.getId()+(p||"/busy");}
function i(r,p){return g(r,p)in a;}
function c(r,p){if(!r||!r.getId){L.warning("No reference for BusyLocker, using dummy reference");r=b;}var p=p||"/busy",I=g(r,p);if(!(I in a)){a[I]={id:I,path:p,reference:r,count:0};}return a[I];}
function d(l){delete a[l.id];}
function e(l){var I=l.reference.isA&&l.reference.isA("sap.ui.model.Model"),B=l.count!==0;if(I){l.reference.setProperty(l.path,B);}else{l.reference.setBusy(B);}clearTimeout(l.timeout);if(B){l.timeout=setTimeout(function(){L.error("busy lock for "+l.id+" with value "+l.count+" timed out after "+_+" seconds!");},_*1000);}else{d(l);}return B;}
function f(l,D){if(D===0){l.count=0;L.info("busy lock count '"+l.id+"' was reset to 0");}else{l.count+=D;L.info("busy lock count '"+l.id+"' is "+l.count);}}
return{lock:function(m,p){return this._updateLock(m,p,1);},unlock:function(m,p){return this._updateLock(m,p,-1);},isLocked:function(m,p){return i(m,p);},_updateLock:function(r,p,D){var l=c(r,p);f(l,D);return e(l);}};});
sap.ui.predefine('sap/fe/core/CommonUtils',["sap/ui/core/mvc/View","sap/ui/core/Component","sap/m/MessageBox","sap/base/Log","sap/fe/navigation/SelectionVariant","sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/odata/v4/FieldBaseDelegate"],function(V,C,M,L,S,F,a){"use strict";var v=["Edm.Boolean","Edm.Byte","Edm.Date","Edm.DateTimeOffset","Edm.Decimal","Edm.Double","Edm.Guid","Edm.Int16","Edm.Int32","Edm.Int64","Edm.SByte","Edm.Single","Edm.String","Edm.TimeOfDay"],e={"Contains":"NotContains","StartsWith":"NotStartsWith","EndsWith":"NotEndsWith","Empty":"NotEmpty","NotEmpty":"Empty","LE":"NOTLE","GE":"NOTGE","LT":"NOTLT","GT":"NOTGT","BT":"NOTBT","NE":"EQ","EQ":"NE"};
function g(i){while(i&&!(i instanceof V)){i=i.getParent();}return i;}
function h(i){var j=false;i.getCurrentContexts().forEach(function(I){if(I&&I.isTransient()){j=true;}});return j;}
function _(i,j,I){var J=false;var K=i.getObject(j+"@Org.OData.Capabilities.V1.FilterRestrictions");if(K&&K.NonFilterableProperties){J=K.NonFilterableProperties.some(function(N){return N.$NavigationPropertyPath===I||N.$PropertyPath===I;});}return J;}
function b(i,j,I){var J=I.split("/"),K=false,N="";J.some(function(O,P,Q){if(N.length>0){N+="/"+O;}else{N=O;}if(P===Q.length-1){K=_(i,j,N);}else if(i.getObject(j+"/$NavigationPropertyBinding/"+O)){K=_(i,j,N);N="";j="/"+i.getObject(j+"/$NavigationPropertyBinding/"+O);}return K===true;});return K;}
function c(i,j,P,I,J){var K;if(!I){I=j+"/"+P;}if(i.getObject(I+"@com.sap.vocabularies.UI.v1.Hidden")){return false;}if(!J&&i.getObject(I+"@com.sap.vocabularies.UI.v1.HiddenFilter")){return false;}if(typeof P==="string"){P=P;}else{P=i.getObject(I+"@sapui.name");}if(P.indexOf("/")<0){K=_(i,j,P);}else{K=b(i,j,P);}return!K;}
function u(I,O,X,J,K,N,P,Q,R){var T={};if(I){if(N&&N.length>0){for(var j=0;j<N.length;j++){var W=N[j].$PropertyPath;if(!T[W]){T[W]=I[W];}}}else{var Y=Q.getObject(R+"/$Type/$Key");for(var Z in Y){var $=Y[Z];if(!T[$]){T[$]=I[$];}}}}var a1=X.getLinks({semanticObject:J,params:T});a1.done(function(b1){b1.sort(function(g1,h1){if(g1.text<h1.text){return-1;}if(g1.text>h1.text){return 1;}return 0;});if(b1&&b1.length>0){var c1=[];for(var i=0;i<b1.length;i++){var d1=b1[i];var e1=d1.intent;var f1=e1.split("-")[1].split("?")[0];if(f1!==K&&(!P||(P&&P.indexOf(f1)===-1))){c1.push({text:d1.text,targetSemObject:e1.split("#")[1].split("-")[0],targetAction:f1.split("~")[0]});}}O.getModel("relatedAppsModel").setProperty("/visibility",c1.length>0);O.getModel("relatedAppsModel").setProperty("/items",c1);}else{O.getModel("relatedAppsModel").setProperty("/visibility",false);}});}
function U(O){var i=sap.ushell&&sap.ushell.Container;var X=i&&i.getService("CrossApplicationNavigation");var j=i&&i.getService("URLParsing");var P=j&&j.parseShellHash(document.location.hash);var I=P.semanticObject;var J=P.action;var K=O.getModel().getMetaModel();var N=O.getBindingContext();var Q=N&&N.getPath();var R=K.getMetaPath(Q);var T=R+"/"+"@com.sap.vocabularies.Common.v1.SemanticKey";var W=K.getObject(T);var Y=K.getObject(R+"/"+"@com.sap.vocabularies.Common.v1.SemanticObjectUnavailableActions");var Z=N.getObject();if(!Z){N.requestObject().then(function(Z){u(Z,O,X,I,J,W,Y,K,R);});}else{u(Z,O,X,I,J,W,Y,K,R);}}
function f(i){var j=["sap.m.Button","sap.m.OverflowToolbarButton"];if(i&&j.indexOf(i.getMetadata().getName())!==-1&&i.getVisible()&&i.getEnabled()){i.firePress();}}
function r(i){if(i==="true"||i===true){return true;}else{return false;}}
function d(i){var O=C.getOwnerComponentFor(i);if(!O){return i;}else{return d(O);}}
function p(P,i,j,I){var J=i&&i.getModel("ui")&&i.getModel("ui").getData(),K=J.createMode||J.editMode==="Editable",R=sap.ui.getCore().getLibraryResourceBundle("sap.fe.templates"),W=R&&R.getText("NAVIGATION_AWAY_MSG"),N=R&&R.getText("NAVIGATION_AWAY_CONFIRM_BUTTON"),O=R&&R.getText("NAVIGATION_AWAY_CANCEL_BUTTON");if(j==="Sticky"&&K){return M.warning(W,{actions:[N,O],onClose:function(Q){if(Q===N){var T=i&&i.getModel("localUI");L.info("Navigation confirmed.");if(T){T.setProperty("/sessionOn",false);}else{L.warning("Local UIModel couldn't be found.");}P();if(I){I.editFlow.fnStickyDiscard(i.getBindingContext());}}else{L.info("Navigation rejected.");}}});}return P();}
function n(i,j,I,J,O,K){j=j?j:new S();var N=j.toJSONString();var P=H.getAppComponent(i);if(K){i.getModel("localUI").setProperty("/IBN_OpenInNewTable",true);}P.getService("navigation").then(function(Q){Q.navigate(I,J,N,null,O,null,K?"explace":"inplace");});}
function G(i,j){var I=i.getObject("/"+j+"/")||{},P={};for(var K in I){if(I.hasOwnProperty(K)&&!/^\$/i.test(K)&&I[K].$kind&&I[K].$kind==="Property"){P[K]=I[K];}}return P;}
function k(i,j){var I;if(i&&j){I=i.getObject("/"+j+"@Org.OData.Capabilities.V1.FilterRestrictions/RequiredProperties");}return I;}
function l(j){var I=sap.ushell&&sap.ushell.Container;var X=I&&I.getService("CrossApplicationNavigation");var J=X.getLinks({params:{}});J.then(function(K){if(K&&K.length>0){var N={};for(var i=0;i<K.length;i++){N[K[i].intent.substring(1)]=true;}j.setProperty("/IBNActions",N);}});}
function m(i,R,P,j){var I;if(R){if(j){I=i+"|"+j;if(R.getText(I,P,true)){return R.getText(I,P,true);}}if(R.getText(i,P,true)){return R.getText(i,P,true);}}R=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");return R.getText(i,P);}
function o(i,R,j,I){j=!j?i.getObject(i.getPath()):j;var J=i.getPath().split("/@")[0];J=i.getObject(J).$Type;J=q(i.getModel(),J);if(I){return i.getObject("/"+J+"/"+j+"@Org.OData.Core.V1.OperationAvailable");}if(R){return"/"+J+"/"+j;}else{return{sEntityName:J,sProperty:i.getObject("/"+J+"/"+j+"@Org.OData.Core.V1.OperationAvailable/$Path"),sBindingParameter:i.getObject("/"+J+"/"+j+"/@$ui5.overload/0/$Parameter/0/$Name")};}}
function q(i,j){var I=i.getObject("/");for(var J in I){if(typeof I[J]==="object"&&I[J].$Type===j){return J;}}}
function s(P,i){var T=P["@com.sap.vocabularies.Common.v1.Text"],j=T&&((P&&P["@com.sap.vocabularies.Common.v1.Text@com.sap.vocabularies.UI.v1.TextArrangement"])||(i&&i["@com.sap.vocabularies.UI.v1.TextArrangement"]));if(j){if(j.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly"){return"Description";}else if(j.$EnumMember==="com.sap.vocabularies.UI.v1.TextArrangementType/TextLast"){return"ValueDescription";}return"DescriptionValue";}return T?"DescriptionValue":"Value";}
function t(j,I,J,K){for(var N in I){j.setProperty(J+"/"+N,false);var P=I[N];for(var i=0;i<K.length;i++){var O=K[i];var Q=O.getObject();if(P===null&&!!Q["#"+N]){j.setProperty(J+"/"+N,true);break;}else if(!!O.getObject(P)){j.setProperty(J+"/"+N,true);break;}}}}
function w(R){var i=a.getDataTypeClass(null,R);var j=a.getBaseType(null,i);return F.getOperatorsForType(j);}
function x(i,j){var O=i.filter(function(I){return j.indexOf(I)>-1;});return O.toString()||undefined;}
function y(P,i,j){var I=j.getObject(i+"@Org.OData.Capabilities.V1.FilterRestrictions");var J=["EQ"];var K=["EQ","BT","BTEX","LT","NOTLT","GT","NOTGT","LE","NOTLE","GE","NOTGE"];var N=["EQ","BT","BTEX","NOTBT","NOTBTEX","LT","NOTLT","GT","NOTGT","LE","NOTLE","GE","NOTGE","NE"];var O=["StartsWith","NotStartsWith","EndsWith","NotEndsWith","Contains","NotContains"];if(I&&I.FilterExpressionRestrictions&&I.FilterExpressionRestrictions.some(function(W){return W.Property.$PropertyPath===P;})){var R=j.getObject(i+"/"+P+"/$Type");var Q=w(R);var T=I.FilterExpressionRestrictions.filter(function(W){return W.Property.$PropertyPath===P;});if(T.some(function(W){return W.AllowedExpressions==="SingleValue"||W.AllowedExpressions==="MultiValue";})){return x(Q,J);}if(T.some(function(W){return W.AllowedExpressions==="SingleRange";})){return x(Q,K);}if(T.some(function(W){return W.AllowedExpressions==="MultiRange";})){return x(Q,N);}if(T.some(function(W){return W.AllowedExpressions==="SearchExpression";})){return x(Q,O);}if(T.some(function(W){return W.AllowedExpressions==="MultiRangeOrSearchExpression";})){return x(Q,O.concat(N));}return undefined;}}
function z(i,T){var j;if(v.indexOf(T)>-1){j=i;if(T==="Edm.Boolean"){j=i==="true"||(i==="false"?false:undefined);}else if(T==="Edm.Double"||T==="Edm.Single"){j=isNaN(i)?undefined:parseFloat(i);}else if(T==="Edm.Byte"||T==="Edm.Int16"||T==="Edm.Int32"||T==="Edm.SByte"){j=isNaN(i)?undefined:parseInt(i,10);}else if(T==="Edm.Date"){j=i.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)?i.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]:i.match(/^(\d{8})/)&&i.match(/^(\d{8})/)[0];}else if(T==="Edm.DateTimeOffset"){if(i.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)){j=i.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})\+(\d{1,4})/)[0];}else if(i.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)){j=i.match(/^(\d{4})-(\d{1,2})-(\d{1,2})T(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]+"+0000";}else if(i.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)){j=i.match(/^(\d{4})-(\d{1,2})-(\d{1,2})/)[0]+"T00:00:00+0000";}else if(i.indexOf("Z")===i.length-1){j=i.split("Z")[0]+"+0100";}else{j=undefined;}}else if(T==="Edm.TimeOfDay"){j=i.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)?i.match(/(\d{1,2}):(\d{1,2}):(\d{1,2})/)[0]:undefined;}}return j;}
function A(O,i,j,I){var J=i,K,N,P={isEmpty:null,values:[]};if(i===undefined||i===null){return;}switch(O){case"CP":N="Contains";if(J){var Q=J.indexOf("*");var R=J.lastIndexOf("*");if(Q>-1){if(Q===0&&R!==J.length-1){N="EndsWith";J=J.substring(1,J.length);}else if(Q!==0&&R===J.length-1){N="StartsWith";J=J.substring(0,J.length-1);}else{J=J.substring(1,J.length-1);}}else{L.warning("Contains Option cannot be used without '*'.");return;}}break;case"EQ":N=i===""?"Empty":O;break;case"NE":N=i===""?"NotEmpty":O;break;case"BT":if(j===undefined||j===null){return;}K=j;N=O;break;case"LE":case"GE":case"GT":case"LT":N=O;break;default:L.warning("Selection Option is not supported : '"+O+"'");return;}if(I==="E"){N=e[N];}P.operator=N;P.values.push(J);if(K){P.values.push(K);}return P;}
function B(i,j,I,J){var K=i.getSelectOptionsPropertyNames(),N=H.getEntitySetProperties(I,J),P=i.getParameterNames();P.forEach(function(O){if(O.substring(0,2)==="P_"){var Q=O;O=O.slice(2,O.length);if(K.indexOf(O)==-1){if(O in N){var R=i.getParameter(Q),T=H.getValueTypeCompliant(R,N[O].$Type),W;if(T!==undefined||T!==null){W={isEmpty:null,operator:"EQ",values:[T]};j[O]=j.hasOwnProperty(O)?j[O].concat([W]):[W];}}}}});K.forEach(function(O){var Q=O;if(O.substring(0,2)==="P_"){O=O.slice(2,O.length);if(K.indexOf(O)>-1){O="";}}if(O in N){var R=[],T,W;if(H.isPropertyFilterable(I,"/"+J,O,false,true)){T=i.getSelectOption(Q==O?O:Q);W=H.getOperatorsForProperty(O,"/"+J,I);R=T.reduce(function(X,Y){var Z=H.getValueTypeCompliant(Y.Low,N[O].$Type),$=Y.High?H.getValueTypeCompliant(Y.High,N[O].$Type):undefined;if((Z!==undefined||Z!==null)&&Y.Option){var a1=H.createConditions(Y.Option,Z,$,Y.Sign);if(!W||W.indexOf(a1.operator)>-1){X.push(a1);}}return X;},R);if(R.length){j[O]=j.hasOwnProperty(O)?j[O].concat(R):R;}}}});return j;}
function D(i,j){var I,J="",K=null;var N=function(T,W,X){var Y={option:"",sign:"I",low:W,high:X};switch(T){case"Contains":Y.option="CP";break;case"StartsWith":Y.option="CP";Y.low+="*";break;case"EndsWith":Y.option="CP";Y.low="*"+Y.low;break;case"BT":case"LE":case"LT":case"GT":case"NE":case"EQ":Y.option=T;break;case"EEQ":Y.option="EQ";break;case"Empty":Y.option="EQ";Y.low="";break;case"NotContains":Y.option="CP";Y.sign="E";break;case"NOTBT":Y.option="BT";Y.sign="E";break;case"NotStartsWith":Y.option="CP";Y.low+="*";Y.sign="E";break;case"NotEndsWith":Y.option="CP";Y.low="*"+Y.low;Y.sign="E";break;case"NotEmpty":Y.option="NE";Y.low="";break;case"NOTLE":Y.option="LE";Y.sign="E";break;case"NOTGE":Y.option="GE";Y.sign="E";break;case"NOTLT":Y.option="LT";Y.sign="E";break;case"NOTGT":Y.option="GT";Y.sign="E";break;default:L.warning(T+" is not supported. "+I+" could not be added to the navigation context");}return Y;};j=j.filter||j;for(var I in j){if(I==="$editState"){continue;}var O=j[I];for(var P in O){var Q=O[P];J=Q.values[0].toString();K=(Q.values[1]&&Q.values[1].toString())||null;var R=N(Q.operator,J,K);if(R.option){i.addSelectOption(I,R.sign,R.option,R.low,R.high);}}}return i;}
function E(i,j){var I=i&&i.getModel("ui")&&i.getModel("ui").getData();var J=I.createMode||I.editMode==="Editable";return j==="Sticky"&&J;}
var H={isPropertyFilterable:c,fireButtonPress:f,getParentViewOfControl:g,hasTransientContext:h,updateRelatedAppsDetails:U,resolveStringtoBoolean:r,getAppComponent:d,processDataLossConfirmation:p,navigateToExternalApp:n,getMandatoryFilterFields:k,getEntitySetProperties:G,updateDataFiledForIBNButtonsVisibility:l,getTranslatedText:m,getEntitySetName:q,getActionPath:o,computeDisplayMode:s,setActionEnablement:t,isStickyEditMode:E,getOperatorsForProperty:y,addSelectionVariantToConditions:B,addExternalStateFiltersToSelectionVariant:D,createConditions:A,getValueTypeCompliant:z};return H;});
sap.ui.predefine('sap/fe/core/FEHelper',["sap/fe/core/helpers/ValueListHelper","sap/fe/core/CommonUtils","sap/m/MessageToast","sap/base/Log"],function(V,C,M,L){"use strict";var w=V.getWaitForPromise();var F={launchValueHelpFromActionParameterDialog:function(p,f,s){var m=f.getModel(),o=m.getMetaModel(),W=f.getContent&&f.getContent(),a=W.getId(),t=W&&W.getTable&&W.getTable(),b=f&&f.getFilterBar&&f.getFilterBar(),e=t&&b,c;if(t){c=s?"416px":"Auto";t.setContextualWidth(c);}if(w[a]||e){return;}else{if(!t){w[a]=true;}V.getValueListInfo(f,o,p).then(function(v){var P,d,g=v.valueListInfo;P=g.$model.getMetaModel().getObject(v.fieldPropertyPath+"@");d=g.$model.getMetaModel().getObject("/"+g.CollectionPath+"/$Type@");var D=C.computeDisplayMode(P,d);f.getParent().setProperty("display",D);return V.createValueHelpDialog(p,f,t,b,v,s);}).catch(function(d){var g=d.status&&d.status===404?"Metadata not found ("+d.status+") for value help of property "+p:d.message;L.error(g);M.show(g);});}},getTargetCollection:function(c){var p=c.getPath();if(c.getObject("$kind")==="EntitySet"||c.getObject("$kind")==="Action"||c.getObject("0/$kind")==="Action"){return p;}p="/"+p.split("/").filter(Boolean).join("/$NavigationPropertyBinding/");return"/"+c.getObject(p);},setSemanticObjectMappings:function(s,m){var o=JSON.parse(m);for(var i=0;i<o.length;i++){var l=o[i]["LocalProperty"]["$PropertyPath"];var S=o[i]["SemanticObjectProperty"];if(s.getSelectOption(l)){var a=s.getSelectOption(l);var b=a[0]["Sign"];var c=a[0]["Low"];var O=a[0]["Option"];var h=a[0]["High"];s.removeSelectOption(l);s.addSelectOption(S,b,O,c,h);}}return s;}};return F;},true);
sap.ui.predefine('sap/fe/core/RouterProxy',["sap/base/Log","sap/ui/base/Object","sap/ushell/components/applicationIntegration/AppLifeCycle","sap/ui/core/routing/HashChanger","sap/ui/base/EventProvider","sap/fe/core/Synchronization"],function(L,B,A,H,E,S){"use strict";var e={EQUAL:0,COMPATIBLE:1,ANCESTOR:2,DIFFERENT:3};var a={LAYOUTPARAM:"layout",IAPPSTATEPARAM:"sap-iapp-state"};return B.extend("sap.fe.core.RouterProxy",{bIsRebuildHistoryRunning:false,bIsComputingTitleHierachy:false,oNavigationGuardState:null,bIsGuardCrossAllowed:false,sIAppStateKey:null,init:function(o,i){var f=sap.ushell.Container.getService("URLParsing").splitHash(window.location.hash).shellPart;this.initRaw(o.getRouter(),f);this._oRouteMatchSynchronization=new S();this._bActivateRouteMatchSynchro=false;history.replaceState(Object.assign({feLevel:0},history.state),null,window.location);this.fclEnabled=i;},initRaw:function(r,f){this._oRouter=r;this._oManagedHistory=[];this._sFlpAppName=f;var c=this._oRouter.getHashChanger().getHash();this._oManagedHistory.push(this._extractStateFromHash(c));this.sIAppStateKey=this._findAppStateInHash(c);},navToHash:function(h,p){var t=this;if(this._oRouteMatchSynchronization){return this._oRouteMatchSynchronization.waitFor().then(function(){t._oRouteMatchSynchronization=null;return t._internalNavToHash(h,p);});}else{if(this._bActivateRouteMatchSynchro){this._oRouteMatchSynchronization=new S();this._bActivateRouteMatchSynchro=false;}return t._internalNavToHash(h,p);}},_internalNavToHash:function(h,p){var t=this,l=sap.ui.getCore().getCurrentFocusedControlId(),s=l&&sap.ui.getCore().byId(l)?sap.ui.getCore().byId(l).getFocusInfo():null,b=window.location.hash;if(this.fclEnabled&&this.sIAppStateKey&&!this._findAppStateInHash(h)){h=this._setAppStateInHash(h,this.sIAppStateKey);}var n=this._extractStateFromHash(h);if(!this._checkNavigationGuard(n)){if(!this.oResourceBundle){this.oResourceBundle=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");}if(!confirm(this.oResourceBundle.getText("SAPFE_EXIT_NOTSAVED_MESSAGE"))){return Promise.resolve();}this.bIsGuardCrossAllowed=true;}this._pushNewState(n,p);return this._rebuildBrowserHistory(h).then(function(){t.storeFocusForHash(l,s,b);});},restoreHistory:function(){var t=H.getInstance().getHash(),n=this._extractStateFromHash(t);this._pushNewState(n);this._rebuildBrowserHistory(t,true);},storeFocusForHash:function(l,s,b){var m=this._oManagedHistory;for(var i=0;i<m.length;i++){var h="#"+m[i].hash;if(b===h||h===b+"&/"){m[i].oLastFocusControl={controlId:l,focusInfo:s};break;}}},navTo:function(r,p){var h=this._oRouter.getURL(r,p);return this.navToHash(h);},exitFromApp:function(){return new Promise(function(r,b){var x=sap.ushell.Container.getService("CrossApplicationNavigation");x.backToPreviousApp();r();});},isCurrentStateImpactedBy:function(h){var s=this._extractStateFromHash(h);return this._compareCacheStates(s,this._oManagedHistory[this._oManagedHistory.length-1])!==e.DIFFERENT;},isNavigationFinalized:function(){return!this.bIsRebuildHistoryRunning;},setNavigationGuard:function(){var c=this._sFlpAppName+"&/"+this._oRouter.getHashChanger().getHash();var i=-1;this._oManagedHistory.forEach(function(h,_){if(h.hash===c){i=_;}});if(i!==-1){while(i>0&&this._compareStateKeys(this._oManagedHistory[i-1],this._oManagedHistory[i])){i--;}this.oNavigationGuardState=this._oManagedHistory[i];this.bIsGuardCrossAllowed=false;}else{throw new Error("current hash has no entry in Managed cache !!!");}},discardNavigationGuard:function(){this.oNavigationGuardState=null;},checkHashWithGuard:function(h){if(this.oNavigationGuardState===null){return true;}var n=this._extractStateFromHash(h);return this._checkNavigationGuard(n);},isGuardCrossAllowedByUser:function(){return this.bIsGuardCrossAllowed;},_checkNavigationGuard:function(s){if(this.oNavigationGuardState===null){return true;}var c=this._compareCacheStates(this.oNavigationGuardState,s);return c!==e.DIFFERENT;},activateRouteMatchSynchronization:function(){this._bActivateRouteMatchSynchro=true;},resolveRouteMatch:function(){if(this._oRouteMatchSynchronization){this._oRouteMatchSynchronization.resolve();}},_extractStateFromHash:function(h){var s={keys:[]};var b=h.split("?")[0];var t=b.split("/");t.forEach(function(T){var r=/[^\(\)]+\([^\(\)]+\)/;if(r.test(T)){T=T.substring(0,T.length-1);var n={keyID:T.split("(")[0]};var k=T.split("(")[1].split(",");if(k.length>1){k.forEach(function(v){var c=v.split("=");n[c[0]]=c[1];});}else{n["ID"]=T.split("(")[1];}s.keys.push(n);}});var l=h.match(new RegExp("\\?.*"+a.LAYOUTPARAM+"=([^&]*)"));s.sLayout=l&&l.length>1?l[1]:null;if(s.sLayout==="MidColumnFullScreen"){s.screenMode=1;}else if(s.sLayout==="EndColumnFullScreen"){s.screenMode=2;}else{s.screenMode=0;}s.hash=this._sFlpAppName+"&/"+h;return s;},_pushNewState:function(n,p){var c=this._extractStateFromHash(this._oRouter.getHashChanger().getHash()),l=this._oManagedHistory.length-1,t=this;while(l>=0&&this._compareCacheStates(this._oManagedHistory[l],c)!==e.EQUAL){this._oManagedHistory.pop();l--;}if(this._oManagedHistory.length===0){this._oManagedHistory.push(c);history.replaceState(Object.assign({feLevel:0},history.state),null,window.location);}var o;var b;while(this._oManagedHistory.length>0&&this._compareCacheStates(this._oManagedHistory[this._oManagedHistory.length-1],n)!==e.ANCESTOR&&!p){o=this._oManagedHistory[this._oManagedHistory.length-1].oLastFocusControl;b=this._oManagedHistory.pop();}this.sIAppStateKey=this._findAppStateInHash(n.hash);if(this.fclEnabled&&this.sIAppStateKey){this._oManagedHistory.forEach(function(m){m.hash=t._setAppStateInHash(m.hash,t.sIAppStateKey);});}else if(!this.fclEnabled&&b){var P=this._findAppStateInHash(b.hash);var C=this._compareCacheStates(b,n);if(!this.sIAppStateKey&&P&&(C===e.EQUAL||C===e.COMPATIBLE)){n.hash=t._setAppStateInHash(n.hash,P);}}n.oLastFocusControl=o;this._oManagedHistory.push(n);},_findAppStateInHash:function(h){var b=h.match(new RegExp("\\?.*"+a.IAPPSTATEPARAM+"=([^&]*)"));return b&&b.length>1?b[1]:null;},_setAppStateInHash:function(h,s){var n;if(h.indexOf(a.IAPPSTATEPARAM)>=0){n=h.replace(new RegExp(a.IAPPSTATEPARAM+"=[^&]*"),a.IAPPSTATEPARAM+"="+s);}else{if(h.replace(this._sFlpAppName,"").indexOf("?")<0){n=h+"?";}else{n=h+"&";}n+=a.IAPPSTATEPARAM+"="+s;}return n;},_disableEventOnHashChange:function(){this._oRouter.stop();},_enableEventOnHashChange:function(i){this._oRouter.initialize(i);},_rebuildBrowserHistory:function(n,r){var t=this;return new Promise(function(b,c){if(t.bIsRebuildHistoryRunning===true){L.warning("_rebuildBrowserHistory already running ... Add this call to the pool");if(!t.rebuildHistoryPool){t.rebuildHistoryPool=[];}t.rebuildHistoryPool.push(n);b();return;}t.bIsRebuildHistoryRunning=true;function d(){if(t._oManagedHistory[0].hash.indexOf("&/")===-1){t._oManagedHistory[0].hash+="&/";}var s=Object.assign({},history.state);s.sap=Object.assign({},history.state.sap);if(!s.sap.history){s.sap.history=[];}if(t._oManagedHistory.length===1){if(window.location.hash==="#"+t._oManagedHistory[0].hash){t._enableEventOnHashChange(!!r);}else{if(!r){t._enableEventOnHashChange(true);}window.location.replace("#"+t._oManagedHistory[0].hash);history.replaceState(Object.assign(s,{feLevel:0}),null,"#"+t._oManagedHistory[0].hash);if(r){setTimeout(function(){t._enableEventOnHashChange(true);},0);}}}else{history.replaceState(Object.assign(s,{feLevel:0}),null,"#"+t._oManagedHistory[0].hash);var i=1;while(i<t._oManagedHistory.length-1){s.sap.history=s.sap.history.concat();s.sap.history.push(t._oManagedHistory[i].hash);history.pushState(Object.assign(s,{feLevel:i}),null,"#"+t._oManagedHistory[i].hash);i++;}if(!r){t._enableEventOnHashChange(true);}window.location="#"+t._oManagedHistory[i].hash;s.sap.history=s.sap.history.concat();s.sap.history.push(t._oManagedHistory[i].hash);history.replaceState(Object.assign(s,{feLevel:t._oManagedHistory.length-1}),null,"#"+t._oManagedHistory[i].hash);if(r){setTimeout(function(){t._enableEventOnHashChange(true);},0);}}t.bIsRebuildHistoryRunning=false;if(t.rebuildHistoryPool&&t.rebuildHistoryPool.length>0){var l=t.rebuildHistoryPool[0];t.rebuildHistoryPool.shift();t._rebuildBrowserHistory(l);}b();}function f(){if(!history.state){b();}else if(history.state.feLevel===0){window.removeEventListener("popstate",f);setTimeout(function(){d();},0);}else{history.back();}}t._disableEventOnHashChange();if(!history.state||history.state.feLevel===undefined){window.addEventListener("popstate",f);history.back();}else if(history.state.feLevel!==0){window.addEventListener("popstate",f);history.go(-history.state.feLevel);}else{d();}});},navigateBack:function(p){if(p&&p.rebuildHistory===true&&history.state.sap&&history.state.sap.history&&history.state.sap.history.length>1){var n=history.state.sap.history[history.state.sap.history.length-2];n=n.replace(new RegExp(this._sFlpAppName+"(&/){0,1}"),"");this.navToHash(n);}else{window.history.back();}},_compareCacheStates:function(s,o){if(s.keys.length>o.keys.length){return e.DIFFERENT;}var b=true;var i;for(i=0;b&&i<s.keys.length;i++){if(s.keys[i].keyID!==o.keys[i].keyID||s.keys[i].ID!==o.keys[i].ID){b=false;}}if(!b){return e.DIFFERENT;}if(s.keys.length<o.keys.length||s.screenMode<o.screenMode){return e.ANCESTOR;}if(s.screenMode>o.screenMode){return e.DIFFERENT;}for(i=0;b&&i<s.keys.length;i++){if(s.keys[i].IsActiveEntity!==o.keys[i].IsActiveEntity){b=false;}}if(!b||s.sLayout!==o.sLayout){return e.COMPATIBLE;}else{return e.EQUAL;}},_compareStateKeys:function(s,o){if(s.keys.length!=o.keys.length){return false;}var b=true;var i;for(i=0;b&&i<s.keys.length;i++){if(s.keys[i].keyID!==o.keys[i].keyID||s.keys[i].ID!==o.keys[i].ID){b=false;}}return b;},checkIfBackIsOutOfGuard:function(p){var t=this,P;if(p===undefined){p=window.location.hash.substring(1);}if(t.oNavigationGuardState&&t._oManagedHistory){for(var i=t._oManagedHistory.length-1;i>0;i--){if(t._oManagedHistory[i].hash===p){P=t._oManagedHistory[i-1].hash;break;}}return!P||!t.checkHashWithGuard(P.split(this._sFlpAppName+"&/")[1]);}return false;}});});
sap.ui.predefine('sap/fe/core/TemplateModel',["sap/base/Log","sap/ui/base/Object","sap/ui/model/Context"],function(L,B,C){"use strict";var P="@FE.";var r=new RegExp(P,"g");return B.extend("sap.fe.core.TemplateModel",{oMetaModel:null,oConfigModel:null,constructor:function(m,c){this.oMetaModel=m;this.oConfigModel=c;this.fnCreateMetaBindingContext=this.oMetaModel.createBindingContext.bind(this.oMetaModel);this.fnCreateConfigBindingContext=this.oConfigModel.createBindingContext.bind(this.oConfigModel);this.fnMetaModelResolve=this.oMetaModel.resolve.bind(this.oMetaModel);this.fnConfigModelResolve=this.oConfigModel.resolve.bind(this.oConfigModel);var g=this.oConfigModel._getObject.bind(this.oConfigModel);this.oConfigModel._getObject=function(p,o){var R="";if(o){R=o.getPath();}if(p){R=R+(R?"/":"")+p;}R=R.replace(r,"");return g(R);};this.oMetaModel.resolve=this.resolve.bind(this);this.oConfigModel.resolve=this.resolve.bind(this);this.oMetaModel.createBindingContext=this.createBindingContext.bind(this);this.oConfigModel.createBindingContext=this.createBindingContext.bind(this);return this.oMetaModel;},isConfig:function(p){if(!p){return false;}var s=p.split("/"),_=function(a){if(Array.isArray(a)){for(var i=0;i<a.length;i++){if(a[i].indexOf(P)===0){return true;}}}return false;};return s&&_(s);},resolve:function(p,c){if(this.isConfig(p)){return this.fnConfigModelResolve(p,(c&&c.$$configModelContext)||c);}else{return this.fnMetaModelResolve(p,c);}},createBindingContext:function(p,c,m,f){var b,R;if(this.isConfig(p)){b=this.fnCreateConfigBindingContext(p,c,m,f);R=b.getObject();if(R&&typeof R==="string"&&!this.isConfig(R)){b=this.fnCreateMetaBindingContext(R,c,m,f);}}else{b=this.fnCreateMetaBindingContext.apply(this.oMetaModel,arguments);var s=m&&m.$$configModelPath;if(s){b=new C(this.oMetaModel,p);b.$$configModelContext=this.fnCreateConfigBindingContext(s,c,m,f);}}return b;}});});
sap.ui.predefine('sap/fe/core/actions/draft',["sap/m/Dialog","sap/m/Button","sap/m/Text","sap/m/MessageBox","sap/fe/core/actions/messageHandling"],function(D,B,T,M,m){"use strict";
function c(C,p){var P=p||{},l=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core"),r=typeof P.bPreserveChanges==="undefined"||(typeof P.bPreserveChanges==="boolean"&&P.bPreserveChanges);function o(O){if(O){var b=C.getModel(),e=b.bindContext(C.getPath()+"/DraftAdministrativeData").getBoundContext();return e.requestObject().then(function(f){if(f){m.removeUnboundTransitionMessages();var i=f.InProcessByUserDescription||f.InProcessByUser;if(i){M.error(l.getText("OBJECT_PAGE_DRAFT_LOCKED_BY_USER",i));throw new Error(l.getText("OBJECT_PAGE_DRAFT_LOCKED_BY_USER",i));}else{return s(f).then(function(){return C.executeDraftEditAction(false);});}}});}return Promise.reject(new Error("Draft creation aborted for document: "+C.getPath()));}function s(b){return new Promise(function(e,f){var i=b.CreatedByUserDescription||b.CreatedByUser,g=new D({title:l.getText("OBJECT_PAGE_WARNING"),state:"Warning",content:new T({text:l.getText("OBJECT_PAGE_DRAFT_UNSAVED_CHANGES",i)}),beginButton:new B({text:l.getText("OBJECT_PAGE_EDIT"),type:"Emphasized",press:function(){g.close();e(true);}}),endButton:new B({text:l.getText("OBJECT_PAGE_CANCEL"),press:function(){g.close();f("Draft creation aborted for document: "+C.getPath());}}),afterClose:function(){g.destroy();}});g.addStyleClass("sapUiContentPadding");g.open();});}if(!C){return Promise.reject(new Error("Binding context to active document is required"));}if(!C.executeDraftEditAction){return Promise.reject(new Error("Draft is not supported by document: "+C.getPath()));}return Promise.resolve(P.fnBeforeCreateDraftFromActiveDocument?P.fnBeforeCreateDraftFromActiveDocument(C,r):true).then(function(e){if(!e){throw new Error("Draft creation was aborted by extension for document: "+C.getPath());}return C.executeDraftEditAction(r).catch(function(R){if(r&&R.status===409){return Promise.resolve(P.fnWhenDecisionToOverwriteDocumentIsRequired?P.fnWhenDecisionToOverwriteDocumentIsRequired():true).then(o);}else{throw new Error(R);}});}).then(function(b){return Promise.resolve(P.fnAfterCreateDraftFromActiveDocument?P.fnAfterCreateDraftFromActiveDocument(C,b):b);}).catch(function(e){return Promise.reject(e);});}
function a(C,p){var P=p||{};if(!C){return Promise.reject(new Error("Binding context to draft document is required"));}if(!C.executeDraftActivationAction){return Promise.reject(new Error("Activation action is not supported for document : "+C.getPath()));}return Promise.resolve(P.fnBeforeActivateDocument?P.fnBeforeActivateDocument(C):true).then(function(e){if(!e){return Promise.reject(new Error("Activation of the document was aborted by extension for document: "+C.getPath()));}if(!C.executeDraftPreparationAction){return C.executeDraftActivationAction();}return C.executeDraftPreparationAction().then(function(){return C.executeDraftActivationAction();}).catch(function(b){return Promise.reject(b);});}).then(function(A){return Promise.resolve(P.fnAfterActivateDocument?P.fnAfterActivateDocument(C,A):A);}).catch(function(e){return Promise.reject(e);});}
var d={createDraftFromActiveDocument:c,activateDocument:a};return d;});
sap.ui.predefine('sap/fe/core/actions/messageHandling',["sap/m/MessageToast","sap/m/MessageItem","sap/m/MessageView","sap/m/Button","sap/m/Dialog","sap/ui/core/MessageType","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/message/Message","sap/ui/core/IconPool"],function(M,a,b,B,D,c,F,d,e,I){"use strict";var t=this;
function f(){var p;function i(P){return P.property?"( ${"+P.property+'} ? ("<p>'+P.property.substr(Math.max(P.property.lastIndexOf("/"),P.property.lastIndexOf("."))+1)+' : " + '+"${"+P.property+'} + "<p/>") : "" )':"";}function n(P){var H="";if(P.groupName&&P.property&&P.groupName!==p){H+="( ${"+P.property+'} ? "<br/><h3>'+P.groupName+'</h3>" : "" ) + ';p=P.groupName;}return H;}function o(){var T="technicalDetails";return[{"groupName":"","property":T+"/status"},{"groupName":"","property":T+"/statusText"},{"groupName":"Application","property":T+"/error/@SAP__common.Application/ComponentId"},{"groupName":"Application","property":T+"/error/@SAP__common.Application/ServiceId"},{"groupName":"Application","property":T+"/error/@SAP__common.Application/ServiceRepository"},{"groupName":"Application","property":T+"/error/@SAP__common.Application/ServiceVersion"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.ErrorResolution/Analysis"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.ErrorResolution/Note"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.ErrorResolution/DetailedNote"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.ExceptionCategory"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.TimeStamp"},{"groupName":"ErrorResolution","property":T+"/error/@SAP__common.TransactionId"},{"groupName":"Messages","property":T+"/error/code"},{"groupName":"Messages","property":T+"/error/message"}];}var H="Object.keys("+"${technicalDetails}"+').length > 0 ? "<h2>Technical Details</h2>" : "" ';o().forEach(function(P){H=H+n(P)+""+i(P)+" + ";});return H;}
function g(){var H="(${"+'description} ? ("<h2>Description</h2>" + ${'+'description}) : "")';return H;}
function G(n){var o=c.None,L=n.length,p={Error:0,Warning:0,Success:0,Information:0};for(var i=0;i<L;i++){++p[n[i].getType()];}if(p[c.Error]>0){o=c.Error;}else if(p[c.Warning]>0){o=c.Warning;}else if(p[c.Success]>0){o=c.Success;}else if(p[c.Information]>0){o=c.Information;}return o;}
function s(C){var u=k(),o=sap.ui.getCore().getMessageManager(),H,i;if(u.length===0&&!C){return Promise.resolve(true);}else if(u.length===1&&u[0].getType()===c.Success&&!C){return new Promise(function(n,p){M.show(u[0].message);o.removeMessages(u);n();});}else{return new Promise(function(n,p){t.resolve=n;sap.ui.getCore().getLibraryResourceBundle("sap.fe.core",true).then(function(R){t.oMessageTemplate=t.oMessageTemplate||new a({counter:"{counter}",title:"{message}",subtitle:"{additionalText}",longtextUrl:"{descriptionUrl}",type:"{type}",description:"{= ${"+"description} || ${technicalDetails} ? "+'"<html><body>" + '+g()+" + "+f()+'"</body></html>"'+' : "" }',markupDescription:true});t.oMessageView=t.oMessageView||new b({showDetailsPageHeader:false,itemSelect:function(){t.oBackButton.setVisible(true);},items:{path:"/",filters:[new F("target",d.EQ,""),new F("code",d.NE,undefined)],template:t.oMessageTemplate}});t.oBackButton=t.oBackButton||new B({icon:I.getIconURI("nav-back"),visible:false,press:function(){t.oMessageView.navigateBack();this.setVisible(false);}});if(C&&C.length){C.map(function(q){o.addMessages(new e({message:q.text,type:q.type,target:"",persistent:true}));});}t.oMessageView.setModel(o.getMessageModel());t.oDialog=t.oDialog||new D({resizable:true,content:t.oMessageView,beginButton:new B({press:function(){t.oDialog.close();t.oBackButton.setVisible(false);r();},text:R.getText("SAPFE_CLOSE")}),customHeader:new sap.m.Bar({contentMiddle:[new sap.m.Text({text:R.getText("SAPFE_ERROR_MESSAGES_PAGE_TITLE")})],contentLeft:[t.oBackButton]}),contentWidth:"37.5em",contentHeight:"21.5em",verticalScrolling:false,afterClose:function(E){t.resolve();}});H=G(t.oMessageView.getItems());i=h(H);t.oDialog.setState(H);t.oDialog.getCustomHeader().getContentMiddle()[0].setText(i);t.oMessageView.navigateBack();t.oDialog.open();});});}}
function h(H){var R=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");switch(H){case"Error":return R.getText("SAPFE_ERROR_MESSAGES_PAGE_TITLE_ERROR");case"Information":return R.getText("SAPFE_ERROR_MESSAGES_PAGE_TITLE_INFO");case"Success":return R.getText("SAPFE_ERROR_MESSAGES_PAGE_TITLE_SUCCESS");case"Warning":return R.getText("SAPFE_ERROR_MESSAGES_PAGE_TITLE_WARNING");default:return R.getText("SAPFE_ERROR_MESSAGES_PAGE_TITLE");}}
function r(){l(false);}
function j(){l(true);}
function k(n,T){var o=sap.ui.getCore().getMessageManager(),p=o.getMessageModel(),q=p.getObject("/"),u=[];for(var i=0;i<q.length;i++){if((!T||q[i].persistent)&&((n&&q[i].target!=="")||q[i].target==="")&&q[i].code){u.push(q[i]);}}return u;}
function l(i){var n=k(i,true);if(n.length>0){sap.ui.getCore().getMessageManager().removeMessages(n);}}
var m={showUnboundMessages:s,removeUnboundTransitionMessages:r,removeBoundTransitionMessages:j};return m;});
sap.ui.predefine('sap/fe/core/actions/nonDraft',[],function(){"use strict";var n={};return n;});
sap.ui.predefine('sap/fe/core/actions/operations',["sap/m/MessageBox","sap/m/Dialog","sap/ui/model/json/JSONModel","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/core/Fragment","sap/fe/core/actions/messageHandling","sap/fe/core/BusyLocker","sap/fe/core/helpers/SideEffectsUtil","sap/fe/core/CommonUtils"],function(M,D,J,X,a,F,m,B,S,C){"use strict";
function c(A,i,j,P){if(!i||i.length===0){return Promise.reject("Bound actions always requires at least one context");}P=P||{};if(Array.isArray(i)){P.bReturnAsArray=true;}else{i=[i];}var l=j.getMetaModel(),n=l.getMetaPath(i[0].getPath())+"/"+A,q=l.createBindingContext(n+"/@$ui5.overload/0");P.aContexts=i;P.isCriticalAction=f(l,n);return d(A,j,q,P);}
function b(A,i,P){if(!i){return Promise.reject("Action expects a model/context for execution");}var j=i.getMetaModel(),l=i.bindContext("/"+A).getPath(),n=j.createBindingContext("/"+j.createBindingContext(l).getObject("$Action")+"/0");P.isCriticalAction=f(j,l+"/@$ui5.overload");return d(A,i,n,P);}
function d(A,i,j,P){return new Promise(function(r,l){P=P||{};var n=P.actionParameters||[],q={},t,u,v=P.label,w=P.showActionParameterDialog,x=P.aContexts,I=P.bIsCreateAction,y=P.isCriticalAction;if(!j){l("Action not found");}if(w||n.length>0){n=p(j,n);if(!n||n.length===0){w=false;}}if(w){t=s;}else if(y){t=e;}q={fnOnSubmitted:P.onSubmitted,actionName:A,model:i,aActionParameters:n,ownerComponent:P.ownerComponent};if(j.getObject("$IsBound")){q.aContexts=x;q.mBindingParameters=P.mBindingParameters;q.additionalSideEffect=P.additionalSideEffect;q.bGrouped=P.invocationGrouping==="ChangeSet";q.bReturnAsArray=P.bReturnAsArray;q.localUIModel=P.localUIModel;q.prefix=P.prefix;q.operationAvailableMap=P.operationAvailableMap;}if(I){q.bIsCreateAction=I;}if(t){u=t(A,v,q,n,j,P.parentControl,P.entitySetName);}else{u=_(q);}return u.then(function(O){r(O);}).catch(function(O){l(O);});});}
function e(A,i,P,j,l,n,q){return new Promise(function(r,t){var u=A&&q?q+"|"+A:"";var R=n.getController().oResourceBundle;var v=C.getTranslatedText("SAPFE_ACTION_CONFIRM",R,null,u);M.confirm(v,{onClose:function(w){if(w===M.Action.OK){return _(P).then(function(O){r(O);}).catch(function(E){m.showUnboundMessages().then(function(){t(E);});});}else{r();}}});});}
function s(A,j,P,l,n,q,r){var t=k(n,A),u=n.getModel().oModel.getMetaModel(),v=u.createBindingContext(t),w=n.getObject("$IsBound")?n.getPath().split("/@$ui5.overload/0")[0]:n.getPath().split("/0")[0],x=u.createBindingContext(w),y=Promise.resolve(),z="sap/fe/core/controls/ActionParameterDialog";return new Promise(function(E,G){var H=X.loadTemplate(z,"fragment"),I=new J({$displayMode:{}});return Promise.resolve(a.process(H,{name:z},{bindingContexts:{action:n,actionName:x,entitySet:v},models:{action:n.getModel(),actionName:x.getModel(),entitySet:v.getModel()}})).then(function(H){return h(P.ownerComponent,l,I).then(function(){F.load({definition:H}).then(function(K){var O;var R=q.getController().oResourceBundle;var L=new D({title:j||C.getTranslatedText("SAPFE_ACTION_PARAMETER_DIALOG_TITLE",R),content:[K],escapeHandler:function(i){L.close();m.removeUnboundTransitionMessages();G();},beginButton:{text:j||C.getTranslatedText("SAPFE_OK",R),type:"Emphasized",press:function(W){B.lock(L);var Y=W.getSource();Y.setEnabled(false);y.then(function(){var Z,i,$,a1=K.getAggregation("form").getAggregation("formContainers")[0].getAggregation("formElements");var b1=function(g1){var h1={};for(i=0;i<g1.length;i++){var i1=g1[i].getFields()[0];if(i1.getProperty("required")&&i1.mBindingInfos.value.binding){h1[i1.mBindingInfos.value.binding.getPath()]={element:i1};}}return h1;};var c1=b1(a1);var d1;var e1=O&&O.getParameterContext();for(i=0;i<l.length;i++){d1=l[i].$Name;$=e1.getProperty(d1);if(!$&&c1[d1]){Z=true;L.fireValidationError({element:c1[d1].element,property:"value",type:sap.ui.core.MessageType.Error,newValue:$,message:C.getTranslatedText("SAPFE_ACTION_PARAMETER_REQUIRED",R)});Y.setEnabled(true);}}if(!Z){m.removeUnboundTransitionMessages();var f1;for(var i in P.aActionParameters){f1=e1.getProperty(P.aActionParameters[i].$Name);P.aActionParameters[i].value=f1;f1=undefined;}return _(P).then(function(g1){L.close();E(g1);}).catch(function(g1){Y.setEnabled(true);m.showUnboundMessages();});}}).finally(function(){B.unlock(L);});}},endButton:{text:C.getTranslatedText("SAPFE_ACTION_PARAMETER_DIALOG_CANCEL",R),press:function(){L.close();m.removeUnboundTransitionMessages();G();}},afterClose:function(){L.destroy();}});L.setModel(n.getModel().oModel);L.setModel(I,"paramsModel");L.bindElement({path:"/",model:"paramsModel"});var N=A+"(...)";var Q=P.aContexts||[];if(!Q.length){N="/"+N;}L.bindElement({path:N});if(q){q.addDependent(L);}if(Q.length>0){L.setBindingContext(Q[0]);}O=L.getObjectBinding();var T=function(W){var Y=function($,b1){var c1;if(b1){if(Q.length>0&&b1.$Path){c1=Q[0].getProperty(b1.$Path);for(var i=1;i<Q.length;i++){if(Q[i].getProperty(b1.$Path)!==c1){return;}}}else{c1=b1;}}else{if(I&&I.oData[$]){c1=I.oData[$];}}if(c1){O.setParameter($,c1);}};var Z=function($){var b1=L.getModel().getMetaModel(),N=n.sPath&&n.sPath.split("/@")[0],c1=N+"/"+$+"@",d1=b1.getObject(c1),e1=d1&&d1["@com.sap.vocabularies.UI.v1.ParameterDefaultValue"];if(W&&e1&&e1.$Path&&e1.$Path.startsWith(W+"/")){e1.$Path=e1.$Path.replace(W+"/","");}return e1;};var $,a1;for(var i in P.aActionParameters){$=P.aActionParameters[i].$Name;a1=Z($);Y($,a1);}L.open();};if(n.getObject("$IsBound")){var U=n.getObject("$Parameter"),V=U[0]&&U[0].$Name;}if(Q.length===1){Q[0].requestObject().then(function(i){if(i){O.setParameter(V,i);}T(V);});}else{T(V);}});});});});}
function p(A,P){var i=g(A);P=P||[];if(P.length>0){}return i;}
function g(A){var P=A.getObject("$Parameter")||[];if(P&&P.length){if(A.getObject("$IsBound")){return P.slice(1,P.length)||[];}}return P;}
function f(i,P){return!!i.getObject(P+"@com.sap.vocabularies.Common.v1.IsActionCritical");}
function _(P){var l=P.aContexts||[],n=P.model,A=P.aActionParameters||[],q=P.actionName,O=P.fnOnSubmitted,I=P.bIsCreateAction,r=false,t;function u(i){return i.then(function(j){return{response:j,status:"resolved"};},function(j){return{response:j,status:"rejected"};});}function v(){if(A&&A.length){r=true;for(var j=0;j<A.length;j++){if(!A[j].value){switch(A[j].$Type){case"Edm.String":A[j].value="";break;case"Edm.Boolean":A[j].value=false;break;case"Edm.Byte":case"Edm.Int16":case"Edm.Int32":case"Edm.Int64":A[j].value=0;break;default:break;}}t.setParameter(A[j].$Name,A[j].value);}}}if(l.length){return new Promise(function(j,x){var y=P.mBindingParameters,G=P.bGrouped,R=P.bReturnAsArray,z=[],i,E,H=function(t,K,L){v();E=!G?"$auto."+K:t.getUpdateGroupId();z.push(t.execute(E));if(L&&L.pathExpressions){S.logRequest(L);L.context.requestSideEffects(L.pathExpressions,E).then(function(){if(P.operationAvailableMap){C.setActionEnablement(P.localUIModel,JSON.parse(P.operationAvailableMap),"/$contexts/"+P.prefix,P.aContexts);}});}};for(i=0;i<l.length;i++){t=n.bindContext(q+"(...)",l[i],y);H(t,l.length<=1?null:i,{context:l[i],pathExpressions:P.additionalSideEffect});}(O||jQuery.noop)(z);Promise.all(z.map(u)).then(function(K){var L=[],N=[],Q;for(Q=0;Q<K.length;Q++){if(K[Q].status==="rejected"){L.push(K[Q].response);}if(K[Q].status==="resolved"){if(I&&r){K[Q].bConsiderDocumentModified=true;N.push(K[Q]);}else{N.push(K[Q].response);}}}if(!K||(K&&K.length===0)){x(true);}if(L.length===0){if(R){j(N);}else{j(N[0]);}}else{x({resolvedItems:N,rejectedItems:L});}});});}else{var w;t=n.bindContext("/"+q+"(...)");v();w=t.execute("actionImport");n.submitBatch("actionImport");(O||jQuery.noop)(w);return w;}}
function h(A,i,P){return new Promise(function(r,j){var l=A.getComponentData().startupParameters,n=sap.ushell.Container.getService("CrossApplicationNavigation")||{};if(!n.getStartupAppState){i.map(function(q){if(l[q.$Name]){P.setProperty(q.$Name,l[q.$Name][0]);}});return r(true);}return n.getStartupAppState(A).then(function(q){var t=q.getData()||{},E=(t.selectionVariant&&t.selectionVariant.SelectOptions)||[];i.map(function(u){if(l[u.$Name]){P.setProperty("/"+u.$Name,l[u.$Name][0]);}else if(E.length>0){var v;E.some(function(w){if(w.PropertyName===u.$Name){v=w.Ranges;return true;}});if(v&&v.length===1&&v[0].Sign==="I"&&v[0].Option==="EQ"){P.setProperty("/"+u.$Name,v[0].Low);}}});return r(true);});});}
function k(A,i){var P=A.getPath();P=A.getObject("$IsBound")?P.split("@$ui5.overload")[0]:P.split("/0")[0];return P.split("/"+i)[0];}
var o={callBoundAction:c,callActionImport:b};return o;});
sap.ui.predefine('sap/fe/core/actions/sticky',["sap/fe/core/actions/operations"],function(o){"use strict";
function e(c){var m=c.getModel(),M=m.getMetaModel(),b=M.getMetaPath(c.getPath()),E=M.getObject(b+"@com.sap.vocabularies.Session.v1.StickySessionSupported/EditAction"),f;if(!E){throw new Error("Edit Action for Sticky Session not found for "+b);}f=m.bindContext(E+"(...)",c,{$$inheritExpandSelect:true});return f.execute();}
function a(c){var m=c.getModel(),M=m.getMetaModel(),b=M.getMetaPath(c.getPath()),S=M.getObject(b+"@com.sap.vocabularies.Session.v1.StickySessionSupported/SaveAction"),f;if(!S){throw new Error("Save Action for Sticky Session not found for "+b);}f=m.bindContext(S+"(...)",c,{$$inheritExpandSelect:true});return f.execute();}
function d(c){var m=c.getModel(),M=m.getMetaModel(),b=M.getMetaPath(c.getPath()),D=M.getObject(b+"@com.sap.vocabularies.Session.v1.StickySessionSupported/DiscardAction"),f;if(!D){throw new Error("Discard Action for Sticky Session not found for "+b);}f=m.bindContext("/"+D+"(...)");return f.execute().then(function(){return c;});}
var s={editDocumentInStickySession:e,activateDocument:a,discardDocument:d};return s;});
sap.ui.predefine('sap/fe/core/controllerextensions/EditFlow',["sap/ui/core/mvc/ControllerExtension","sap/fe/core/actions/messageHandling","sap/ui/core/XMLTemplateProcessor","sap/ui/core/util/XMLPreprocessor","sap/ui/core/Fragment","sap/fe/core/actions/sticky","sap/fe/core/TransactionHelper","sap/base/Log","sap/m/Text","sap/m/Button","sap/m/Dialog","sap/ui/model/json/JSONModel","sap/ui/core/routing/HashChanger","sap/fe/core/CommonUtils","sap/fe/core/BusyLocker","sap/base/util/merge","sap/fe/core/helpers/SideEffectsUtil","sap/fe/core/library"],function(C,m,X,a,F,s,T,L,b,B,D,J,H,c,d,e,S,f){"use strict";var g=f.CreationMode,h="sap.fe.core.controls.field.DraftPopOverAdminData",p=X.loadTemplate(h,"fragment"),t={};
var E=C.extend("sap.fe.core.controllerextensions.EditFlow",{
override:{onExit:function(){this.getUIStateModel().destroy();C.prototype.destroy.apply(this,arguments);}},
syncTask:function(v){var n;if(v instanceof Promise){n=function(){return v;};}else if(typeof v==="function"){n=v;}this._pTasks=this._pTasks||Promise.resolve();if(!!n){this._pTasks=this._pTasks.then(n).catch(function(){return Promise.resolve();});}return this._pTasks;},
getProgrammingModel:function(o){return this.getTransactionHelper().getProgrammingModel(o);},
createDocument:function(l,P){var i=this,j=this.getTransactionHelper(),o=j.getUIStateModel(),k,n,r=i.base.getView().getController().oResourceBundle,q=!P||(P.creationMode!==g.Inline&&P.creationMode!==g.CreationRow);if(P.creationMode===g.CreationRow&&P.creationRow){k=P.creationRow.getParent();}if(P.creationMode===g.Inline&&P.tableId){k=this.getView().byId(P.tableId);}if(P.creationMode===g.CreationRow&&P.creationRow&&P.creationRow.getApplyEnabled()===false){P.creationRow.setApplyEnabled(false);}function u(v,w){w.then(function(N){var x=i.base.getView().getBindingContext();if(!c.hasTransientContext(v)){i.requestSideEffects(v.getPath(),x);}});}q&&d.lock(o);return this.syncTask().then(function(){return new Promise(function(v,w){var G,x,y,M;P=P||{};if(typeof l==="object"){G=Promise.resolve(l);}else{throw new Error("Binding object expected");}G.then(function(z){y=z;M=y.getModel();n=y.iMaxLength||0;var A=P.creationMode;if((!A||A===g.NewPage)&&i.base.getView().getViewData()._creationMode==="Inplace"){A=g.Inline;}return j.getProgrammingModel(y).then(function(I){x=I;if(A&&A!==g.NewPage){return A;}else{switch(x){case"Draft":case"Sticky":if(!y.isRelative()){var K=M.getMetaModel(),N=y.getPath(),O=x==="Draft"?K.getObject(N+"@com.sap.vocabularies.Common.v1.DraftRoot/NewAction"):K.getObject(N+"@com.sap.vocabularies.Session.v1.StickySessionSupported/NewAction"),Q=(O&&K.getObject("/"+O+"/@$ui5.overload/0/$Parameter"))||[];if(Q.length>1){return"Deferred";}}return g.Async;case"NonDraft":return g.Sync;}}});}).then(function(z){var A,I,K=P.creationRow,N,V=Promise.resolve(),O,Q,R=M.getMetaModel();if(z!==g.Deferred){if(z===g.CreationRow){N=K.getBindingContext();Q=R.getMetaPath(N.getPath());O=N.getObject();P.data={};Object.keys(O).forEach(function(Y){var Z=R.getObject(Q+"/"+Y);if(Z&&Z.$kind==="NavigationProperty"){return;}P.data[Y]=O[Y];});V=i.checkForValidationErrors(N);}if(z===g.CreationRow||z===g.Inline){P.keepTransientContextOnFailed=true;P.busyMode="Local";if(z===g.CreationRow){P.busyMode="None";}if(z===g.Inline){P.keepTransientContextOnFailed=false;}i.handleCreateEvents(y);}A=V.then(function(){if(!P.parentControl){P.parentControl=i.base.getView();}return j.createDocument(y,P,r);});}var U=new Promise(function(v){switch(z){case g.Deferred:i.base.routing.navigateForwardToContext(y,{deferredContext:true,noHistoryEntry:P.noHistoryEntry,editable:true}).then(function(){v();});break;case g.Async:i.base.routing.navigateForwardToContext(y,{asyncContext:A,noHistoryEntry:P.noHistoryEntry,editable:true}).then(function(){v();});break;case g.Sync:I={noHistoryEntry:P.noHistoryEntry,editable:true};if(x=="Sticky"){I.transient=true;}A.then(function(Y){if(!Y){var r,Z;r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");Z=c.getAppComponent(i.base.getView()).getRootControl();i.base.routing.navigateToMessagePage(r.getText("SAPFE_DATA_RECEIVED_ERROR"),{title:r.getText("SAPFE_ERROR"),description:r.getText("SAPFE_CREATION_FAILED_DESCRIPTION"),navContainer:Z});}else{i.base.routing.navigateForwardToContext(Y,I).then(function(){v();});}});break;case g.Inline:u(y,A);v();break;case g.CreationRow:V.then(function(){var Y=N.getBinding(),Z;u(y,A);Z=Y.create();K.setBindingContext(Z);Z.created().catch(function(){L.trace("transient fast creation context deleted");});N.delete("$direct");});v();break;default:L.error("Unhandled creationMode "+z);break;}});var W=i.base.getView().getModel("localUI");if(x==="Sticky"){W.setProperty("/sessionOn",true);}if(A){Promise.all([A,U]).then(function(Y){i.setEditMode("Editable",true);var Z=Y[0];if(Z){i.base.routing.setUIStateDirty();if(x==="Sticky"){i._handleStickyOn(Z);}}v();},function(){w();});}else{v();}});});}).finally(function(){if(k&&k.isA("sap.ui.mdc.Table")){switch(P.createAtEnd){case true:if(P.creationMode&&P.creationMode==="Inline"&&k.getThreshold()){k.scrollToIndex(k.getThreshold());}else{k.scrollToIndex(n+1);}break;case false:k.scrollToIndex(0);break;}}q&&d.unlock(o);});},
editDocument:function(o){var i=this,j=this.getTransactionHelper(),k=i.base.getView().getController()._findTables();k.forEach(function(l){if(l.data("creationMode")&&l.data("creationMode")==="CreationRow"&&l.getCreationRow().getApplyEnabled()===false){l.getCreationRow().setApplyEnabled(false);}});return j.editDocument(o).then(function(n){j.getProgrammingModel(o).then(function(P){var N;if(P==="Sticky"){var l=i.base.getView().getModel("localUI");l.setProperty("/sessionOn",true);N=true;}i.setEditMode("Editable",false);if(n!==o){i.handleNewContext(n,true,N,true,true,true).then(function(){if(P==="Sticky"){i._handleStickyOn(n);}});}});});},
saveDocument:function(o){var i=this,j=this.getTransactionHelper(),r=i.base.getView().getController().oResourceBundle;return(this.syncTask().then(this._submitOpenChanges.bind(this,o)).then(this.checkForValidationErrors.bind(this,o)).then(j.saveDocument.bind(j,o,r)).then(function(A){return j.getProgrammingModel(o).then(function(P){var n;if(P==="Sticky"){var l=i.base.getView().getModel("localUI");l.setProperty("/sessionOn",false);i._handleStickyOff(o);if(o.getPath()===A.getPath()){n=true;}}i.setEditMode("Display",false);if(A!==o){i.handleNewContext(A,true,n,false,true,false);}});}));},
cancelDocument:function(o,P){var i=this,j=this.getTransactionHelper(),r=i.base.getView().getController().oResourceBundle;this.syncTask().then(j.cancelDocument.bind(j,o,P,r)).then(function(A){j.getProgrammingModel(o).then(function(k){var n;if(k==="Sticky"){var l=i.base.getView().getModel("localUI");l.setProperty("/sessionOn",false);i._handleStickyOff(o);n=true;}i.setEditMode("Display",false);if(!A){i.base.routing.setUIStateDirty();i.base.routing.navigateBackFromContext(o);}else{i.handleNewContext(A,true,n,false,true,true);}});});},
requestSideEffects:function(n,o){var M=this.base.getView().getModel().getMetaModel(),i="/"+M.getObject(M.getMetaPath(o.getPath()))["$Type"],A=M.getObject(i+"@"),j=Object.keys(A).filter(function(r){return r.indexOf("@com.sap.vocabularies.Common.v1.SideEffects")>-1;}),k=[],P,l=[],q=[];j.forEach(function(r){var u=A[r];if(u.SourceEntities){u.SourceEntities.forEach(function(v){if(v["$NavigationPropertyPath"]===n){k.push(r);}});}if(u.SourceProperties&&k.indexOf(r)===-1){u.SourceProperties.forEach(function(v){if(k.indexOf(r)===-1&&v["$PropertyPath"].indexOf(n+"/")===0){k.push(r);}});}});k.forEach(function(r){var u=[],v=A[r],w=v.TargetProperties||[],x=v.TargetEntities||[];w=w.map(function(y){return y["$PropertyPath"];}).filter(function(y){return l.indexOf(y)<0;});w.forEach(function(y){var z=M.getObject(i+"/"+y+"@com.sap.vocabularies.Common.v1.Text");if(z&&z["$Path"]){u.push(z["$Path"]);}});x=x.map(function(y){return y["$NavigationPropertyPath"];}).filter(function(y){return q.indexOf(y)<0;});l=l.concat(w).concat(u);q=q.concat(x);});P=l.map(function(r){return{"$PropertyPath":r};}).concat(q.map(function(r){return{"$NavigationPropertyPath":r};}));if(P.length){P=S.replaceEmptyNavigationPaths(P);P=S.addTextProperties(P,M,i);S.logRequest({context:o,pathExpressions:P});o.requestSideEffects(P);}},
deleteSingleDocument:function(o,P){var i=this;this._deleteDocumentTransaction(o,P).then(function(){i.base.routing.setUIStateDirty();i.base.routing.navigateBackFromContext(o);});},
deleteMultipleDocuments:function(o,P){var i=this;this._deleteDocumentTransaction(o,P).then(function(){var j=i.getView().byId(P.controlId);if(j&&j.isA("sap.ui.mdc.Table")){j.clearSelection();}var k=i.base.getView().getBindingContext();if(k&&Array.isArray(o)){var l=o[0].getBinding();if(!c.hasTransientContext(l)){i.requestSideEffects(l.getPath(),k);}}i.base.routing.setUIStateDirty();var A=c.getAppComponent(i.base.getView());var r=A.getRouterProxy();var I=false;for(var n=0;!I&&n<o.length;n++){if(r.isCurrentStateImpactedBy(o[n].getPath())){I=true;i.base.routing.navigateBackFromContext(o[n]);}}});},
_deleteDocumentTransaction:function(o,P){var i=this,l=this.base.getView().getModel("localUI"),r=this.base.getView().getController().oResourceBundle,j=this.getTransactionHelper();P=P||{};return this.syncTask().then(j.deleteDocument.bind(j,o,P,l,r)).then(function(){var l=i.base.getView().getModel("localUI");l.setProperty("/sessionOn",false);});},
applyDocument:function(o){var i=this,u=this.getTransactionHelper().getUIStateModel(),r=this.base.getView().getController().oResourceBundle;d.lock(u);return this._submitOpenChanges(o).then(function(){m.showUnboundMessages();i.base.routing.navigateBackFromContext(o);return true;}).catch(function(j){var k=[];k.push({text:c.getTranslatedText("SAPFE_APPLY_ERROR",r),type:"Error"});m.showUnboundMessages(k);return false;}).finally(function(){d.unlock(u);});},
_submitOpenChanges:function(o){var M=o.getModel(),v=this.base&&this.base.getView(),l=v&&v.getModel("localUI"),i=l.getProperty("/batchGroups");if(!i.length){return Promise.resolve();}var P=[];i.forEach(function(G){P.push(M.submitBatch(G));});return Promise.all(P).then(function(){if(i.some(M.hasPendingChanges.bind(M))){return Promise.reject("submit of open changes failed");}});},
_handleStickyOn:function(o){var i=this,A=c.getAppComponent(this.base.getView());if(!this.bStickyOn){this.bStickyOn=true;var j=H.getInstance().getHash(),l=this.base.getView().getModel("localUI");setTimeout(function(){A.getRouterProxy().setNavigationGuard();},0);if(sap.ushell){A.getService("ShellUIService").then(function(n){n.setBackNavigation(i.onBackNavigationInSession.bind(i));});this.fnDirtyStateProvider=function(){var n=H.getInstance().getHash(),r=A.getRouterProxy(),q,u=l.getProperty("/sessionOn");if(l.getProperty("/IBN_OpenInNewTable")){l.setProperty("/IBN_OpenInNewTable",false);return;}if(!u){return;}if(!r.isNavigationFinalized()){q=false;j=n;}else if(j===n){q=true;}else if(r.checkHashWithGuard(n)||r.isGuardCrossAllowedByUser()){j=n;q=false;}else{q=true;}if(q){setTimeout(function(){sap.ushell.Container.setDirtyFlag(false);},0);}return q;};sap.ushell.Container.registerDirtyStateProvider(this.fnDirtyStateProvider);}var k=this.base.getView().getModel("sap.fe.i18n");this.fnHandleSessionTimeout=function(){m.removeBoundTransitionMessages();m.removeUnboundTransitionMessages();var n=new D({title:"{sap.fe.i18n>OBJECT_PAGE_SESSION_EXPIRED_DIALOG_TITLE}",state:"Warning",content:new b({text:"{sap.fe.i18n>OBJECT_PAGE_SESSION_EXPIRED_DIALOG_MESSAGE}"}),beginButton:new B({text:"{sap.fe.i18n>SAPFE_OK}",type:"Emphasized",press:function(){i._handleStickyOff();i.base.routing.navigateBackFromContext(o);}}),afterClose:function(){n.destroy();}});n.addStyleClass("sapUiContentPadding");n.setModel(k,"sap.fe.i18n");i.base.getView().addDependent(n);n.open();};this.base.getView().getModel().attachSessionTimeout(this.fnHandleSessionTimeout);this.fnStickyDiscardAfterNavigation=function(){var n=H.getInstance().getHash();if(!n||!A.getRouterProxy().checkHashWithGuard(n)){i.fnStickyDiscard(o);}};this.base.routing.attachOnAfterNavigation(this.fnStickyDiscardAfterNavigation);}},
_handleStickyOff:function(){var A=c.getAppComponent(this.base.getView());if(A.getRouterProxy){A.getRouterProxy().discardNavigationGuard();}if(sap.ushell){if(this.fnDirtyStateProvider){sap.ushell.Container.deregisterDirtyStateProvider(this.fnDirtyStateProvider);this.fnDirtyStateProvider=null;}}if(this.base.getView().getModel()&&this.fnHandleSessionTimeout){this.base.getView().getModel().detachSessionTimeout(this.fnHandleSessionTimeout);}this.base.routing.detachOnAfterNavigation(this.fnStickyDiscardAfterNavigation);this.fnStickyDiscardAfterNavigation=null;this.setEditMode("Display",false);this.bStickyOn=false;if(A.getService){A.getService("ShellUIService").then(function(o){o.setBackNavigation();});}},
handleNewContext:function(o,n,N,i,P,u){this.base.routing.setUIStateDirty();return this.base.routing.navigateToContext(o,{noHistoryEntry:n,noHashChange:N,editable:i,bPersistOPScroll:P,useHash:u});},
onCallAction:function(A,P){var i=this,j=this.getTransactionHelper();P.localUIModel=i.base.getView().getModel("localUI");if(!P.parentControl){P.parentControl=this.base.getView();}return this.syncTask().then(j.onCallAction.bind(j,A,P)).then(function(){if(P.contexts){i.base.routing.setUIStateDirty();}});},
formatDraftOwnerText:function(i,j,k,l,n){var o="";var u=j||i||l||k;if(n){o+=i?c.getTranslatedText("DRAFTINFO_GENERIC_LOCKED_OBJECT_POPOVER_TEXT")+" ":c.getTranslatedText("DRAFTINFO_LAST_CHANGE_USER_TEXT")+" ";}o+=u?c.getTranslatedText("DRAFTINFO_OWNER",null,[u]):c.getTranslatedText("DRAFTINFO_ANOTHER_USER");return o;},
formatDraftOwnerTextInline:function(i,j,k,l){return this.formatDraftOwnerText(i,k,j,l,false);},
formatDraftOwnerTextInPopover:function(i,j,k,l){return this.formatDraftOwnerText(i,k,j,l,true);},
onDraftLinkPressed:function(o,i){var j=this,k=o.getSource(),l=k.getBindingContext(),v=this.base.getView(),M=v.getModel().getMetaModel(),n=v.getController(),O=function(){var P=j._oPopover.getModel("draftInfo");P.setProperty("/bIsActive",l.getProperty("IsActiveEntity"));P.setProperty("/bHasDraft",l.getProperty("HasDraftEntity"));j._oPopover.getModel().bindContext(l.getPath(),undefined,{$$groupId:"$auto.veryHigh"});j._oPopover.openBy(k);};if(!this._oPopover||!this._oPopover.oPopup){Promise.resolve(j._oFragment||a.process(p,{name:h},{bindingContexts:{entitySet:M.createBindingContext("/"+i)},models:{entitySet:M}})).then(function(q){j._oFragment=q;return F.load({definition:q,controller:n});}).then(function(P){j._oPopover=P;v.addDependent(j._oPopover);var q=new J({bIsActive:undefined,bHasDraft:undefined});j._oPopover.setModel(q,"draftInfo");O();});}else{O();}},
closeDraftAdminPopover:function(){this._oPopover.close();},
handlePatchSent:function(o){var i=this.getTransactionHelper(),j=i.getUIStateModel(),k=o.getSource();i.handleDocumentModifications();this.base.routing.setUIStateDirty();return i.getProgrammingModel(k).then(function(P){if(P==="Draft"){j.setProperty("/draftStatus","Saving");}});},
handlePatchCompleted:function(o){var i=this.getTransactionHelper(),j=i.getUIStateModel(),k=o.getSource(),l=o.getParameter("success");m.showUnboundMessages();return i.getProgrammingModel(k).then(function(P){if(P==="Draft"){j.setProperty("/draftStatus",l?"Saved":"Clear");}});},
handleCreateEvents:function(o){var i=this.getTransactionHelper(),j=i.getUIStateModel();j.setProperty("/draftStatus","Clear");return i.getProgrammingModel(o).then(function(P){o=(o.getBinding&&o.getBinding())||o;o.attachEvent("createSent",function(){i.handleDocumentModifications();if(P==="Draft"){j.setProperty("/draftStatus","Saving");}});o.attachEvent("createCompleted",function(k){if(P==="Draft"){j.setProperty("/draftStatus",k.getParameter("success")?"Saved":"Clear");}m.showUnboundMessages();});});},
handleErrorOfTable:function(o){if(o.getParameter("error")){setTimeout(m.showUnboundMessages,0);}},
getUIStateModel:function(i){if(!this.editFlowStateModel){this.editFlowStateModel=new J({createMode:false});}if(i){this.editFlowStateModel.setData(e(this.editFlowStateModel.getData(),i));}return this.editFlowStateModel;},
computeEditMode:function(o){var i=this;return new Promise(function(r,j){var k=i.getUIStateModel();i.getTransactionHelper().getProgrammingModel(o).then(function(P){if(P==="Draft"){o.requestObject("IsActiveEntity").then(function(I){if(I===false){i.setEditMode("Editable");o.requestObject("HasActiveEntity").then(function(l){if(l){k.setProperty("/createMode",false);}else{k.setProperty("/createMode",true);}r();});}else{i.setEditMode("Display");r();}});}else{r();}});});},
setEditMode:function(i,j){var o=this.getUIStateModel(),k=this.getTransactionHelper().getUIStateModel();if(i){k.setProperty("/editMode",i);}if(j!==undefined){o.setProperty("/createMode",j);}},
checkForValidationErrors:function(o){return this.syncTask().then(function(){var P=o.getPath(),M=sap.ui.getCore().getMessageManager().getMessageModel().getData(),j,k;for(var i=0;i<M.length;i++){k=M[i];if(k.validation){j=sap.ui.getCore().byId(k.getControlId());if(j&&j.getBindingContext()&&j.getBindingContext().getPath().indexOf(P)===0){return Promise.reject("validation errors exist");}}}});},
getTransactionHelper:function(){if(!this._oTransactionHelper){var A=c.getAppComponent(this.base.getView()),i=A.getId();if(!t[i]){var o=new T();o.initialize(A);t[i]=o;}this._oTransactionHelper=t[i];}return this._oTransactionHelper;},
onBackNavigationInSession:function(){var i=this,v=i.base.getView(),A=c.getAppComponent(v),r=A.getRouterProxy();if(r.checkIfBackIsOutOfGuard()){var o=v&&v.getBindingContext();i.getTransactionHelper().getProgrammingModel(o).then(function(j){c.processDataLossConfirmation(function(){i.fnStickyDiscard(o);history.back();},v,j);});return;}history.back();},
fnStickyDiscard:function(o){s.discardDocument(o);this._handleStickyOff();}
});
E.onExitApplication=function(A){var o=t[A];o&&o.destroy();delete t[A];};
return E;});
sap.ui.predefine('sap/fe/core/controllerextensions/FlexibleColumnLayout',["sap/ui/core/mvc/ControllerExtension","sap/ui/model/json/JSONModel","sap/f/FlexibleColumnLayoutSemanticHelper","sap/fe/core/CommonUtils","sap/ui/core/Component"],function(C,J,F,a,b){"use strict";
var E=C.extend("sap.fe.core.controllerextensions.ContextManager",{
oTargetsAggregation:{},
mTargetsFromRoutePattern:{},
FCLLevel:0,
getFCLLevel:function(){return this.FCLLevel;},
setFCLLevel:function(l){this.FCLLevel=l;},
_getOwnerComponent:function(){return a.getAppComponent(this.base.getView());},
handleFullScreen:function(e){var A=this._getOwnerComponent();var f=A.getRootViewController();var r=A.getRouterProxy();var n=e.getSource().getModel("fclhelper").getProperty("/actionButtonsInfo/fullScreen");if(!f.getCurrentArgument()[f.SQUERYKEYNAME]){f.getCurrentArgument()[f.SQUERYKEYNAME]={};}f.getCurrentArgument()[f.SQUERYKEYNAME].layout=n;r.navTo(f.getCurrentRouteName(),f.getCurrentArgument());},
handleExitFullScreen:function(e){var A=this._getOwnerComponent();var f=A.getRootViewController();var r=A.getRouterProxy();var n=e.getSource().getModel("fclhelper").getProperty("/actionButtonsInfo/exitFullScreen");if(!f.getCurrentArgument()[f.SQUERYKEYNAME]){f.getCurrentArgument()[f.SQUERYKEYNAME]={};}f.getCurrentArgument()[f.SQUERYKEYNAME].layout=n;r.navTo(f.getCurrentRouteName(),f.getCurrentArgument());},
handleClose:function(e){var c=e.getSource().getBindingContext();this.base.routing.navigateBackFromContext(c);}
});
return E;});
sap.ui.predefine('sap/fe/core/controllerextensions/Routing',["sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/core/mvc/ControllerExtension","sap/m/MessagePage","sap/m/Link","sap/m/MessageBox","sap/ui/core/routing/HashChanger","sap/base/Log","sap/fe/core/CommonUtils","sap/ui/base/BindingParser","sap/fe/core/BusyLocker","sap/fe/core/AppStateHandler","sap/fe/core/actions/messageHandling"],function(F,a,C,M,L,b,H,c,d,B,e,A,m){"use strict";var u,D,o,t,P,O=[],s,E,S=[],f,g,h,n=function(){c.debug("target binding of custom page or re-use component: "+s);};var k={CLEAN:0,PROCESSED:1,DIRTY:2};
var l=C.extend("sap.fe.core.controllerextensions.Routing",{
navigateToContext:function(i,p){p=p||{};var r=this._getOwnerComponent().getRootContainer(),v=this.getView().getViewData(),j,T,q=null,R,w,x=this._getOwnerComponent().getRouterProxy(),y=this;if(p.targetPath&&v.navigation){w=v.navigation[p.targetPath].detail;T=w.route;if(w.parameters){q=this.prepareParameters(w.parameters,T,i);}}if(i.isA("sap.ui.model.odata.v4.ODataListBinding")){if(p.asyncContext){x.activateRouteMatchSynchronization();p.asyncContext.then(function(i){y.navigateToContext(i,{noHistoryEntry:true,noHashChange:p.noHashChange,useCanonicalPath:p.useCanonicalPath,editable:p.editable,bPersistOPScroll:p.bPersistOPScroll,updateFCLLevel:p.updateFCLLevel});});o=p.asyncContext;}else if(p.deferredContext){D=true;}else{throw"navigation to a list binding is not yet supported";}}else{if(i.getBinding()&&i.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")){if(d.hasTransientContext(i.getBinding())){R=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");b.show(R.getText("NAVIGATION_DISABLED_MESSAGE"),{icon:b.Icon.WARNING,title:R.getText("NAVIGATION_DISABLED_TITLE"),actions:[b.Action.CLOSE],details:R.getText("TRANSIENT_CONTEXT_DESCRIPTION"),contentWidth:"100px"});return Promise.resolve();}}u=i;}t=p.editable;P=p.bPersistOPScroll;if(p.useCanonicalPath){j=i.getCanonicalPath();}else if(i.isA("sap.ui.model.odata.v4.ODataListBinding")&&i.isRelative()){j=i.getHeaderContext().getPath();}else{j=i.getPath();}if(p.updateFCLLevel===-1){var z=new RegExp("/[^/]*$");j=j.replace(z,"");u=null;if(j.length===0&&E){return x.exitFromApp();}}var G=H.getInstance().getHash();var I=this._getOwnerComponent();var J=I.getRootViewController();if(p.asyncContext||p.deferredContext){j+="(...)";}else if(S&&S.length&&g&&G.split("/").length===1&&G.indexOf("(...)")===-1&&j!==""&&!I.getRootViewController().isFclEnabled()){var K=(i&&i.getPath().substring(0,i.getPath().indexOf("(")))||G.substring(0,G.indexOf("("));var N="";while(K.indexOf("/")===0){K=K.substr(1);}if(v.viewLevel===0){N=this._createHash(S,K,i);}else if(v.viewLevel===1&&G!==""){if(p.useHash){N=G;}else if(i&&i.getPath().split("/").length<=2){N=this._createHash(S,K,i);}}if(N!==""){if(G===N||G.replace(/[&?]{1}sap-iapp-state=[A-Z0-9]+/,"")===N){this._bindTargetPage(r.getCurrentPage(),null,null,true);return Promise.resolve();}else if(N===undefined){if(p.useHash){this._bindTargetPage(r.getCurrentPage(),null,null,true);return Promise.resolve();}}else{j=N;}}}if(I.getRootViewController().isFclEnabled()){var Q=this.base.fcl.getFCLLevel();if(p.updateFCLLevel){Q+=p.updateFCLLevel;if(Q<0){Q=0;}}var U;if(p.sLayout){U=p.sLayout;}else{U=J.getFCLLayout(Q,j);}j+="?layout="+U;}while(j.indexOf("/")===0){j=j.substr(1);}if(p.noHashChange){if(I.getRootViewController().isFclEnabled()){if(j===this._getOwnerComponent().getRouter().getHashChanger().getHash()){var V;switch(this.base.fcl.getFCLLevel()){case 0:V=r.getCurrentBeginColumnPage();break;case 1:V=r.getCurrentMidColumnPage();break;default:V=r.getCurrentEndColumnPage();break;}this._bindTargetPage(V,null,null,true);return Promise.resolve();}}else{this._bindTargetPage(r.getCurrentPage(),null,null,true);return Promise.resolve();}}if(T&&q!==null){this._getOwnerComponent().getRouter().navTo(T,q);}else if(p.transient&&p.editable==true&&j.indexOf("(...)")===-1){if(j.indexOf("?")>-1){j+="&i-action=create";}else{j+="?i-action=create";}}return x.navToHash(j);},
prepareParameters:function(p,T,i){var j;try{var q=i.getPath();var r=q.split("/");j=Object.keys(p).reduce(function(R,w){var x=p[w];var y=B.complexParser(x);var z=y.parts||[y];var G=z.map(function(I){var J=I.path.split("../");var K=r.slice(0,r.length-J.length+1);K.push(J[J.length-1]);return i.getObject(K.join("/"));});if(y.formatter){R[w]=y.formatter.apply(this,G);}else{R[w]=G.join("");}return R;},{});}catch(v){c.error("Could not parse the parameters for the navigation to route "+T);j=undefined;}return j;},
navigateBackFromContext:function(i,p){p=p||{};p.updateFCLLevel=-1;return this.navigateToContext(i,p);},
navigateForwardToContext:function(i,p){p=p||{};p.updateFCLLevel=1;return this.navigateToContext(i,p);},
navigateToMessagePage:function(i,p){p=p||{};if(H.getInstance().getHash().indexOf("i-action=create")>-1){var j=d.getAppComponent(p.navContainer);var q=this.getEntitySet(j);var r=q+"(...)";var R=j.getRouterProxy();R.navToHash(r);return;}var v=p.navContainer||this._getOwnerComponent().getRootContainer();if(!this.oMessagePage){this.oMessagePage=new M({showHeader:false,icon:"sap-icon://message-error"});v.addPage(this.oMessagePage);}this.oMessagePage.setText(i);if(p.technicalMessage){this.oMessagePage.setCustomDescription(new L({text:p.description||p.technicalMessage,press:function(){b.show(p.technicalMessage,{icon:b.Icon.ERROR,title:p.title,actions:[b.Action.OK],defaultAction:b.Action.OK,details:p.technicalDetails||"",contentWidth:"60%"});}}));}else{this.oMessagePage.setDescription(p.description||"");}v.to(this.oMessagePage);},
navigateBackFromTransientState:function(i,p){var j=H.getInstance().getHash();if(j.indexOf("(...)")!==-1){if(p&&p.unLockObject&&e.isLocked(p.unLockObject)){e.unlock(p.unLockObject);}var r=i.getRouterProxy();r.navigateBack({rebuildHistory:true});}},
setUIStateDirty:function(){l.flagUIState=k.DIRTY;},
setUIStateProcessed:function(){l.flagUIState=k.PROCESSED;},
resetUIState:function(){l.flagUIState=k.CLEAN;},
isUIStateDirty:function(){return l.flagUIState!==k.CLEAN;},
cleanProcessedUIState:function(){if(l.flagUIState===k.PROCESSED){l.flagUIState=k.CLEAN;}},
getFirstBeforeRouteMatchedCallEvent:function(){return h;},
initializeRouting:function(i){var j=this;h=null;return new Promise(function(r,q){var R=i.getRouter(),v,w=j.getEntitySet(i),x,y=i.getComponentData(),z=y&&y.startupParameters,G=i.getModel(),I=z!==undefined&&Object.keys(z).length!==0;u=null;D=false;o=null;t=false;P=null;O=[];E=false;j.resetUIState();var J=[];if(G){J.push(G.getMetaModel().requestObject("/$EntityContainer/"+w+"/"));J.push(G.getMetaModel().requestObject("/$EntityContainer/"+w+"/@"));J.push(G.getMetaModel().requestObject("/$EntityContainer/"+w+"@"));}R.attachBeforeRouteMatched(function(p){var K=i.getRootControl();e.lock(K);if(!h&&p){h=Object.assign({},p);h.getParameters=p.getParameters;h.getParameter=p.getParameter;}});v=function(K){var N=K.getParameters().arguments,T="",Q,U;j.fireOnAfterNavigation();var V=i.getRootControl();if(e.isLocked(V)){e.unlock(V);}if(A.checkIfRouteChangedByIApp()){A.resetRouteChangedByIApp();return;}if(Object.keys(N).length>0){var W;if(K.getParameter("view").getComponentInstance&&K.getParameter("view").getComponentInstance()&&K.getParameter("view").getComponentInstance().getBindingContextPattern){W=K.getParameter("view").getComponentInstance().getBindingContextPattern();}T=W||K.getParameters().config.pattern;T=T.replace(":?query:","");for(var p in N){Q=N[p];if(Q==="..."){U=true;t=true;}T=T.replace("{"+p+"}",Q);}if(T&&T[0]!=="/"){T="/"+T;}}var X=K.getParameter("config").target;if(i.getRootViewController().isFclEnabled()&&typeof X==="object"&&X.length){i.getRootViewController().updateFCLLevels(X,K.getParameter("views"));X.forEach(function(Y,Z){var $=i.getRootViewController().getTargetAggregation()[Y];if($.pattern!==undefined){T=j.buildBindingContext($.pattern,N);}var _=K.getParameter("views")[Z];if(_!=null){j._bindTargetPage(_,T,U,false,true);}else{throw new Error("No Container found for target "+Y+"(Please check the Router configuration)");}});}else{var V=i.getRootContainer();j._bindTargetPage(V.getCurrentPage(),T,U,false);}j.cleanProcessedUIState();if(!history.state||history.state.feLevel===undefined){i.getRouterProxy().restoreHistory();}i.getRouterProxy().resolveRouteMatch();};R.attachRouteMatched(v);Promise.all(J).then(function(V){f=V[0];var p=V[1];g=V[2]["@com.sap.vocabularies.Common.v1.DraftRoot"]||V[2]["@com.sap.vocabularies.Common.v1.DraftNode"];var T=f["$Key"];S=p["@com.sap.vocabularies.Common.v1.SemanticKey"];if(I){if(z.preferredMode&&z.preferredMode[0]==="create"&&!H.getInstance().getHash()){if(w){x=w+"(...)";}else{c.error("Cannot handle this App");}H.getInstance().replaceHash(x);E=true;}else{var K;var N=i.getRootViewController();if(S&&S.length&&z[S[0].$PropertyPath]&&!(N&&N.isFclEnabled())){K=j._createHash(S,w,z);}else if(T&&z[T[0]]){K=j._createHash(T,w,z);}if(K){H.getInstance().replaceHash(K);}}}R.initialize();r();}).catch(function(p){c.error("Metadata not loaded: "+p);q();});});},
_bindTargetPage:function(T,p,q,N,I){var r=T.getComponentInstance?T.getComponentInstance():T.getController(),v=(r.onBeforeBinding||n).bind(r),w=(r.onAfterBinding||n).bind(r),x,y,z,G,J,K=T.getModel().getMetaModel(),Q=T.getComponentInstance&&T.getComponentInstance().getEntitySet&&T.getComponentInstance().getEntitySet(),R=this,U;function V(){if(S&&S.length){var $=[];var _=[];var X=H.getInstance().getHash();X=X.split("?")[0];if(u){var a1;for(var i=0;i<S.length;i++){a1=u.getObject(S[i].$PropertyPath);if(a1){_.push(a1);}else{return undefined;}}}else{_=X.substring(X.indexOf("(")+1,X.length-1).split(",");}for(var j=0;j<S.length;j++){var b1=S[j].$PropertyPath;var c1;if(_.length===1){c1=_[0];}else{c1=_[j].split("=")[1];}if(c1.indexOf("'")===0&&c1.lastIndexOf("'")===c1.length-1){c1=c1.substr(1,c1.length-2);}$.push(new F(b1,a.EQ,c1));}if(g){var d1=new F({filters:[new F("IsActiveEntity","EQ",false),new F("SiblingEntity/IsActiveEntity","EQ",null)],and:false});$.push(d1);}var Y=new F($,true);return Y;}}function W(){if(!N){x=T.getBindingContext();y=x&&x.getPath();z=x&&x.getBinding();G=u&&u.getBinding();}if(N||y!==p||(u&&z!==G&&!I)){if(p||N){if(!u||u.getBinding().isA("sap.ui.model.odata.v4.ODataListBinding")){J=u&&u.getBinding();var i={$$patchWithoutSideEffects:true,$$groupId:"$auto.Heroes"};if(U){i.$select=U;}var j=T.getModel().bindContext(p,undefined,i);j.attachDataRequested(function(){e.lock(T);});j.attachDataReceived(function($){var _=$&&$.getParameter("error");e.unlock(T);if(_){sap.ui.getCore().getLibraryResourceBundle("sap.fe.core",true).then(function(a1){m.removeUnboundTransitionMessages();R.navigateToMessagePage(a1.getText("SAPFE_DATA_RECEIVED_ERROR"),{title:a1.getText("SAPFE_ERROR"),description:_,navContainer:T.getParent()});});}});u=j.getBoundContext();if(R.isUIStateDirty()){setTimeout(function(){R._refreshBindingContext(x,U);},0);}}x=u;v(x,{editable:t,listBinding:J,bPersistOPScroll:P});T.setBindingContext(x);w(x);u=null;}else if(p===""){v(null);w(null);}}else if(R.isUIStateDirty()){R._refreshBindingContext(x,U);}}s=T.getComponent?T.getComponent():T.getControllerName();if(Q){U=K.getProperty("/"+Q+"/@com.sap.vocabularies.Common.v1.Messages/$Path");}if(q){v(null,{editable:t});if(D||!o){if(r&&r.createDeferredContext){r.createDeferredContext(p);o=null;D=false;}}if(T.getBindingContext()&&T.getBindingContext().hasPendingChanges()){T.getBindingContext().getBinding().resetChanges();}T.setBindingContext(null);return false;}var X=H.getInstance().getHash();if(S&&S.length&&g&&X.split("/").length===1&&p!==""&&!I){if(!u){var Y=V();var Z=T.getModel().bindList("/"+X.substring(0,X.indexOf("(")),undefined,undefined,Y);Z.requestContexts().then(function(i){if(i&&i.length){p=i[0].getPath();}W();}).catch(function(i){var j=T.getParent();var $=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");this.navigateToMessagePage($.getText("SAPFE_DATA_RECEIVED_ERROR"),{title:$.getText("SAPFE_ERROR"),description:i.message,navContainer:j});}.bind(this));}else{p=u.getPath();W();}}else{W();}},
buildBindingContext:function(p,i){if(p.length===0){return"";}var j=p;var q=p.indexOf("{");if(q!=-1){var r=p.indexOf("}");var v=p.substr(q+1,r-q-1);j=p.substr(0,q)+i[v];j+=this.buildBindingContext(p.substr(r+1),i);}return j;},
_refreshBindingContext:function(j,p){var N=[],q=[],r=[];var v=function(w){var x,y=w.getPath();if(w.isA("sap.ui.model.odata.v4.ODataContextBinding")){x=w.getDependentBindings();if(x){for(var i=0;i<x.length;i++){v(x[i]);}}else{if(N.indexOf(y)===-1){N.push(y);}}}else if(w.isA("sap.ui.model.odata.v4.ODataListBinding")){if(N.indexOf(y)===-1){N.push(y);}}else if(w.isA("sap.ui.model.odata.v4.ODataPropertyBinding")){if(q.indexOf(y)===-1){q.push(y);}}};v(j.getBinding());for(var i=0;i<N.length;i++){r.push({$NavigationPropertyPath:N[i]});}for(var i=0;i<q.length;i++){r.push({$PropertyPath:q[i]});}if(p){r.push({$PropertyPath:p});}j.requestSideEffects(r);},
attachOnAfterNavigation:function(i){O.push(i);},
detachOnAfterNavigation:function(j){for(var i=0;i<O.length;i++){if(O[i]===j){O.splice(i,1);}}},
fireOnAfterNavigation:function(){for(var i=0;i<O.length;i++){O[i]();}},
getOutbounds:function(){if(!this.outbounds){if(!this.manifest){this.manifest=this._getOwnerComponent().getMetadata().getManifest();}this.outbounds=this.manifest["sap.app"]&&this.manifest["sap.app"].crossNavigation&&this.manifest["sap.app"].crossNavigation.outbounds;}return this.outbounds;},
_getOwnerComponent:function(){return d.getAppComponent(this.base.getView());},
getEntitySet:function(p){var q;var r=p.getManifest();var R=r["sap.ui5"].routing.routes;var T=r["sap.ui5"].routing.targets;var v;for(var i in R){v=R[i].pattern;if(v===""||":?query:"){q=T[R[i].target].options&&T[R[i].target].options.settings&&T[R[i].target].options.settings.entitySet;return q;}}if(!(p.getRootViewController()&&p.getRootViewController().isFclEnabled())){for(var j in R){v=R[j].pattern;if((v!==""||":?query:")&&T[R[j].target].options&&T[R[j].target].options.settings&&T[R[j].target].options.settings.entitySet===q&&T[R[j].target].name==="sap.fe.templates.ObjectPage"){return q;}}}if(q==undefined){if(R.length===1){q=R[0].pattern.split("(")[0];return q;}}},
_createHash:function(K,j,p){var q=j+"(";var r,v;var w=this._getEntityType();if(K.length===1){r=K[0].$PropertyPath||K[0];v=p.isA&&p.isA("sap.ui.model.odata.v4.Context")?p.getObject(r):p[r][0];if(v!==undefined){q=w[r].$Type==="Edm.String"?q+"'"+v+"'":q+v;}else{q=undefined;}}else{for(var i=0;i<K.length;i++){r=K[i].$PropertyPath||K[i];v=p.getObject?p.getObject(r):p[r][0];if(v){q=w[r].$Type==="Edm.String"?q+r+"='"+v+"'":q+r+"="+v;if(i!==K.length-1){q=q+",";}}else{q=undefined;break;}}}if(q){q=q+")";return q;}return undefined;},
_getEntityType:function(){return f||null;}
});
l.flagUIState=k.CLEAN;return l;});
sap.ui.predefine('sap/fe/core/helpers/StableIdHelper',["sap/ui/core/library","sap/base/Log"],function(c,L){"use strict";var I=c.ID;
function r(i){if(i.indexOf(" ")>=0){L.error(i+" - Spaces are not allowed in ID parts.");throw i+" - Spaces are not allowed in ID parts.";}i=i.replace(/^\/|^@|^#/,"").replace(/\/$|@$|#$/,"").replace(/\/|@|#/g,"::");while(i.indexOf("::::")>-1){i=i.replace("::::","::");}return i;}
function a(i){i=i.replace("com.sap.vocabularies.UI.v1.","");i=i.replace("com.sap.vocabularies.Communication.v1.","");return i;}
function g(v){if(v&&v.$Path){return v.$Path;}if(v&&v.$Apply&&v.$Function==="odata.concat"){var p="";for(var i=0;i<v.$Apply.length;i++){if(v.$Apply[i].$Path){if(p){p+="::";}p+=v.$Apply[i].$Path;}}return p;}}
function b(d){var i="";if(typeof d.SemanticObject=="string"){i+=d.SemanticObject;}else if(d.SemanticObject.$Path){i+=d.SemanticObject.$Path;}if(typeof d.Action=="string"){i+="::"+d.Action;}else if(d.Action&&d.Action.$Path){i+="::"+d.Action.$Path;}if(d["RequiresContext"]&&d["RequiresContext"]==true){i+="::RequiresContext";}return i;}
var s={generate:function(S){var d="",e,f;for(var i=0;i<S.length;i++){e=S[i];d+=d!==""?"::":"";if(e["Facet"]&&e["Facet"]["$Type"]&&e["Facet"]["$Type"]=="com.sap.vocabularies.UI.v1.CollectionFacet"){d+=e["Facet"]["ID"];}else{if(typeof e==="string"){if(e){d+=e;}}else if(typeof e==="object"){if(e&&e.Facet){if(e.Facet.$Type&&e.Facet.$Type==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(e.Facet.ID){f=e.Facet.ID;}}else if(e.Facet.$Type&&e.Facet.$Type==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(e.Facet.ID){f=e.Facet.ID;}else{f=e.Facet.Target.$AnnotationPath||e.Facet.Target.value;}}if(f){d+=f;}}if(e&&e["$Type"]&&e["$Type"].indexOf("com.sap.vocabularies.UI.v1.DataField")>-1){d+=this.getStableIdPartFromDataField(e);}}}}d=s.prepareId(d);return d;},getStableIdPartFromDataField:function(d,p){var i="";if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAction"){i="DataFieldForAction::";i+=d.Action;return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){i="DataFieldForIntentBasedNavigation::";i+=b(d);return i;}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){i="DataFieldForAnnotation::";i+=s.prepareId(d.Target.$AnnotationPath);return i;}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithAction"){i="DataFieldWithAction::";if(d.Value){i+=g(d.Value)+"::";}i+=d.Action;return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataField"){i="DataField::";i+=g(d.Value);return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){i="DataFieldWithIntentBasedNavigation::";i+=g(d.Value)+"::";i+=b(d);return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){i="DataFieldWithNavigationPath::";i+=g(d.Value);if(d.Target&&d.Target["$NavigationPropertyPath"]){i+="::"+d.Target["$NavigationPropertyPath"];}return s.prepareId(i);}else if(d.$Type&&d.$Type==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){i="DataFieldWithUrl::";i+=g(d.Value);return s.prepareId(i);}else if(p&&p.context&&p.context.getObject("@sapui.name")){return s.prepareId(p.context.getObject("@sapui.name"));}else{L.error("Stable ID Helper: Unable to create a stable ID. Please check the annotations.");}return undefined;},prepareId:function(i){i=a(i);if(I.isValid(i)){return i;}else{i=r(i);if(I.isValid(i)){return i;}else{L.error(i+" - Stable Id could not be generated due to insufficient information.");throw i+" - Stable Id could not be generated due to insufficient information.";}}}};return s;});
sap.ui.predefine('sap/fe/core/helpers/ValueListHelper',["sap/ui/thirdparty/jquery","sap/ui/core/XMLTemplateProcessor","sap/ui/model/json/JSONModel","sap/ui/core/util/XMLPreprocessor","sap/ui/core/Fragment","sap/m/MessageToast","sap/ui/mdc/field/InParameter","sap/ui/mdc/field/OutParameter","sap/base/Log","sap/fe/core/CommonUtils"],function(q,X,J,a,F,M,I,O,L,C){"use strict";var w={};
function _(v){return v.Parameters.some(function(p){return(p["@com.sap.vocabularies.UI.v1.Importance"]&&p["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High");});}
function b(v){var c=v.valueListInfo.$model.getMetaModel().getObject("/"+v.valueListInfo.CollectionPath+"@"),s=c["@Org.OData.Capabilities.V1.SearchRestrictions"]&&c["@Org.OData.Capabilities.V1.SearchRestrictions"].Searchable;return s===undefined?true:s;}
var V={getColumnVisibility:function(v,o){if(!_(v)){return undefined;}else if(o&&o["@com.sap.vocabularies.UI.v1.Importance"]&&o["@com.sap.vocabularies.UI.v1.Importance"].$EnumMember==="com.sap.vocabularies.UI.v1.ImportanceType/High"){return undefined;}else{return"{_VHUI>/showAllColumns}";}},hasImportance:function(v){return _(v.getObject())?"Importance/High":"None";},getMinScreenWidth:function(v){return _(v)?"{= ${_VHUI>/minScreenWidth}}":"418px";},getPropertyPath:function(p){return!p.UnboundAction?"/"+p.EntitySet+"/"+p.Action+"/"+p.Property:"/"+p.Action.substring(p.Action.lastIndexOf(".")+1)+"/"+p.Property;},getWaitForPromise:function(){return w;},getValueListCollectionEntitySet:function(v){var m=v.getObject();return m.$model.getMetaModel().createBindingContext("/"+m.CollectionPath);},getValueListProperty:function(p){var v=p.getModel();var m=v.getObject("/");return m.$model.getMetaModel().createBindingContext("/"+m.CollectionPath+"/"+p.getObject());},getValueListInfo:function(f,m,p,c){var k,d,s="",P=m.getObject(p+"@sapui.name"),e,i=[],o=[],g="";return m.requestValueListInfo(p,true).then(function(v){var h=f.getInParameters().length+f.getOutParameters().length===0;v=v[v[""]?"":Object.keys(v)[0]];v.Parameters.forEach(function(j){e="/"+v.CollectionPath+"/"+j.ValueListProperty;var l=v.$model.getMetaModel().getObject(e)||{},n=v.$model.getMetaModel().getObject(e+"@")||{};if(!k&&j.$Type.indexOf("Out")>48&&j.LocalDataProperty.$PropertyPath===P){g=e;k=j.ValueListProperty;d=n["@com.sap.vocabularies.Common.v1.Text"]&&n["@com.sap.vocabularies.Common.v1.Text"].$Path;}if(!s&&l.$Type==="Edm.String"&&!n["@com.sap.vocabularies.UI.v1.HiddenFilter"]&&!n["@com.sap.vocabularies.UI.v1.Hidden"]){s=s.length>0?s+","+j.ValueListProperty:j.ValueListProperty;}if(h&&j.$Type!=="com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly"&&j.LocalDataProperty.$PropertyPath!==P){var r="";if(c&&c.length>0){r=c+">/conditions/";}r="{"+r+j.LocalDataProperty.$PropertyPath+"}";if(j.$Type.indexOf("Out")>48){o.push(new O({value:r,helpPath:j.ValueListProperty}));}if(j.$Type.indexOf("In")>48){i.push(new I({value:r,helpPath:j.ValueListProperty}));}}});return{keyValue:k,descriptionValue:d,fieldPropertyPath:g,filters:s,inParameters:i,outParameters:o,valueListInfo:v};}).catch(function(h){var j=h.status&&h.status===404?"Metadata not found ("+h.status+") for value help of property "+p:h.message;L.error(j);M.show(j);});},createValueHelpDialog:function(p,f,t,o,v,s){var c=f.getMetadata().getName(),W=f.getContent&&f.getContent(),d=W.getId(),e=v.filters,i=v.inParameters,g=v.outParameters;var h="";if(f.getModel("$view")&&f.getModel("$view").getObject()&&f.getModel("$view").getObject().getViewData()){h=f.getModel("$view").getObject().getViewData().stableId;}if(!t){if(c.indexOf("FieldValueHelp")>-1){f.setTitle(v.valueListInfo.Label);f.setKeyPath(v.keyValue);f.setDescriptionPath(v.descriptionValue);f.setFilterFields(b(v)?"$search":"");}}function j(k){var l=X.loadTemplate(k,"fragment"),m=v.valueListInfo,n=new J(m),r=m.$model.getMetaModel(),S=new J({id:f.getId()});return Promise.resolve(a.process(l,{name:k},{bindingContexts:{valueList:n.createBindingContext("/"),entitySet:r.createBindingContext("/"+m.CollectionPath,null,{$$configModelPath:"/"+h+"/"+m.CollectionPath}),source:S.createBindingContext("/")},models:{valueList:n,entitySet:r,source:S}})).then(function(l){var u={path:p,fragmentName:k,fragment:l};if(L.getLevel()===L.Level.DEBUG){V.ALLFRAGMENTS=V.ALLFRAGMENTS||[];V.ALLFRAGMENTS.push(u);}if(V.logFragment){setTimeout(function(){V.logFragment(u);},0);}return F.load({definition:l});});}t=t||j("sap.fe.macros.ValueListTable");if(e.length){o=o||(!s&&j("sap.fe.macros.ValueListFilterBar"));}else{o=Promise.resolve();}return Promise.all([t,o]).then(function(k){var t=k[0],o=k[1];if(t){t.setModel(v.valueListInfo.$model);L.info("Value List XML content created ["+p+"]",t.getMetadata().getName(),"MDC Templating");}if(o){o.setModel(v.valueListInfo.$model);L.info("Value List XML content created ["+p+"]",o.getMetadata().getName(),"MDC Templating");}if(t!==W.getTable()){W.setTable(t);delete w[d];}var l=s?"416px":"Auto";t.setContextualWidth(l);if(o&&o!==f.getFilterBar()){f.setFilterBar(o);}g.forEach(function(m){f.addOutParameter(m);});i.forEach(function(m){f.addInParameter(m);});});},showValueListInfo:function(p,f,s,c){var m=f.getModel(),o=m.getMetaModel(),W=f.getContent&&f.getContent(),d=W.getId(),t=W&&W.getTable&&W.getTable(),e=f&&f.getFilterBar&&f.getFilterBar(),E=t&&e,v;v=f.getModel("_VHUI");if(!v){v=new J({});f.setModel(v,"_VHUI");}v.setProperty("/showAllColumns",!s);v.setProperty("/minScreenWidth",!s?"418px":undefined);if(w[d]||E){return w["promise"+d];}else{if(!t){w[d]=true;}var P=V.getValueListInfo(f,o,p,c).then(function(g){if(f.getParent().getMetadata().getName()==="sap.ui.mdc.Field"){var h,i,j=g.valueListInfo;h=j.$model.getMetaModel().getObject(g.fieldPropertyPath+"@");i=j.$model.getMetaModel().getObject("/"+j.CollectionPath+"/$Type@");var D=C.computeDisplayMode(h,i);f.getParent().setProperty("display",D);}return V.createValueHelpDialog(p,f,t,e,g,s);}).catch(function(g){var h=g.status&&g.status===404?"Metadata not found ("+g.status+") for value help of property "+p:g.message;L.error(h);M.show(h);});w["promise"+d]=P;return P;}},setValueListFilterFields:function(p,f,s,c){var m=f.getModel(),o=m.getMetaModel();return V.getValueListInfo(f,o,p,c).then(function(v){f.setFilterFields(b(v)?"$search":"");});}};return V;},true);
sap.ui.predefine('sap/fe/core/model/DraftEditState',["sap/ui/mdc/condition/FilterOperatorUtil","sap/ui/mdc/condition/Operator","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(F,O,a,b){"use strict";var f=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");var E={ALL:{id:"ALL",display:f.getText("draft.ALL_FILTER")},UNCHANGED:{id:"UNCHANGED",display:f.getText("draft.UNCHANGED_FILTER")},OWN_DRAFT:{id:"OWN_DRAFT",display:f.getText("draft.OWN_DRAFT_FILTER")},LOCKED:{id:"LOCKED",display:f.getText("draft.LOCKED_FILTER")},UNSAVED_CHANGES:{id:"UNSAVED_CHANGES",display:f.getText("draft.UNSAVED_CHANGES_FILTER")}};
function g(e){switch(e){case E.UNCHANGED.id:return new a({filters:[new a({path:"IsActiveEntity",operator:b.EQ,value1:true}),new a({path:"HasDraftEntity",operator:b.EQ,value1:false})],and:true});case E.OWN_DRAFT.id:return new a({path:"IsActiveEntity",operator:b.EQ,value1:false});case E.LOCKED.id:return new a({filters:[new a({path:"IsActiveEntity",operator:b.EQ,value1:true}),new a({path:"SiblingEntity/IsActiveEntity",operator:b.EQ,value1:null}),new a({path:"DraftAdministrativeData/InProcessByUser",operator:b.NE,value1:""})],and:true});case E.UNSAVED_CHANGES.id:return new a({filters:[new a({path:"IsActiveEntity",operator:b.EQ,value1:true}),new a({path:"SiblingEntity/IsActiveEntity",operator:b.EQ,value1:null}),new a({path:"DraftAdministrativeData/InProcessByUser",operator:b.EQ,value1:""})],and:true});default:return new a({filters:[new a({path:"IsActiveEntity",operator:b.EQ,value1:false}),new a({path:"SiblingEntity/IsActiveEntity",operator:b.EQ,value1:null})],and:false});}}
F.addOperator(new O({name:"DRAFT_EDIT_STATE",valueTypes:["self"],tokenParse:"^(.*)$",format:function(v){return v&&v.values;},getModelFilter:function(c,s){return g(c.values[0]);}}));return E;},true);
sap.ui.predefine('sap/fe/core/model/DraftModel',["sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/ODataListBinding","sap/ui/model/odata/v4/Context","sap/ui/model/Filter","sap/ui/base/ManagedObject","sap/ui/model/ChangeReason","sap/ui/model/resource/ResourceModel","sap/ui/model/odata/v4/ODataContextBinding","sap/base/Log","sap/fe/core/model/DraftEditState"],function(J,O,C,F,M,a,R,b,L,E){"use strict";var c="_$DraftModel";var A=false;var p={};
function s(r,K,t){var v=typeof r==="string"?r:r.getId(),P=(p[v]=p[v]||{});P[K]=t;if(A&&!r[c]){r[c]=P;}}
function g(r,K){var t=typeof r==="string"?r:r.getId();return p[t]&&p[t][K];}
function d(r){var t=r.getMetaModel(),v=g(r,"aEntitySets"),w=v?Promise.resolve(v):t&&t.requestObject("/").then(function(x){var P=[];Object.keys(x).forEach(function(y){var z=x[y],B;if(z.$kind==="EntitySet"){B=t.requestObject("/"+y+"@");P.push(B.then(function(G){var H={};H["@"]=G;H["@sapui.name"]=y;return H;}));}});return Promise.all(P);});return w;}
function e(r,t,v){var w=r.getModel();v=v||{$$inheritExpandSelect:false};return w.bindContext(t+"(...)",r,v);}
function f(){if(!this.getProperty("IsActiveEntity")){var r=e(this,arguments[0],{$$inheritExpandSelect:true});return r.execute().then(function(t){return t;});}else{throw new Error("The activation action cannot be executed on an active document");}}
function h(r){if(!this.getProperty("IsActiveEntity")){var t=e(this,arguments[0]);r=arguments[1];if(typeof r==="undefined"){r="";}t.setParameter("SideEffectsQualifier",r);return t.execute().then(function(){return t;});}else{throw new Error("The preparation action cannot be executed on an active document");}}
function i(){if(!this.getProperty("IsActiveEntity")){var r=e(this,arguments[0]);return r.execute().then(function(){return r;});}else{throw new Error("The validation function cannot be executed on an active document");}}
function j(r){if(this.getProperty("IsActiveEntity")){var t=e(this,arguments[0],{$$inheritExpandSelect:true});r=arguments[1];t.setParameter("PreserveChanges",r);return t.execute().then(function(v){return v;});}else{throw new Error("The edit action cannot be executed on a draft document");}}
var o={"ActivationAction":f,"PreparationAction":h,"ValidationFunction":i,"EditAction":j};
function k(r,t){var v=t["@"]["@com.sap.vocabularies.Common.v1.DraftRoot"]||t["@"]["@com.sap.vocabularies.Common.v1.DraftNode"];Object.keys(v).forEach(function(w){var x=v[w];if(o[w]){r["executeDraft"+w]=o[w].bind(r,x);}});}
function l(r){if(g(r,"bIsDraftEnabled")===undefined){return d(r).then(function(t){var v=t.filter(function(w){var x=w["@"]||{};return(x.hasOwnProperty("@com.sap.vocabularies.Common.v1.DraftRoot")||x.hasOwnProperty("@com.sap.vocabularies.Common.v1.DraftNode"));}),I=Array.isArray(v)&&v.length>0;if(I){s(r,"aEntitySets",t);s(r,"aDraftEntitySets",v);}s(r,"bIsDraftEnabled",I);return I;});}else{return Promise.resolve(g(r,"bIsDraftEnabled"));}}
function _(r){if(g(r,"bUpgraded")){L.warning("Model was already upgraded to DraftModel");return;}var t={},v={},w=-1,x={"editStates":[{id:E.ALL.id,name:E.ALL.display},{id:E.UNCHANGED.id,name:E.UNCHANGED.display},{id:E.OWN_DRAFT.id,name:E.OWN_DRAFT.display},{id:E.LOCKED.id,name:E.LOCKED.display},{id:E.UNSAVED_CHANGES.id,name:E.UNSAVED_CHANGES.display}],"entitySets":{}},I,y=g(r,"aDraftEntitySets");s(r,"mListBindings",v);y.forEach(function(B){x.entitySets[B["@sapui.name"]]={editState:E.ALL};});I=new J(x);s(r,"oDraftAccessModel",I);r.getDraftAccessModel=n;t.bindList=r.bindList;r.bindList=function(P,B,S,G,H){var K=I.getObject("/entitySets"+P),N;if(K){var Q="";H=H||{};Q=H.$expand;if(Q){if(Q.indexOf("DraftAdministrativeData")<0){Q+=",DraftAdministrativeData";}}else{Q="DraftAdministrativeData";}H.$expand=Q;}arguments[4]=H;N=t.bindList.apply(this,arguments);if(K){N._bDraftModelUpgrade=true;v[++w]=N;N.destroy=(function(T){return function(){delete v[T];return O.prototype.destroy.apply(this,arguments);};})(w);}return N;};function z(B){var G=false,P=B.getPath();if(g(r,"bUpgraded")&&P){y.forEach(function(H){var K=!G&&P.substring(P.indexOf("/")+1,P.indexOf("("))===H["@sapui.name"];if(K){G=true;k(B,H);}});}return B;}t.create=C.create;C.create=function(r,B,P,G,H){return z(t.create.apply(null,arguments));};t.createReturnValueContext=C.createReturnValueContext;C.createReturnValueContext=function(r,B,P){return z(t.createReturnValueContext.apply(null,arguments));};t.modelDestroy=r.destroy;r.destroy=function(){delete p[this.getId()];return t.modelDestroy.apply(this,arguments);};s(r,"bUpgraded",true);return true;}
function u(r){return l(r).then(function(t){if(t){return _(r);}else{throw new Error("The model is not draft enabled");}});}
function m(r){return l(r).then(function(t){if(t){_(r);}return t;});}
function n(){return g(this,"oDraftAccessModel");}
var q={};var D={upgrade:u,upgradeOnDemand:m,isDraftModel:l,EDITSTATE:E};return D;},true);
sap.ui.predefine('sap/fe/core/services/view/TemplatingErrorPage.controller',["sap/ui/core/mvc/Controller"],function(C){"use strict";return C.extend("sap.fe.core.services.view.TemplatingErrorPage",{onBeforeBinding:function(c,p){},onAfterBinding:function(b){}});});
sap.ui.require.preload({
	"sap/fe/core/controls/ActionParameterDialog.fragment.xml":'<core:FragmentDefinition xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:mdc="sap.ui.mdc" xmlns:mdcField="sap.ui.mdc.field" xmlns:form="sap.ui.layout.form" xmlns:unittest="http://schemas.sap.com/sapui5/preprocessorextension/sap.fe.unittesting/1" template:require="{MODEL:\'sap/ui/model/odata/v4/AnnotationHelper\',COMMON:\'sap/fe/macros/CommonHelper\',FIELD:\'sap/fe/macros/field/FieldHelper\',FEHelper:\'sap/fe/core/FEHelper\',ID:\'sap/fe/core/helpers/StableIdHelper\',VLH:\'sap/fe/core/helpers/ValueListHelper\'}"><template:with path="entitySet&gt;" helper="FEHelper.getTargetCollection" var="esName"><form:SimpleForm binding="{$Parameter}"><template:repeat list="{action&gt;$Parameter}" var="parameter"><template:with path="parameter&gt;" helper="COMMON.gotoActionParameter" var="actionParameter"><template:if test="{= !${action&gt;$IsBound} || ${parameter&gt;$Name} !== ${action&gt;$Parameter/0/$Name} }"><Label unittest:id="ActionParameterDialogLabelExpressionTest" text="{actionParameter&gt;@com.sap.vocabularies.Common.v1.Label}"/><mdc:Field delegate="{name:\'sap/ui/mdc/odata/v4/FieldBaseDelegate\'}" unittest:id="ActionParameterDialogFieldExpressionTest" id="{= ID.generate([\'APD_\', ${parameter&gt;$Name}]) }" value="{parameter&gt;@@MODEL.format}" display="{= (${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListReferences} || ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListMapping} || ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueList}) ? \'DescriptionValue\' : \'Value\'}" editMode="{actionParameter&gt;@@COMMON.getParameterEditMode}" width="100%" multipleLines="{= ${actionParameter&gt;@com.sap.vocabularies.UI.v1.MultiLineText} ? (${actionParameter&gt;@com.sap.vocabularies.UI.v1.MultiLineText} !== false)  : undefined}" required="{= FIELD.isRequired(${actionParameter&gt;@@FIELD.fieldControl}, \'Editable\')}" change="{= \'.handleChange($event, \\\'\' + ${parameter&gt;$Name} + \'\\\')\' }" fieldHelp="{= (${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListReferences} || ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListMapping} || ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueList}) ? ID.generate([${actionName&gt;@sapui.name},${parameter&gt;$Name}]) : undefined }" visible="{actionParameter&gt;@@COMMON.isVisible}"><template:if test="{= ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListReferences} || ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListMapping} || ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueList} }"><template:then><mdc:dependents><mdcField:FieldValueHelp unittest:id="ActionParameterDialogValuehelpExpressionTest" id="{= ID.generate([${actionName&gt;@sapui.name},${parameter&gt;$Name}]) }" delegate="{= \'{name:\\\'sap/fe/macros/FieldValueHelpDelegate\\\', payload: {propertyPath: \\\'\' + VLH.getPropertyPath({ UnboundAction: !${action&gt;$IsBound}, EntitySet: ${esName&gt;@sapui.name}, Action: ${actionName&gt;@sapui.name}, Property: ${parameter&gt;$Name} }) + \'\\\'}}\'}" showConditionPanel="true" noDialog="{= ${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} ? (${actionParameter&gt;@com.sap.vocabularies.Common.v1.ValueListWithFixedValues} !== false) : false}" validateInput="false"><mdcField:FieldValueHelpMTableWrapper/></mdcField:FieldValueHelp></mdc:dependents></template:then></template:if></mdc:Field></template:if></template:with></template:repeat></form:SimpleForm></template:with></core:FragmentDefinition>',
	"sap/fe/core/controls/field/DraftPopOverAdminData.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" template:require="{CORE:\'sap/fe/core/AnnotationHelper\'}" xmlns:template="http://schemas.sap.com/sapui5/extension/sap.ui.core.template/1"><Popover binding="{path:\'DraftAdministrativeData\'}" title="{= !%{draftInfo&gt;/bIsActive} ? ${sap.fe.i18n&gt;DRAFTINFO_DRAFT_OBJECT} : (%{draftInfo&gt;/bHasDraft} ? (%{InProcessByUser} ? ${sap.fe.i18n&gt;DRAFTINFO_LOCKED_OBJECT} : ${sap.fe.i18n&gt;DRAFTINFO_UNSAVED_OBJECT}) : ${sap.fe.i18n&gt;DRAFTINFO_FLAGGED_OBJECT}) }" showHeader="true" contentWidth="15.625rem" verticalScrolling="false" class="sapUiContentPadding"><endButton><Button icon="sap-icon://decline" press=".editFlow.closeDraftAdminPopover"/></endButton><VBox class="sapUiContentPadding"><VBox visible="{= !%{draftInfo&gt;/bIsActive} &amp;&amp; !%{LastChangeDateTime}}"><Text text="{= ${sap.fe.i18n&gt;DRAFTINFO_POPOVER_NO_DATA_TEXT} }"/></VBox><VBox visible="{= !%{draftInfo&gt;/bIsActive} &amp;&amp; %{LastChangeDateTime}}"><Text text="{parts:[{path:\'sap.fe.i18n&gt;DRAFTINFO_LAST_CHANGE_TEXT\'},{path:\'LastChangeDateTime\'}]}"/></VBox><VBox visible="{= %{draftInfo&gt;/bHasDraft} &amp;&amp; %{draftInfo&gt;/bIsActive} &amp;&amp; %{LastChangeDateTime} }"><Text text="{path:\'entitySet&gt;$Type\',formatter:\'CORE.getBindingForDraftAdminBlockInPopover\'}"/><Text class="sapUiSmallMarginTop" text="{parts:[{path:\'sap.fe.i18n&gt;DRAFTINFO_LAST_CHANGE_TEXT\'},{path:\'LastChangeDateTime\'}]}"/></VBox></VBox></Popover></core:FragmentDefinition>',
	"sap/fe/core/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.fe.core","type":"library","embeds":[],"applicationVersion":{"version":"1.78.0"},"title":"UI5 library: sap.fe.core","description":"UI5 library: sap.fe.core","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.78","libs":{"sap.ui.core":{"minVersion":"1.78.0"},"sap.f":{"minVersion":"1.78.0"},"sap.fe.navigation":{"minVersion":"1.78.0"},"sap.m":{"minVersion":"1.78.0"},"sap.ui.layout":{"minVersion":"1.78.0","lazy":true},"sap.ui.mdc":{"minVersion":"1.78.0","lazy":false},"sap.ui.fl":{"minVersion":"1.78.0","lazy":true},"sap.ushell":{"minVersion":"1.78.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","da","de","el","en","en-US-sappsd","en-US-saptrc","es","et","fi","fr","hi","hr","hu","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"css":false,"content":{"controls":[],"elements":[],"types":[],"interfaces":[]}}}}',
	"sap/fe/core/services/view/TemplatingErrorPage.view.xml":'<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="sap.fe.core.services.view.TemplatingErrorPage"><MessagePage showHeader="false" icon="sap-icon://message-error" text="{sap.fe.i18n&gt;SAPFE_APPSTART_TEMPLATING_FAILED}" description="{= ${error&gt;/message} ? ${error&gt;/message} : \'\'}"/></mvc:View>'
},"sap/fe/core/library-preload"
);
//# sourceMappingURL=library-preload.js.map