sap.ui.define(["sap/fe/test/Utils","./TemplatePage","sap/ui/test/Opa5","sap/ui/test/OpaBuilder","sap/fe/test/builder/VMBuilder"],function(U,T,O,a,V){"use strict";return{create:function(A,c,e){var b=A+"::"+c,d="fe::table::"+e+"::LineItem",F="fe::FilterBar::"+e,f=F+"::FilterFieldValueHelp::",r=sap.ui.getCore().getLibraryResourceBundle("sap.fe.core");return U.mergeObjects(T.create(b,e),{actions:{onTable:function(t){if(!U.isOfType(t,String)){if(!t){t={id:d};}else{throw new Error("not supported table identifier");}}return this._onTable(t);},onFilterBar:function(){return this._onFilterBar({id:F});},iExecuteActionOnDialog:function(t){return a.create(this).hasType("sap.m.Button").hasProperties({text:t}).isDialogElement().doPress().description("Pressing dialog button '"+t+"'").execute();},iOpenVHDialog:function(s){return a.create(this).hasId(F+"::FilterField::"+s+"-inner-vhi").doPress().description("Opening value help for dialog'"+s+"'").execute();},iSelectFromVHDTable:function(v){return a.create(this).hasType("sap.m.ColumnListItem").hasAggregationProperties("cells",{value:v}).checkNumberOfMatches(1).isDialogElement().doPress().description("Selecting row from dialog with value '"+v+"'").execute();},iConfirmVHDSelection:function(s,S){var R=a.create(this).hasId(f+s+"-ok").doPress().description("Confirming value help selection for '"+s+"'").execute();if(!S){R=this.onFilterBar().iExecuteSearch();}return R;},iFilterWithVHDialog:function(s,v){var R=this.iOpenVHDialog(s).and.iSelectFromVHDTable(v).and.iConfirmVHDSelection(s);return R;},iSortTableByColumn:function(C){return this._iSortTableByColumn(d,C);},iSelectDefineConditionPanel:function(s){var R=a.create(this).hasId(f+s+"-VHP--defineCondition").doPress().description("Pressing Define Condition Icon Tab Strip for'"+s+"'").execute();return R;},iSelectOperators:function(){var R=a.create(this).hasType("sap.ui.core.Icon").hasProperties({src:"sap-icon://slim-arrow-down"}).doPress().description("Select list of operators").execute();return R;},iSaveVariant:function(v){return V.create(this).hasId("fe::PageVariantManagement").doSaveAs(v).description(U.formatMessage("Saving variant for '{0}' as '{1}'","Page Variant",v)).execute();}},assertions:{onTable:function(t){if(!U.isOfType(t,String)){if(!t){t={id:d};}else{throw new Error("not supported table identifier");}}return this._onTable(t);},onFilterBar:function(){return this._onFilterBar({id:F});},iSeeTheMessageToast:function(t){return this._iSeeTheMessageToast(t);},iSeeFilterFieldsInFilterBar:function(n){return a.create(this).hasId(F).hasAggregationLength("filterItems",n).description("Seeing Filter bar with "+n+" filter fields").execute();},iSeeTableCellWithActions:function(p,n,B){return a.create(this).hasType("sap.m.ColumnListItem").has(a.Matchers.bindingPath(p)).has(function(g){var h=g.getCells()[n];return h.getMetadata().getElementName()==="sap.m.Button"&&h.getText()===B;}).description("Inline Action is present in the table cell with the Text "+B).execute();},iSeeLinkWithText:function(t){return a.create(this).hasType("sap.m.Link").hasProperties({text:t}).description("Seeing link with text '"+t+"'").execute();},iSeeSummaryOfAppliedFilters:function(){var s;a.create(this).hasId(F).mustBeVisible(false).do(function(o){s=o.getAssignedFiltersText();}).execute();return a.create(this).hasType("sap.f.DynamicPageTitle").has(function(D){return D.getSnappedContent()[0].getText()===s;}).description("The correct text on the collapsed filterbar is displayed").execute();},iSeeVHDialog:function(s){return a.create(this).hasId(f+s+"-dialog").description("Seeing value help dialog for field '"+s+"'").execute();},iSeeVHDTable:function(s){return a.create(this).hasId(f+s+"::Table").has(function(t){return t.getItems().length!==0;}).description("Seeing table of value help dialog for field '"+s+"'").execute();},iSeeFieldInVHDFilterBar:function(s,g,E){return a.create(this).hasId(f+s+"::FilterBar::FilterField::"+g).hasProperties(E).description("Seeing field "+s+" in filterbar of valuehelpdialog").execute();},_checkVHDSearchFieldIsVisible:function(s,v){var S=b+"--"+f+s+"-VHP--SearchField";return a.create(this).hasId(S).hasProperties({visible:v}).mustBeVisible(false).description("Search field of value help dialog for field '"+s+"' is "+(v?"visible":"invisible")).execute();},iCheckVHDSearchFieldIsVisible:function(s,v){return this._checkVHDSearchFieldIsVisible(s,v===undefined?true:v);},iSeeVHDFilterBar:function(s){return a.create(this).hasId(f+s+"::FilterBar").description("Seeing value help filterbar for field '"+s+"'").execute();},iSeeFieldOfDCPOnVHDialog:function(s){return a.create(this).hasId(f+s+"-DCP").description("Definition Condition Panel is available in Value Help of field '"+s+"'").execute();},iSeeDeleteConfirmation:function(){return this._iSeeTheMessageToast(r.getText("OBJECT_PAGE_DELETE_TOAST_SINGULAR"));},iSeePageTitle:function(t){return a.create(this).hasType("sap.f.DynamicPageTitle").hasAggregationProperties("heading",{text:t}).description("Seeing title '"+t+"'").execute();},iSeeVariantTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId("fe::PageVariantManagement-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeControlVMFilterBarTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId(F+"::VariantManagement-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeControlVMTableTitle:function(t){return a.create(this).hasType("sap.m.Title").hasId(d+"::VM-text").hasProperties({text:t}).description("Seeing variant title '"+t+"'").execute();},iSeeVariantModified:function(i,C){var l;if(C){l=F+"::VariantManagement-modified";}else{l="fe::PageVariantManagement-modified";}i=i===undefined?true:i;if(i){return a.create(this).hasType("sap.m.Label").hasId(l).hasProperties({text:"*"}).description("Seeing variant state as 'modified'").execute();}else{return a.create(this).hasType("sap.m.Label").check(function(L){return!L.some(function(o){return o.getId()===l;});},true).description("Seeing variant state as 'not modified'").execute();}},iSeePageVM:function(){return a.create(this).hasId("fe::PageVariantManagement").description("Seeing page VM").execute();},iSeeControlVMFilterBar:function(){return a.create(this).hasId(F+"::VariantManagement").description("Seeing control VM - FilterBar").execute();},iSeeDraftIndicator:function(){return a.create(this).hasType("sap.m.Link").hasProperties({text:r.getText("DRAFTINFO_DRAFT_OBJECT")}).description("Draft indicator is visible").execute();},iSeeSortedColumn:function(C,D){return this._iSeeSortedColumn(d,C,"sortIndicator",D);},iSeeNumOfOperators:function(s,n){return a.create(this).hasId(f+s+"-DCP").doOnChildren(a.create(this).hasAggregationLength("items",n)).description("Seeing Value List of Condition Operators with "+n+" item.").execute();}}});}};});
