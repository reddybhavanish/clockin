sap.ui.define(["./HeaderAPI","sap/fe/test/Utils","sap/ui/test/OpaBuilder","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/FieldBuilder","./ShareUtilsHelper"],function(H,U,O,F,a,S){"use strict";var b=function(h,v){this._sObjectPageLayoutId=v.id;this._sHeaderId=v.headerId;this._sHeaderContentId=v.headerContentId;this._sViewId=v.viewId;this._sPaginatorId=v.paginatorId;this._sBreadCrumbId=v.breadCrumbId;return H.call(this,h,v);};b.prototype=Object.create(H.prototype);b.prototype.constructor=b;b.prototype.isAction=false;b.prototype.iCheckAction=function(A,s){var c=U.parseArguments([[Object,String],Object],arguments),o=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId);return this.prepareResult(o.hasAggregation("content",[this.createActionMatcher(A),F.Matchers.states(s)]).description(U.formatMessage("Checking custom header action '{0}' with state='{1}'",c[0],c[1])).execute());};b.prototype.iCheckEdit=function(s){var o=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId),e="fe::StandardAction::Edit";return this.prepareResult(o.hasAggregation("content",[F.Matchers.id(new RegExp(U.formatMessage("{0}$",e))),F.Matchers.states(s)]).description(U.formatMessage("Checking header Edit action '{0}' with state='{1}'",e,s)).execute());};b.prototype.iCheckDelete=function(s){var o=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId),d="fe::StandardAction::Delete";return this.prepareResult(o.hasAggregation("content",[F.Matchers.id(new RegExp(U.formatMessage("{0}$",d))),F.Matchers.states(s)]).description(U.formatMessage("Checking header Delete action '{0}' with state='{1}'",d,s)).execute());};b.prototype.iCheckRelatedAppsMenuItems=function(e){return this.prepareResult(O.create(this).hasType("sap.ui.unified.Menu").isDialogElement().hasProperties({visible:true}).hasAggregationLength("items",e).description(U.formatMessage("Seeing Related Apps dropdown with '{0}' entries ",e)).execute());};b.prototype.iCheckNumberOfHeaderContentItems=function(n){var h=this.getObjectPageDynamicHeaderContentBuilder(this._sHeaderContentId);return this.prepareResult(h.has(function(o){return o.getContent()[0].getItems().length===n;}).description(U.formatMessage("Checking number of header content with '{0}' items",n)).execute());};b.prototype.iCheckFieldInFieldGroup=function(f,v,A,m){var c=U.parseArguments([Object,[Array,String],String,Object],arguments),s=this.getFieldGroupFieldId(f,this._sViewId);return this.prepareResult(a.create(this).hasId(s).hasState(c[3]).hasValue(c[1],c[2]).has(function(o){return true;}).description(U.formatMessage("Seeing field '{0}' with value '{1}'",f.field,[].concat(c[1],c[2]||[]))).execute(this));};b.prototype.iCheckDataPoint=function(t,v){var h=this.getObjectPageDynamicHeaderContentBuilder(this._sHeaderContentId);return this.prepareResult(h.doOnChildren(O.create(this).hasType("sap.m.ObjectNumber").hasProperties({number:v.replace(/ /g,String.fromCharCode(160))}).has(function(o){return o.getParent();}).hasAggregationProperties("items",{text:t})).description(U.formatMessage("Seeing header data point '{0}' with value '{1}'",t,v)).execute());};b.prototype.iCheckTitle=function(t){var h=this.getObjectPageDynamicHeaderTitleBuilder(this._sObjectPageLayoutId);return this.prepareResult(h.doOnChildren(O.create(this).hasType("sap.m.Title").hasProperties({text:t})).description("Seeing Object Page title '"+t+"'").execute());};b.prototype.iCheckPaginatorDown=function(s){return this.prepareResult(this.createPaginatorBuilder(O.Matchers.properties({icon:"sap-icon://navigation-down-arrow"}),this._sViewId+"--"+this._sPaginatorId,s).description(U.formatMessage("Checking paginator down action with state='{0}'",s)).execute());};b.prototype.iCheckPaginatorUp=function(s){return this.prepareResult(this.createPaginatorBuilder(O.Matchers.properties({icon:"sap-icon://navigation-up-arrow"}),this._sViewId+"--"+this._sPaginatorId,s).description(U.formatMessage("Checking paginator up action with state='{0}'",s)).execute());};b.prototype.iCheckMicroChart=function(m){var o=O.create(this.getOpaInstance());if(!U.isOfType(m,String)){o.hasId(this._sViewId+"--"+this._sHeaderId+"::MicroChart::"+m.chartId+"::"+m.chartType);o.description(U.formatMessage("Seeing Micro Chart of type '{0}' with identifier '{1}'",m.chartType,m.chartId));}else{o.hasProperties({chartTitle:m});o.description(U.formatMessage("Seeing Micro Chart with title '{0}'",m));}return this.prepareResult(o.execute());};b.prototype.iCheckBreadCrumb=function(l){var f=F.create(this.getOpaInstance()).hasId(this._sBreadCrumbId);if(l!==undefined&&l.length>0){f.hasAggregationProperties("links",{text:l});f.description(U.formatMessage("Checking breadcrumb link '{0}'",l));}else if(l!==undefined&&l.length===0){f.hasAggregationLength("links",0);f.hasState({visible:true});f.description("Checking for existing but empty breadcrumbs");}else if(l===undefined){f.hasState({visible:false});f.description("Checking for non-existent breadcrumbs");}return this.prepareResult(f.execute());};b.prototype.iCheckSaveAsTile=function(s){var o=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId),c="fe::Share";if(s&&s.visible===false){o.hasContent(F.Matchers.id(new RegExp(U.formatMessage("{0}$",c))),s).description(U.formatMessage("Checking header '{0}' Share button with state='{1}'",this.getIdentifier(),s));}else{o.doOnContent(F.Matchers.id(new RegExp(U.formatMessage("{0}$",c))),O.Actions.press()).description(U.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(S.createSaveAsTileCheckBuilder(s));}return this.prepareResult(o.execute());};b.prototype.iCheckSendEmail=function(s){var o=this.createOverflowToolbarBuilder(this._sObjectPageLayoutId),c="fe::Share";if(s&&s.visible===false){o.hasContent(F.Matchers.id(new RegExp(U.formatMessage("{0}$",c))),s).description(U.formatMessage("Checking header '{0}' Share button with state='{1}'",this.getIdentifier(),s));}else{o.doOnContent(F.Matchers.id(new RegExp(U.formatMessage("{0}$",c))),O.Actions.press()).description(U.formatMessage("Pressing header '{0}' Share button",this.getIdentifier())).success(S.createSendEmailCheckBuilder(s));}return this.prepareResult(o.execute());};return b;});
