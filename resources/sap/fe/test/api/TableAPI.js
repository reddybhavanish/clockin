sap.ui.define(["./BaseAPI","sap/fe/test/Utils","sap/fe/test/builder/FEBuilder","sap/fe/test/builder/TableBuilder","sap/ui/test/OpaBuilder","sap/ui/test/actions/Action"],function(B,U,F,T,O,A){"use strict";var a=function(t,v){if(!U.isOfType(t,T)){throw new Error("oTableBuilder parameter must be an TableBuilder instance");}return B.call(this,t,v);};a.prototype=Object.create(B.prototype);a.prototype.constructor=a;a.prototype.createRowMatchers=function(r,R,v){var b=U.parseArguments([Object,Object,[Array,Function]],arguments),c=[];if(U.isOfType(b[0],Object)){c.push(T.Row.Matchers.cellValues(b[0]));}if(U.isOfType(b[1],Object)){c.push(T.Row.Matchers.states(b[1]));}if(!U.isOfType(b[2],[null,undefined])){c=c.concat(b[2]);}return c;};a.prototype.iOpenColumnAdaptation=function(){var t=this.getBuilder();return this.prepareResult(t.doOpenColumnAdaptation().description(U.formatMessage("Opening the column adaptation dialog for '{0}' (if not open yet)",this.getIdentifier())).execute());};a.prototype.iCloseColumnAdaptation=function(){return this.prepareResult(F.createClosePopoverBuilder(this.getOpaInstance(),O.Matchers.resourceBundle("title","sap.ui.mdc","table.SETTINGS_COLUMN")).description(U.formatMessage("Closing the column adaptation dialog for '{0}' (if currently open)",this.getIdentifier())).execute());};a.prototype.columnAdaptation=function(c,s,v,d){var b=U.parseArguments([[String,Object],Object,[Function,Array,A],String],arguments),o=F.create(this.getOpaInstance()),p,e=F.create(this.getOpaInstance()).hasType("sap.m.ColumnListItem").isDialogElement(),P=F.createPopoverBuilder(this.getOpaInstance(),O.Matchers.resourceBundle("title","sap.ui.mdc","table.SETTINGS_COLUMN"));c=b[0];if(U.isOfType(c,String)){e.has(O.Matchers.bindingProperties(undefined,{label:c}));}else{e.has(O.Matchers.bindingProperties(undefined,{name:c.property}));}s=b[1];if(!U.isOfType(s,[null,undefined])){e.hasState(s);}v=b[2];if(!U.isOfType(v,[null,undefined])){P.do(v);}d=b[3];return this.prepareResult(o.success(function(){p=F.controlsExist(P);if(!p){this.iOpenColumnAdaptation();}if(!p){P.success(this.iCloseColumnAdaptation.bind(this));}return P.has(O.Matchers.children(e)).has(F.Matchers.atIndex(0)).checkNumberOfMatches(1).description(d).execute();}.bind(this)).execute());};return a;});
