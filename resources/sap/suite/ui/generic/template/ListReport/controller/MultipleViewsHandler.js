sap.ui.define(["sap/ui/base/Object","sap/suite/ui/generic/template/js/StableIdHelper","sap/suite/ui/generic/template/lib/multipleViews/MultipleViewsHandler","sap/base/util/extend"],function(B,S,M,e){"use strict";function g(s,c,t){var G;var q;var m;var a;function o(){if(!G){return;}G.updateCounts();}function b(x,y){if(!G){return;}G.onRebindContentControl(x,y);}function f(I,x){return G?G.formatMessageStrip(I,x):"";}function d(){if(G){var x=G.getSelectedKey();var T=G.getContentForIappState(x);return{state:T};}return null;}function h(E){if(!G){return c.getOwnerComponent().getEntitySet()===E;}return G.hasEntity(E);}function F(I){return G&&G.formatItemTextForMultipleView(I);}function r(s){if(G){G.restoreFromIappState(s);w();}}function D(){return G&&G.determineSortOrder();}function R(x,T,E){if(!G){return false;}G.refreshOperation(x,T,E);return true;}function i(){return!!(q&&q.enableAutoBinding);}function j(){return a;}function k(){if(!G){return;}G.setActiveButtonState();}function l(){if(!G){return null;}return G.restoreActiveButtonState();}function n(C,T,P){if(!G){return;}G.setControlVariant(C,T,P);}function H(x){if(!G){return;}if(x.selectedQuickVariantSelectionKey){G.setSelectedKey(x.selectedQuickVariantSelectionKey);}}function p(){if(!m){return null;}return m==="single"?"tableViewData":"tableTabData";}function u(){return G.getSelectedKey();}function v(K){return G.setSelectedKey(K);}function O(E){var x=E.getParameter("itemContexts")&&E.getParameter("itemContexts")[0];t.oCommonEventHandlers.onListNavigate(E,s,undefined,x);}function w(){if(m==="multi"){var K=G.getSelectedKey();var x=S.getStableId({type:"ListReportTable",subType:"SmartTable",sQuickVariantKey:K});s.oSmartTable=c.byId(x);}}(function(){var x=t.oComponentUtils.getSettings();var Q=x.quickVariantSelectionX;var y=x.quickVariantSelection;if(Q&&y){throw new Error("Defining both QuickVariantSelection and QuickVariantSelectionX in the manifest is not allowed.");}q=Q||y;if(Q){a=Q.enableAutoBinding;if(a===null||a===undefined){Q.enableAutoBinding=true;}}if(!q){return;}var z;if(Q){m="multi";var I=S.getStableId({type:"QuickVariantSelectionX",subType:"IconTabBar"});z=c.byId(I);}else{m="single";var A=S.getStableId({type:"QuickVariantSelection",subType:"SegmentedButton"});var V=S.getStableId({type:"QuickVariantSelection",subType:"VariantSelect"});z=c.byId(A)||c.byId(V);}var C={manifestSettings:q,pathInTemplatePrivateModel:"/listReport/multipleViews",smartControl:y&&s.oSmartTable,getSmartControl:Q&&function(K){var E=S.getStableId({type:"ListReportTable",subType:"SmartTable","sQuickVariantKey":K});return c.byId(E);},switchingControl:z,smartFilterBar:s.oSmartFilterbar,getSearchValue:function(){return s.oSmartFilterbar.getBasicSearchValue();},appStateChange:function(){if(G){w();var E=s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;s.oIappStateHandler.changeIappState(true,E);}},isDataToBeShown:function(){return s.oIappStateHandler.areDataShownInTable()||s.oWorklistData.bWorkListEnabled;},adaptRefreshRequestMode:function(E){return E+(s.oWorklistData.bWorkListEnabled&&E<2?2:0);},pathToActiveObjectEnabled:"/listReport/activeObjectEnabled",refreshModelOnTableRefresh:true};G=new M(c,t,C);w();})();return{onDataRequested:o,refreshOperation:R,onRebindContentControl:b,formatMessageStrip:f,getContentForIappState:d,restoreFromIappState:r,formatItemTextForMultipleView:F,getEnableAutoBinding:i,getOriginalEnableAutoBinding:j,determineSortOrder:D,setActiveButtonState:k,restoreActiveButtonState:l,setControlVariant:n,handleStartUpObject:H,onDetailsActionPress:O,getSelectedKeyPropertyName:p,getSelectedKey:u,setSelectedKey:v,hasEntitySet:h};}return B.extend("sap.suite.ui.generic.template.ListReport.controller.MultipleViewsHandler",{constructor:function(s,c,t){e(this,g(s,c,t));}});});
