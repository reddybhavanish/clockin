sap.ui.define(["sap/ui/model/odata/AnnotationHelper","sap/ui/comp/smartfield/SmartField","sap/base/Log","sap/base/strings/formatMessage","sap/base/util/deepExtend","sap/base/security/encodeXML","sap/suite/ui/generic/template/js/RuntimeFormatters","sap/suite/ui/generic/template/lib/testableHelper","sap/ui/Global","sap/ui/Device"],function(A,S,L,f,d,a,R,t,D){"use strict";function E(e,M){var i=M[e];var j=i&&i["sap.ui.generic.app"];return!!(j&&j.enableLazyLoading);}function g(e){L.error("Unable to generate Stable ID",e,"FioriElements");var i=new Uint32Array(1),j=Math.pow(2,32);var s=window.crypto.getRandomValues(i)[0]/j;return Math.floor((s*99999)+1).toString();}function b(C,P){var N=false;if(C["Org.OData.Capabilities.V1.SortRestrictions"]&&C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var e=C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=e.length-1;i>=0;i--){if(e[i].PropertyPath===P){N=true;break;}}}var s=false;if(C["Org.OData.Capabilities.V1.FilterRestrictions"]){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=='false'){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var u=C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var j=u.length-1;j>=0;j--){if(u[j].PropertyPath===P){s=true;break;}}}}else{s=true;}}var v={getFilterRestriction:function(){return s;},getSortRestriction:function(){return N;}};return v;}function h(e,s){return!!(e.name&&s&&s.some(function(i){return e.name===i.entitySet;}));}function c(s,e,P,i,j,N){var u=i?"":" && !${ui>/editable}";return"{= ${_templPriv>/generic/supportedIntents/"+s+"/"+e+"/"+P+"/supported}"+u+" ? "+j+" : "+N+"}";}function k(s,e,j,M,u){var N;if(j){N=j.split("/")[0];}if(s&&e){for(var i=0;i<e.length;i++){if(s===e[i].entitySet&&(!N||N===e[i].navigationProperty)&&e[i].navigation&&e[i].navigation[M]){if(u){if(e[i].component&&e[i].component.settings&&e[i].component.settings.hideChevronForUnauthorizedExtNav){return e[i].navigation[M].target;}}else{return e[i].navigation[M].target;}}}}return null;}function l(e,s,M,i,I,F,T){var P=F?"1":"Navigation";if(T){return P;}var N=F?"0":"Inactive";var j=F?"":"'";var O=k(e.name,s,i,"display",true);if(O){var C=M["sap.app"].crossNavigation.outbounds[O];var u=C.semanticObject;var v=C.action;var w=e.name+(i?("::"+i.split("/")[0]):"");return c(u,v,w,I,j+P+j,j+N+j);}if(h(e,s)){return I?P:"{= ${ui>/editable} ? "+j+N+j+" : "+j+P+j+" }";}return N;}function m(e,s,M,i,I){return l(e,s,M,i,I,true);}function n(M,e,P){var s=P;var i=M.getODataEntityType(e);if(s.indexOf("/")>-1){var u=s.split("/");for(var j=0;j<u.length-1;j++){var v=M.getODataAssociationEnd(i,u[j]);i=M.getODataEntityType(v.type);}s=u[u.length-1];}var O=M.getODataProperty(i,s);return(!!O&&O.type==="Edm.Boolean");}function o(e){while(!e.getEntitySet){e=e.getParent();}return e;}function p(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="lineItemQualifier"){var s=C[i].getValue();if(s){return s;}}}}function q(e,i){var M=i.getModel();var j=M.getMetaModel();var C=o(e.getParent());var s=j.getODataEntitySet(C.getEntitySet());var u=j.getODataEntityType(s.entityType);var v=C.getCustomData();var w=u["com.sap.vocabularies.UI.v1.LineItem"];var x=u["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];var y=p(v);if(y){x=u["com.sap.vocabularies.UI.v1.LineItem#"+y+"@com.sap.vocabularies.UI.v1.Criticality"];}if(w&&x){if(x.Path){var z=x.Path;var B=i.getObject(z);if(B){switch(B.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";}}}else if(x.EnumMember){var F=x.EnumMember;if(F){switch(F){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";}}}}return"None";}var o=t.testableStatic(o,"AnnotationHelper_getSmartTableControl");var p=t.testableStatic(p,"AnnotationHelper_getLineItemQualifier");var r={formatMessage:f,encodeHTML:function(H){return a(H);},getNewVariable:function(C){var v=C.getProperty();var V={set:function(e,P){e=typeof e==="object"?d({},e):e;if(P){V.value=V.value||{};V.value[P]=e;}else{V.value=e;}}};v.push(V);return"/variables/"+(v.length-1);},getBindingForHiddenPath:function(H){if(H["com.sap.vocabularies.UI.v1.Hidden"]){if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Path")){return"{= !${"+H["com.sap.vocabularies.UI.v1.Hidden"].Path+"} }";}else if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Bool")){if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="true"){return false;}else if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="false"){return true;}else{L.error(H["com.sap.vocabularies.UI.v1.Hidden"].Bool+" is not a boolean value");return true;}}else{return false;}}else{return true;}},getVisibiltyBasedOnImportance:function(v){if(v['com.sap.vocabularies.UI.v1.Importance']&&v['com.sap.vocabularies.UI.v1.Importance'].hasOwnProperty("EnumMember")){if(v['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/High'){return true;}else if((v['com.sap.vocabularies.UI.v1.Importance'].EnumMember==='com.sap.vocabularies.UI.v1.ImportanceType/Medium')&&(D.Device.system.tablet||D.Device.system.desktop)){return true;}else if(D.Device.system.desktop){return true;}else{return false;}}},getCustomDataForContactPopup:function(C){return((JSON.stringify(C)).replace(/\}/g,"\\}").replace(/\{/g,"\\{"));},renderColumnForConnectedFields:function(C){var e=function(i){return((i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(i.Inline&&i.Inline.Bool==="true"));};if(C.length){if(!C.every(e)){return"true";}else{return"false";}}else{return"false";}},renderColumnHeader:function(C){var e=function(i){return(i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||i.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation");};if(C.length){if(C.every(e)){return"true";}else{return"false";}}},createP13NColumnForConnectedFields:function(I,e,C,s,u,v,w){var P="",x="",y={},z={},B=[],F;var G=I.getInterface(0);var M=I.getInterface(1).getModel();var H=[];var N=[];var J=[];var K="false";s=s&&s.Data;for(var i=0;i<s.length;i++){u=s[i];M=I.getInterface(0).getModel();z=M.getODataEntityType(M.getContext(I.getInterface(0).getPath()).getObject().entityType);if(u.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(u.Target.AnnotationPath.indexOf("/")>0){var O=u.Target.AnnotationPath.split("/")[0];var Q=u.Target.AnnotationPath.split("/")[1].split("@")[1];z=M.getODataEntityType(M.getODataAssociationEnd(z,O).type);w=z[Q];}else{w=z[u.Target.AnnotationPath.split("@")[1]];}}if(((u.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||u.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&u.Inline&&u.Inline.Bool==="true")||u.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||u.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){P=r.createP13NColumnForAction(G,u);}else if(u.RecordType==="com.sap.vocabularies.UI.v1.DataField"){var T=r.getRelevantDataForAnnotationRecord(M,u.Value.Path,z);z=T.entityType;var U=T.dataFieldValuePath;B=(z&&z.property)||[];for(var j=0;j<B.length;j++){if(B[j].name===U){v=B[j];break;}}P=r.createP13N(I,e,v,u);}else if(u.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(u.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){P=r.createP13NColumnForContactPopUp(I,e,u,w,u.Target.AnnotationPath);}else if(u.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){P=r.createP13NColumnForChart(I,e,u,w,u.Target.AnnotationPath);}else if(w.Visualization){P=r.createP13NColumnForIndicator(I,e,v,u,w,w.Value,u.Target.AnnotationPath);}}if(P){y=JSON.parse(P.replace(/\\/g,""));}if(!H.length&&y.leadingProperty){H.push(y.leadingProperty);}else{y.leadingProperty&&(J.indexOf(y.leadingProperty)===-1)?J.push(y.leadingProperty):Function.prototype;}y.navigationProperty&&(N.indexOf(y.navigationProperty)===-1)?N.push(y.navigationProperty):Function.prototype;y.additionalProperty&&(J.indexOf(y.additionalProperty)===-1)?J.push(y.additionalProperty):Function.prototype;if(K==="false"){K=y.actionButton;}}P="";x=r.createP13NColumnKey(C);F=r._determineColumnIndex(I.getInterface(1));P='\\{"columnKey":"'+x;P+='", "columnIndex":"'+F;P+='", "sortProperty":"'+"";P+='", "filterProperty":"'+"";if(H.length>0){P+='", "leadingProperty":"'+H.join();}if(N.length>0){P+='", "navigationProperty":"'+N.join();}if(J.length>0){P+='", "additionalProperty":"'+J.join();}P+='", "actionButton":"'+K+'"';P+=' \\}';return P;},tabItemHasPresentationVariant:function(e,v){var V=e[v];return!!(V&&(V.PresentationVariant||V.Visualizations||V.SortOrder));},getPresentationVariant:function(v,e){if(v.Visualizations||v.SortOrder){return v;}else if(v.PresentationVariant&&(v.PresentationVariant.Path||v.PresentationVariant.AnnotationPath)){var s=v.PresentationVariant.Path||v.PresentationVariant.AnnotationPath;return e[s.replace('@','')];}else if(v.PresentationVariant){return r.getPresentationVariant(v.PresentationVariant);}},getPresentationVariantVisualisation:function(e,v){var V=e[v];var P=r.getPresentationVariant(V,e);if(P.Visualizations){return P.Visualizations[0].AnnotationPath.split('#')[1];}},getPresentationVariantSortOrder:function(e,v){var V=e[v];var P=r.getPresentationVariant(V,e);if(P.SortOrder){return r.getSortOrder(P.SortOrder);}},getSmartTableId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="listReport";if(s){e=e.concat(s);}return e;},getAnalyticalTableId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="analyticalTable";if(s){e=e.concat(s);}return e;},getGridTableId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="GridTable";if(s){e=e.concat(s);}return e;},getTreeTableId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="TreeTable";if(s){e=e.concat(s);}return e;},getRowActionsId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="rowActions";if(s){e=e.concat(s);}return e;},getResponsiveTableId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="responsiveTable";if(s){e=e.concat(s);}return e;},getAddEntryId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="addEntry";if(s){e=e.concat(s);}return e;},getDeleteEntryId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="deleteEntry";if(s){e=e.concat(s);}return e;},getShowDetailsId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="showDetails";if(s){e=e.concat(s);}return e;},getDraftObjectMarkerId:function(T){var s=r.getSuffixFromIconTabFilterKey(T);var e="DraftObjectMarker";if(s){e=e.concat(s);}return e;},getBreakoutActionButtonId:function(C,T){if(C.id){var s=r.getSuffixFromIconTabFilterKey(T);var e=C.id;if(s){e=e.concat(s);}return e;}},getIconTabFilterKey:function(T){if(T){if(T.key){return T.key;}else{return r.replaceSpecialCharsInId(T.annotationPath);}}},getSuffixFromIconTabFilterKey:function(T){var K=r.getIconTabFilterKey(T);if(K){return"-".concat(K);}else{return"";}},getIconTabFilterText:function(i,M,T){var e,j,s,u,v,w,x,y;if(T){var z=T.AnnotationPath;var B=z&&z.substring(0,z.indexOf('/'));e=i.getInterface(0).getModel();j=e.getData();s=j.metaModel;x=s.getODataEntityType(j.entityType);y=s.getODataAssociationEnd(x,B);w=s.getODataEntityType(y.type);}else{e=i.getModel();j=e.getData();s=j.metaModel;if(!!M.entitySet){u=s.getODataEntitySet(M.entitySet);v=u.entityType;}else{v=j.entityType;}w=s.getODataEntityType(v);}var C=w[M.annotationPath];if(C&&C.Text){return C.Text.String;}},getAltTextForImage:function(e){if(e["com.sap.vocabularies.Common.v1.Text"]){return e["com.sap.vocabularies.Common.v1.Text"].String;}},getActionButtonVisibility:function(i,e){var s=e["Action"]&&e["Action"].String;s=s&&s.split("/")[1];if(s){var j=i.getModel().getODataFunctionImport(s);}return!!j;},buildAnnotatedActionButtonEnablementExpression:function(i,e,F,j,I,T,C){var s,B,u,M;u=e&&e.Action&&e.Action.String;if(u){B=r.getStableIdPartForDatafieldActionButton(e,F,T,C);if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(!e.RequiresContext||e.RequiresContext.Bool!=="false"){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){M=i.getInterface(0).getModel();s=M.getODataFunctionImport(u);if(!s){L.error("The function import "+u+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");return false;}else if(s["sap:action-for"]&&s["sap:action-for"]!==""&&s["sap:action-for"]!==" "){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}return true;}},buildActionButtonsCustomData:function(I,C,F,e,T,s){var u,M,v;var B=[];I=I.getInterface(0);M=I.getModel();if(C){for(var i=0;i<C.length;i++){u=C[i];v=null;if(u.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"&&u.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")>=0){var w=M.getContext(I.getPath()+"/"+i+"/Target");var x=sap.ui.model.odata.AnnotationHelper.resolvePath(w);var y=M.getObject(x);if(y.Data&&y.Data.length>0){for(var j=0;j<y.Data.length;j++){v=r.generateAnnotatedActionCustomData(y.Data[j],F,T,s);if(v){B.push(v);}}}}else{v=r.generateAnnotatedActionCustomData(u,F,T,s);if(v){B.push(v);}}}}return btoa(JSON.stringify(B));},generateAnnotatedActionCustomData:function(e,F,T,C){var i;if((e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!((e.Inline&&e.Inline.Bool===true)||(e.Determining&&e.Determining.Bool===true))&&(e.Action&&e.Action.String.trim())){i=r.getStableIdPartForDatafieldActionButton(e,F,T,C);return{ID:i,RecordType:e.RecordType,Action:e.Action&&e.Action.String};}},getLabelForDFwithIBN:function(i,e,j,G){var M,T,s,P,u;if(e.Label){return e.Label.String;}else{M=i.getInterface(0).getModel();if(M&&j){if(G&&G.Target&&G.Target.AnnotationPath){T=r.getTargetEntitySet(M,j,G.Target.AnnotationPath);s=M.getODataEntityType(T.entityType);}else{s=M.getODataEntityType(j.entityType);}if(e.Value&&e.Value.Path){P=M.getODataProperty(s,e.Value.Path);u=(P["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return u;}}}},getLinkTextForDFwithIBN:function(i,e,j,G){var s,T,P,u;var M=i.getInterface(0).getModel();if(M&&j){if(G&&G.Target&&G.Target.AnnotationPath){T=r.getTargetEntitySet(M,j,G.Target.AnnotationPath);s=M.getODataEntityType(T.entityType);}else{s=M.getODataEntityType(j.entityType);}if(e.Value&&e.Value.Path){P=M.getODataProperty(s,e.Value.Path)||{};u=(P["com.sap.vocabularies.Common.v1.Text"]||e.Value).Path||"";return"{"+u+"}";}}},getTargetEntitySet:function(M,s,e){var N,i,j,u;N=e.split('/');if(N.length>1){i=N[0];}if(i){j=M.getODataEntityType(s.entityType);u=M.getODataAssociationSetEnd(j,i);if(u&&u.entitySet){return M.getODataEntitySet(u.entitySet);}}return s;},getApplicablePathForChartToolbarActions:function(I,C,e){var M=I.getInterface(0).getModel();var j=M.getODataEntityType(e);var s=(C&&C.Actions)||[];var F,u,O,v=[],w=[],x;for(var i=0;i<s.length;i++){if(s[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!s[i].Inline||s[i].Inline.Bool!=="true")&&(!s[i].Determining||s[i].Determining.Bool!=="true")){F=s[i].Action&&s[i].Action.String;u=M.getODataFunctionImport(F);if(u){v.push(u);}}}for(var i=0;i<v.length;i++){u=v[i];if(u&&u["sap:action-for"]&&u["sap:action-for"]!==""&&u["sap:action-for"]!==" "&&u["sap:applicable-path"]&&u["sap:applicable-path"]!==""&&u["sap:applicable-path"]!==" "){x=u["sap:applicable-path"];O=M.getODataProperty(j,x);if(O&&O["sap:aggregation-role"]==="dimension"){w.push(x);}else{L.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+x+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.");}}}if(w.length>0){return w.join();}},formatSmartField:function(i,s){var e={"Path":s.path};return A.simplePath(i.getModel()?i:i.getInterface(0),e);},buildBreadCrumbExpression:function(C,T,e){var B,s=sap.ui.model.odata.AnnotationHelper.format(C,T);if(T&&T.Path&&e&&e.String){var i=e.String.replace(/'/g,"\\'");B="{= $"+s+" ? $"+s+" : '"+i+"' }";return B;}else{if(!s){return e&&e.String||"[[no title]]";}return s;}},buildRatingIndicatorSubtitleExpression:function(s){if(s){return"{parts: [{path: '"+s.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}";}},formatRatingIndicatorSubTitle:function(s){if(s){var e=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return e.getText("RATING_INDICATOR_SUBTITLE",[s,this.data("Subtitle")]);}else{var i=s>1?e.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):e.getText("RATING_INDICATOR_SUBTITLE_LABEL");return e.getText("RATING_INDICATOR_SUBTITLE",[s,i]);}}},buildRatingIndicatorFooterExpression:function(v,T){if(T){return"{parts: [{path: '"+v.Path+"'}, {path: '"+T.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";}return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";},formatRatingIndicatorFooterText:function(v,e){if(v){var i=this.getModel("i18n").getResourceBundle();if(e){return i.getText("RATING_INDICATOR_FOOTER",[v,e]);}else if(this.getCustomData().length>0){return i.getText("RATING_INDICATOR_FOOTER",[v,this.data("Footer")]);}else{var j=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return i.getText("RATING_INDICATOR_FOOTER",[v,j]);}}},buildRatingIndicatorAggregateCountExpression:function(v){return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}";},formatRatingIndicatorAggregateCount:function(v){var e=this.getModel("i18n").getResourceBundle();var T;if(v){T=e.getText("RATING_INDICATOR_AGGREGATE_COUNT",[v]);}else if(this.getCustomData().length>0){T=e.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")]);}else{T="";}return T;},getIdForMoreBlockContent:function(F){if(F["com.sap.vocabularies.UI.v1.PartOfPreview"]&&F["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent";}},checkMoreBlockContent:function(F){return r.checkFacetContent(F,false);},checkBlockContent:function(F){return r.checkFacetContent(F,true);},checkFacetContent:function(F,B){var P;var i=F.getInterface(0);var e=F.getModel().getProperty("",F);var j=F.getPath().split("/Facets");var C=i.getModel().getContext(j[0]);if(i.getModel().getProperty('',C).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return C.getPath();}else{if(!e){return;}for(var s=0;s<e.length;s++){if(!B){if(e[s]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&e[s]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){P=i.getPath()+"/"+s;break;}}else{if(e[s].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!e[s]["com.sap.vocabularies.UI.v1.PartOfPreview"]||e[s]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){P=i.getPath()+"/"+s;break;}}}}return P;},isInlineCreate:function(F,s){var e=s[r.getStableIdPartFromFacet(F)];return!!(e&&e.createMode&&e.createMode==="inline");},usesPreliminaryContext:function(F,s){var e=s[r.getStableIdPartFromFacet(F)];return!!(e&&e.preliminaryContext);},isInlineCreateSorting:function(F,s){var e=s[r.getStableIdPartFromFacet(F)];return!!(e&&e.disableDefaultInlineCreateSort);},isImageUrl:function(P){var s=P["com.sap.vocabularies.UI.v1.IsImageURL"]||P["com.sap.vocabularies.UI.v1.IsImageUrl"];if(s&&s.Bool&&s.Bool==="false"){return false;}else if(s){return true;}return false;},isPropertySemanticKey:function(I,e,P){var I=I.getInterface(0);var M=I.getModel();var j=M.getODataEntityType(e.entityType);if(j){var s=j["com.sap.vocabularies.Common.v1.SemanticKey"];if(s&&s.length>0){for(var i=0;i<s.length;i++){if(s[i].PropertyPath===P.Path){return true;}}}}return false;},_addFullPathToImageUrlIfNeeded:function(i,s){if(!i){return"";}if((i.substring(0,1)==="/")||(i.substring(0,11)==="sap-icon://")||(i.substring(0,7)==="http://")||(i.substring(0,8)==="https://")){return i;}else{return sap.ui.require.toUrl(s)+"/"+i;}},formatImageUrl:function(i,I,s,e){if(I&&(I.Path||I.Apply)&&e){r.formatWithExpandSimple(i,I);}if(I&&I.Path){return"{parts: [{path: '"+I.Path+"'}, {path: '_templPrivGlobal>/generic/appComponentName'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrlRuntime'}";}else if(I&&I.String){return r._addFullPathToImageUrlIfNeeded(I.String,s);}else if(I&&I.Apply){I.Apply.Parameters[0].Value=r._addFullPathToImageUrlIfNeeded(I.Apply.Parameters[0].Value,s);return sap.ui.model.odata.AnnotationHelper.format(i,I);}else{return"";}},hasImageUrl:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeader sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeader";}},getAvatarInitials:function(i){return((i.Path&&("{"+i.Path+"}"))||i.String||"");},hasImageUrlForHeaderTitle:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithImage sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithoutImage";}},formatImageOrTypeUrl:function(i,I,T,s,e){var j=null;if(I){j=I;}else{j=T;}return r.formatImageUrl(i,j,s,e);},getPathWithExpandFromHeader:function(i,e,N,I,T){var j=[],s;if((I||T)){var i=i.getInterface(0);var M=i.getModel();var u=M.getODataEntityType(e.entityType);var v=null;if(I){v=I;}else{v=T;}if(v&&v.Path&&u){var w=r._getNavigationPrefix(M,u,v.Path);if(w){j.push(w);}}}if(j.length>0){if(j.length>1){j=j.filter(function(x,y,z){return y==z.indexOf(x);});}s="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{s="{ path : '"+N+"' }";}if(s==="{}"){s="";}return s;},disableSemanticObjectLinksOnPopups:function(Q,e){var i="";if(Q&&Q.ignoredFields&&e&&e.Value&&e.Value.Path){if(Q.ignoredFields[e.Value.Path]){i=e.Value.Path;}}return i;},formatImageUrlRuntime:function(i,s){return r._addFullPathToImageUrlIfNeeded(i,s);},formatHeaderImage:function(i,H,s){if(H.ImageUrl){return r.formatImageUrl(i,H.ImageUrl,s,true);}else if(H.TypeImageUrl){return r.formatImageUrl(i,H.TypeImageUrl,s,true);}else{return"";}},matchesBreadCrumb:function(I,C,P){if(P){var s=P.split("/");var e,j,u;if(s.length>0){var M=I.getInterface(0).getModel();var v=s[0];for(var i=0;i<s.length;i++){if(i>0){e=M.getODataEntitySet(v);j=M.getODataEntityType(e.entityType);u=M.getODataAssociationSetEnd(j,s[i]);v=u.entitySet;}if((i+1)===s.length){if(v===C.name){return true;}else{return false;}}}}}},showFullScreenButton:function(e,F){if(e&&F){var s=r.getStableIdPartFromFacet(F);if(e.component&&e.component.settings&&e.component.settings.sections&&e.component.settings.sections[s]&&e.component.settings.sections[s].tableMode==="FullScreenTable"){return true;}}return false;},getPersistencyKeyForSmartTable:function(e){return"listReportFloorplanTable";},getPersistencyKeyForDynamicPageTitle:function(e){return"listReportDynamicPageTitle";},getCreateNavigationIntent:function(s,e,i){return k(s,e,i,"create");},getDisplayNavigationIntent:function(s,e,i){return k(s,e,i,"display");},extensionPointFragmentExists:function(F,s){var i=r.getStableIdPartFromFacet(F);if(i===s){return true;}else{return false;}},containsFormWithBreakoutAction:function(F,i){var C=r.getStableIdPartFromFacet(F);if(C===i){if(F.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&F.Target&&F.Target.AnnotationPath&&F.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")!=-1){return true;}}return false;},setAriaText:function(i,e,j){if(j.Path){return"{parts: [{path: '"+e+"'}, {path: '"+j.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";}j=sap.ui.model.odata.AnnotationHelper.format(i,j);return"{parts: [{path: '"+e+"'}, {value: '"+j+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatMessage'}";},formatWithExpandSimple:function(i,e,s){if(!e){return"";}var u=[],v,w;var M=i&&i.getModel&&i.getModel();if(!M){i=i.getInterface(0);M=i.getModel();}if(s){w=M.getODataEntityType(s.entityType);}else{var x=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(i.getPath());if(x&&x.length&&x[0]){var y=M.getProperty(x[0]);var N=M.getODataEntityContainer().namespace;w=M.getODataEntityType(N+'.'+y.name);}}if(w){if(e&&e.Path){v=r._getNavigationPrefix(M,w,e.Path);if(v){u.push(v);}}else if(e&&e.Apply&&e.Apply.Name==="odata.concat"){e.Apply.Parameters.forEach(function(B){if(B.Type==="Path"){v=r._getNavigationPrefix(M,w,B.Value);if(v){if(u.indexOf(v)===-1){u.push(v);}}}});}if(u.length>0){var P=i.getSetting("preprocessorsData");if(P){var z=P.rootContextExpand||[];for(var j=0;j<u.length;j++){if(z.indexOf(u[j])===-1){z.push(u[j]);}}P.rootContextExpand=z;}}}return sap.ui.model.odata.AnnotationHelper.format(i,e);},formatWithExpandSimplePath:function(i,e,j){r.getNavigationPathWithExpand(i,e,j);i=i.getInterface(0);r.formatWithExpandSimple(i,e,j);return sap.ui.model.odata.AnnotationHelper.simplePath(i,e);},formatWithExpand:function(i,e,j){r.getNavigationPathWithExpand(i,e,j);i=i.getInterface(0);r.formatWithExpandSimple(i,e,j);return sap.ui.model.odata.AnnotationHelper.format(i,e);},_getNavigationPrefix:function(M,e,P){var s="";var j=P.split("/");if(j.length>1){for(var i=0;i<(j.length-1);i++){var u=M.getODataAssociationEnd(e,j[i]);if(u){e=M.getODataEntityType(u.type);if(s){s=s+"/";}s=s+j[i];}else{return s;}}}return s;},getCurrentPathWithExpand:function(i,C,e,N){i=i.getInterface(0);var j=[],s;var M=i.getModel();var u=M.getODataEntitySet(e.name||'');var v=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var w=M.getODataEntityType(e.entityType);j=r.getFacetExpand(v,M,w,u);if(j.length>0){s="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{s="{ path : '"+N+"' }";}if(s==="{}"){s="";}return s;},getCurrentPathWithExpandForContact:function(i,C,e,N){var j=[],s;i=i.getInterface(0);var M=i.getModel();var u=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var v=M.getODataEntityType(e.entityType);j=r.getFacetExpandForContact(u,M,v);if(j.length>0){s="{ path : '"+N+"', parameters : { expand : '"+j.join(',')+"'} }";}else{s="{ path : '"+N+"' }";}if(s==="{}"){s="";}return s;},getFacetExpandForContact:function(s,M,e){var u=[],F;var G=function(P){if(P){var x=r._getNavigationPrefix(M,e,P);if(x){if(u.indexOf(x)===-1){u.push(x);}}}};if(s&&s.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){F=M.getObject(s)||{};for(var i in F){var P;var v=F[i];if(v&&v.Path){P=v.Path;G(P);}else if(Object.prototype.toString.call(v)==='[object Array]'){for(var j in v){var w=v[j];if(w&&w.uri&&w.uri.Path){P=w.uri.Path;}if(w&&w.address&&w.address.Path){P=w.address.Path;}G(P);}}}}return u;},getNavigationPathWithExpand:function(i,C,e,w){i=i.getInterface(0);var M=i.getModel();var s=M.getODataEntitySet(e.name||'');var u=sap.ui.model.odata.AnnotationHelper.resolvePath(M.getContext(i.getPath()));var N=sap.ui.model.odata.AnnotationHelper.getNavigationPath(i,C);var v=N.replace("{","").replace("}","");var x;if(v){x=M.getODataEntityType(s.entityType);var y=M.getODataAssociationSetEnd(x,v);if(y&&y.entitySet){s=M.getODataEntitySet(y.entitySet);}}else{x=M.getODataEntityType(e.entityType);w=false;}var z=false;var B=r.getFacetExpand(u,M,x,s);var P=i.getSetting("preprocessorsData")||{};var F=P.rootContextExpand||[];if(B.length>0){if(v){z=true;}else{for(var j=0;j<B.length;j++){if(F.indexOf(B[j])===-1){F.push(B[j]);}}P.rootContextExpand=F;}}w=w&&(F.indexOf(v)===-1||B.some(function(G){return F.indexOf(v+"/"+G)===-1;}));if(z||w){N="{ path : '"+v+"', parameters : { ";if(z){N=N+"expand : '"+B.join(",")+"'";if(w){N=N+", ";}}if(w){N=N+"usePreliminaryContext: true, batchGroupId: 'facets'";}N=N+"} }";}if(N==="{}"){N="";}return N;},getFormGroupBindingString:function(i,C,e){var s=r.getNavigationPathWithExpand(i,C,e,true);return s;},getFacetExpand:function(s,M,j,u){var v=[],w=[],F,x=[];if(s){x=M.getObject(s)||[];}x=x.Data||x;var G=function(P,I){var z=r._getNavigationPrefix(M,j,P);if(z){if(w.indexOf(z)===-1){w.push(z);}}if(I){try{v=S.getSupportedAnnotationPaths(M,u,P,true)||[];}catch(e){v=[];}for(var i=0;i<v.length;i++){if(w.indexOf(v[i])===-1){w.push(v[i]);}}}};var y=function(P){if(P.Type==="LabeledElement"){G(P.Value.Path);}else if(P.Type==="Path"){G(P.Value);}};if(Array.isArray(x)){for(var i=0;i<x.length;i++){F=x[i];if(F.Value&&F.Value.Path){G(F.Value.Path,true);}if(F.Value&&F.Value.Apply&&F.Value.Apply.Name==="odata.concat"){F.Value.Apply.Parameters.forEach(y);}if(F.Action&&F.Action.Path){G(F.Action.Path);}if(F.Target){if(F.Target.Path){G(F.Target.Path);}if(F.Target.AnnotationPath){G(F.Target.AnnotationPath);}}if(F.SemanticObject&&F.SemanticObject.Path){G(F.SemanticObject.Path);}if(F.Url&&F.Url.Path){G(F.Url.Path);}if(F.Url&&F.Url.Apply&&F.Url.Apply.Parameters){F.Url.Apply.Parameters.forEach(y);}if(F.UrlContentType&&F.UrlContentType.Path){G(F.UrlContentType.Path);}}}else{if(x.name){G(x.name,true);}if(x.Value&&x.Value.Path){G(x.Value.Path,true);}if(x.Title&&x.Title.Path){G(x.Title.Path,true);}if(x.Criticality&&x.Criticality.Path){G(x.Criticality.Path,true);}}return w;},isSelf:function(P){if(P===undefined||(P&&P.indexOf('@')===0&&P.indexOf('/')===-1)){return true;}return false;},number:function(v){if(!v){return NaN;}else if(v.Decimal){return+v.Decimal;}else if(v.Path){return'{'+v.Path+'}';}else{return NaN;}},formatColor:(function(){function e(v){if(!v){return NaN;}else if(v.Decimal){return v.Decimal;}else if(v.EnumMember){return'\''+v.EnumMember+'\'';}else if(v.Path){return'${'+v.Path+'}';}else{return NaN;}}function i(s){var u=s.Criticality;return'{= '+e(u)+' === \'UI.CriticalityType/Negative\' ? \'Error\' : '+e(u)+'=== \'UI.CriticalityType/Critical\' ? \'Critical\' : \'Good\'}';}function j(s){var v=e(s.Value);var C=s.CriticalityCalculation;return'{= ('+v+' < '+e(C.DeviationRangeLowValue)+' || '+v+' > '+e(C.DeviationRangeHighValue)+') ? \'Error\' : ('+v+' < '+e(C.ToleranceRangeLowValue)+' || '+v+' > '+e(C.ToleranceRangeHighValue)+') ? \'Critical\' : \'Good\'}';}return function(s){if(s.Criticality){return i(s);}else if(s.CriticalityCalculation){return j(s);}};})(),_determineColumnIndex:function(C){var s=C.getPath();var i=Number(s.slice(s.lastIndexOf("/")+1));var e=s.slice(0,s.lastIndexOf("/"));var j=C.getModel().getObject(e);var u=0;for(var v=0;v<i;v++){if((j[v].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||j[v].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!j[v].Inline||j[v].Inline.Bool==="false")){continue;}else{u++;}}return u;},suppressP13NDuplicateColumns:function(I,e){var s="";var j={};var C=",";var M=I.getModel();for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(e[i].Value&&e[i].Value.Path){var u=e[i].Value.Path;j[u]=true;}}}for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){if(e[i].Value&&e[i].Value.Path){var u=e[i].Value.Path;if(!j[u]){s=s+C+u;}}}else if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var T=M.getContext(I.getPath()+"/"+i+"/Target");var v=sap.ui.model.odata.AnnotationHelper.resolvePath(T);var w=M.getObject(v);if(v.indexOf('com.sap.vocabularies.Communication.v1.Contact')>=0){if(w&&w.fn&&w.fn.Path){var u=w.fn.Path;if(!j[u]){s=s+C+u;}}}else if(v.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>=0){if(w&&w.Value&&w.Value.Path){var u=w.Value.Path;if(!j[u]){s=s+C+u;}}}}}if(s.length>0){s=s.substring(1);}return s;},createP13NColumnForAction:function(C,e){var i=r._determineColumnIndex(C);var s=r.createP13NColumnKey(e);if(e&&e.Value&&e.Value.Path){var P='\\{"columnKey":"'+s+'", "leadingProperty":"'+e.Value.Path+'", "columnIndex":"'+i;var j=b(C,e.Value.Path);var N=j.getFilterRestriction();var u=j.getSortRestriction();if(!u){P+='", "sortProperty":"'+e.Value.Path;}if(!N){P+='", "filterProperty":"'+e.Value.Path;}P+='", "actionButton":"true" \\}';}else{var P='\\{"columnKey":"'+s+'", "columnIndex":"'+i+'", "actionButton":"true" \\}';}return P;},createP13NColumnForContactPopUp:function(i,C,e,j,s){var P="";var N="";var M=i.getInterface(0).getModel();if(M){var u=M.getODataEntityType(C.entityType);if(u){N=r._getNavigationPrefix(M,u,s);}}var v=r.createP13NColumnKey(e);P+='\\{"columnKey":"'+v;if(j&&j.fn&&j.fn.Path){if(N){var w=M.getODataAssociationSetEnd(u,N);if(w&&w.entitySet){C=M.getODataEntitySet(w.entitySet);}var x=b(C,j.fn.Path);var y=x.getFilterRestriction();var z=x.getSortRestriction();P+='", "leadingProperty":"'+N+'/'+j.fn.Path+'", "additionalProperty":"'+N;if(!z){P+='", "sortProperty":"'+N+'/'+j.fn.Path;}if(!y){P+='", "filterProperty":"'+N+'/'+j.fn.Path;}}else{var x=b(C,j.fn.Path);var y=x.getFilterRestriction();var z=x.getSortRestriction();P+='", "leadingProperty":"'+j.fn.Path+'", "filterProperty":"'+j.fn.Path+'", "additionalProperty":"'+j.fn.Path;if(!z){P+='", "sortProperty":"'+N+'/'+j.fn.Path;}if(!y){P+='", "filterProperty":"'+N+'/'+j.fn.Path;}}}P+='", "navigationProperty":"'+N;var B=i.getInterface(1);var F=r._determineColumnIndex(B);if(F){P+='", "columnIndex":"'+F;}P+='" \\}';return P;},createP13NColumnForIndicator:function(i,C,e,j,s,u,v){var P="";var N="";var w=[];var M=i.getInterface(0).getModel();if(M){var x=M.getODataEntityType(C.entityType);if(x){N=r._getNavigationPrefix(M,x,v);}}var y=r.createP13NColumnKey(j);P='\\{"columnKey":"'+y;if(N){N=N+"/";}if(s.Value&&s.Value.Path){P+='", "leadingProperty":"'+N+s.Value.Path;w.push(N+s.Value.Path);}if(s.TargetValue&&s.TargetValue.Path){w.push(N+s.TargetValue.Path);}if(s.Criticality&&s.Criticality.Path){w.push(N+s.Criticality.Path);}if(w.length>0){var z="";w.forEach(function(J){if(z){z=z+",";}z=z+J;});P+='", "additionalProperty":"'+z;}var B=i.getInterface(2);var F=r._determineColumnIndex(B);if(F){P+='", "columnIndex":"'+F;}if(s&&s.Value&&s.Value.Path){var G=b(C,s.Value.Path);var H=G.getFilterRestriction();var I=G.getSortRestriction();if(!I){P+='", "sortProperty":"'+s.Value.Path;}if(!H){P+='", "filterProperty":"'+s.Value.Path;}}P+='" \\}';return P;},createP13NColumnForChart:function(i,C,e,j,s){var P="",u=[],N="";var M=i.getInterface(0).getModel();if(M){var v=M.getODataEntityType(C.entityType);if(v){N=r._getNavigationPrefix(M,v,s);}}var w=r.createP13NColumnKey(e);if(N){P='\\{"columnKey":"'+w+'", "leadingProperty":"'+N;N=N+"/";}else{P='\\{"columnKey":"'+w;}if(Array.isArray(j.Dimensions)){j.Dimensions.forEach(function(z){u.push(N+z.PropertyPath);});}if(Array.isArray(j.Measures)){j.Measures.forEach(function(z){u.push(N+z.PropertyPath);});}if(u.length>0){P+='", "additionalProperty":"'+u.join();}var x=i.getInterface(1);var y=r._determineColumnIndex(x);if(y){P+='", "columnIndex":"'+y;}P+='" \\}';return P;},createP13NColumnKey:function(e,C){var s="";var F="template";var i="::";if(e.RecordType==="com.sap.vocabularies.UI.v1.DataField"){s=e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){s=F+i+"DataFieldWithIntentBasedNavigation"+i+e.SemanticObject.String+i+e.Action.String+i+e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){s=F+i+"DataFieldWithNavigationPath"+i+e.Value.Path;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){s=F+i+"DataFieldForIntentBasedNavigation"+i+e.SemanticObject.String+i+e.Action.String;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){s=F+i+"DataFieldForAction"+i+e.Action.String;}else if(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.Communication.v1.Contact')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.DataPoint')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.FieldGroup')>=0||e.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.Chart')>=0){s=F+i+"DataFieldForAnnotation"+i+e.Target.AnnotationPath;s=s.replace('@','');}}return s;},createP13N:function(i,C,e,j,s,u){var P="",v=[],N="";if(j.RecordType==="com.sap.vocabularies.UI.v1.DataField"||j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||j.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(j.Value.Path){var w=r.createP13NColumnKey(j,e);P='\\{"columnKey":"'+w+'", "leadingProperty":"'+j.Value.Path;var M=i.getInterface(0).getModel();if(M){var x=M.getODataEntityType(C.entityType);if(x){if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){var T=r.getTextArrangement(x,j);if(T){P+='", "description":"'+e["com.sap.vocabularies.Common.v1.Text"].Path+'", "displayBehaviour":"'+T;}}N=r._getNavigationPrefix(M,x,j.Value.Path);if(N){N=N+"/";}}}}else if(j.Value.Apply&&j.Value.Apply.Name==="odata.concat"){j.Value.Apply.Parameters.forEach(function(J){if(J.Type==="Path"){if(!P){P='\\{"columnKey":"'+J.Value+'", "leadingProperty":"'+J.Value;}else{v.push(J.Value);}}});}if((e.type==="Edm.DateTime")&&(e["sap:display-format"]==="Date")){P+='", "type":"date';}else if(e.type==="Edm.String"){P+='", "type":"string';}if(j.Criticality&&j.Criticality.Path){v.push(j.Criticality.Path);}if(e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path){v.push(N+e["com.sap.vocabularies.Common.v1.Text"].Path);}if(e["Org.OData.Measures.V1.ISOCurrency"]&&e["Org.OData.Measures.V1.ISOCurrency"].Path){v.push(N+e["Org.OData.Measures.V1.ISOCurrency"].Path);}if(e["Org.OData.Measures.V1.Unit"]&&e["Org.OData.Measures.V1.Unit"].Path){v.push(N+e["Org.OData.Measures.V1.Unit"].Path);}if(e["com.sap.vocabularies.Common.v1.FieldControl"]&&e["com.sap.vocabularies.Common.v1.FieldControl"].Path){v.push(N+e["com.sap.vocabularies.Common.v1.FieldControl"].Path);}if((j["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&j.Url&&j.Url.Apply&&j.Url.Apply.Parameters){j.Url.Apply.Parameters.forEach(function(J){if(J.Type==="LabeledElement"){v.push(J.Value.Path);}});}if((j["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&j.Url&&j.Url.Path){v.push(j.Url.Path);}if(v.length>0){var y="";v.forEach(function(J){if(y){y=y+",";}y=y+J;});P+='", "additionalProperty":"'+y;}var z=b(C,e.name);var B=z.getFilterRestriction();var F=z.getSortRestriction();var G=r.checkMultiplicityForDataFieldAssociationInTable(i,C,j);if(!F){if(G){P+='", "sortProperty":"'+"";}else if(N){P+='", "sortProperty":"'+N+e.name;}else{P+='", "sortProperty":"'+e.name;}}if(!B){if(G){P+='", "filterProperty":"'+"";}else{P+='", "filterProperty":"'+e.name;}}var H=i.getInterface(2);var I=r._determineColumnIndex(H);if(I>=0){P+='", "columnIndex":"'+I;}}return P+'" \\}';},hasActions:function(P){for(var i=0;i<P.length;i++){if((!P[i].Inline||P[i].Inline.Bool!=="true")&&(P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||(P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"&&P[i].RequiresContext&&P[i].RequiresContext.Bool==="true"))){return true;}}return false;},hasCustomActions:function(e,s,M,F){if(s&&M){if(F){if(M[s]){var j=M[s];if(j.EntitySet===s){var u=r.getStableIdPartFromFacet(F);if(!j.Sections){return false;}var v=j.Sections[u];if(v&&v.id===u&&v.Actions){for(var i in v.Actions){if(v.Actions[i].requiresSelection!==false){return true;}}}}}}else{if(M["sap.suite.ui.generic.template.ListReport.view.ListReport"]){M=M["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"];}else if(M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]){M=M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"];}if(M&&M[s]){var j=M[s];if(j.EntitySet===s){if(j.Actions){for(var i in j.Actions){if(j.Actions[i].requiresSelection!==false){return true;}}}}}}}return false;},getMultiSelectForTable:function(F,s,G){var e=s&&s[r.getStableIdPartFromFacet(F)];var M=(e&&e.multiSelect);if(M===true||(G===true&&M!==false)){return true;}return false;},getInlineDeleteForTable:function(F,s){var e=s&&s[r.getStableIdPartFromFacet(F)];return e&&e.tableSettings&&e.tableSettings.inlineDelete;},getSelectionModeForTable:function(e,s,M,F,i,j,u,I,G){var v=r.getMultiSelectForTable(F,i,G),w=(v)?"MultiToggle":"Single";if((r.hasActions(e)||r.hasCustomActions(u,s,M,F))){return w;}var x=j["Org.OData.Capabilities.V1.DeleteRestrictions"];if(!x||x.Deletable&&((x.Deletable.Bool&&x.Deletable.Bool!=='false')||x.Deletable.Path)){return"{= "+((I)?"":"!")+"${ui>/editable} ? '"+w+"' : 'None' }";}return"None";},getSelectionModeResponsiveTable:function(e,s,M,F,i,j,u,I,G){var v=r.getMultiSelectForTable(F,i,G),w=r.getInlineDeleteForTable(F,i),T;if(v&&w){throw new Error("Both inlineDelete and multiSelect option for table are not possible");}if(v){T="MultiSelect";}else if(w){T="Delete";}else{T="SingleSelectLeft";}if(!w&&(r.hasActions(e)||r.hasCustomActions(u,s,M,F))){return T;}var x=j["Org.OData.Capabilities.V1.DeleteRestrictions"];if(!x||x.Deletable&&((x.Deletable.Bool&&x.Deletable.Bool!=='false')||x.Deletable.Path)){return"{= "+((I)?"":"!")+"${ui>/editable} ? '"+T+"' : 'None' }";}return"None";},getSortOrder:function(P){var s='';for(var i=0;i<P.length;i++){if(!s){s=P[i].Property.PropertyPath;}else{s=s+', '+P[i].Property.PropertyPath;}if(P[i].Descending){s=s+' '+P[i].Descending.Bool;}}return s;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){L.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},getStableIdPartFromDataField:function(e){var P="",I="";if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return r.replaceSpecialCharsInId(e.Action.String);}else if(e.RecordType&&(e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(e.SemanticObject.String){I=r.replaceSpecialCharsInId(e.SemanticObject.String);}else if(e.SemanticObject.Path){I=r.replaceSpecialCharsInId(e.SemanticObject.Path);}if(e.Action&&e.Action.String){I=I+"::"+r.replaceSpecialCharsInId(e.Action.String);}else if(e.Action&&e.Action.Path){I=I+"::"+r.replaceSpecialCharsInId(e.Action.Path);}return I;}else if(e.RecordType&&e.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return r.replaceSpecialCharsInId(e.Target.AnnotationPath);}else if(e.Value&&e.Value.Path){return r.replaceSpecialCharsInId(e.Value.Path);}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+r.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value);}}return P;}else{L.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}},getStableIdPartFromDataPoint:function(e){var P="";if(e.Value&&e.Value.Path){return r.replaceSpecialCharsInId(e.Value.Path);}else if(e.Value&&e.Value.Apply&&e.Value.Apply.Name==="odata.concat"){for(var i=0;i<e.Value.Apply.Parameters.length;i++){if(e.Value.Apply.Parameters[i].Type==="Path"){if(P){P=P+"::";}P=P+r.replaceSpecialCharsInId(e.Value.Apply.Parameters[i].Value);}}return P;}else{L.error("Annotation Helper: Unable to create stable ID derived from annotations.");}},getStableIdPartFromFacet:function(F){var H="";var e="";if(typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0){H="headerEditable::";}if(F.RecordType&&F.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(F.ID&&F.ID.String){return H+F.ID.String;}else{e="Annotation Helper: Unable to create a stable ID. You have to set an ID at all collection facets.";return g(e);}}else if(F.RecordType&&F.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(F.ID&&F.ID.String){return H+F.ID.String;}else{return H+r.replaceSpecialCharsInId(F.Target.AnnotationPath);}}else{e="Annotation Helper: Unable to create a stable ID. Please check the facet annotations.";return g(e);}},getVisibilityForExtensionPointReplaceHeader:function(e,M){var s="ReplaceHeaderExtensionFacet|"+e;var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderExists:function(e,M){if(M){var s="ReplaceHeaderExtensionFacet|"+e;return M[s];}return false;},getVisibilityForExtensionPointNoImage:function(e,M){var s="NoImageExtensionFacet|"+e;var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointNoImageExists:function(e,M){if(M){var s="NoImageExtensionFacet|"+e;return M[s];}return false;},getVisibilityForExtensionPointAfterImage:function(e,M){var s="AfterImageExtensionFacet|"+e;var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterImageExists:function(e,M){if(M){var s="AfterImageExtensionFacet|"+e;return M[s];}return false;},getVisibilityForExtensionPointBeforeSimpleHeaderFacet:function(e,F,M,i){var s;var j=r.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=r.getStableIdPartFromDataPoint(i);}else{s=r.getStableIdPartFromDataField(i);}var I=j+"::"+s;var u="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;var v=M[u];if(v&&v['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeSimpleHeaderFacetExists:function(e,F,M,i){if(M){var s;var j=r.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=r.getStableIdPartFromDataPoint(i);}else{s=r.getStableIdPartFromDataField(i);}var I=j+"::"+s;var u="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[u];}return false;},getVisibilityForExtensionPointReplaceSimpleHeaderFacet:function(e,F,M,i){var s;var j=r.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=r.getStableIdPartFromDataPoint(i);}else{s=r.getStableIdPartFromDataField(i);}var I=j+"::"+s;var u="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;var v=M[u];if(v&&v['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceSimpleHeaderFacetExists:function(e,F,M,i){if(M){var s;var j=r.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=r.getStableIdPartFromDataPoint(i);}else{s=r.getStableIdPartFromDataField(i);}var I=j+"::"+s;var u="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[u];}return false;},getVisibilityForExtensionPointAfterSimpleHeaderFacet:function(e,F,M,i){var s;var j=r.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=r.getStableIdPartFromDataPoint(i);}else{s=r.getStableIdPartFromDataField(i);}var I=j+"::"+s;var u="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;var v=M[u];if(v&&v['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterSimpleHeaderFacetExists:function(e,F,M,i){if(M){var s;var j=r.getStableIdPartFromFacet(F);if(F.Target.AnnotationPath.indexOf("DataPoint")>0){s=r.getStableIdPartFromDataPoint(i);}else{s=r.getStableIdPartFromDataField(i);}var I=j+"::"+s;var u="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+I;return M[u];}return false;},getVisibilityForExtensionPointBeforeHeaderFacet:function(e,F,M){var s="BeforeHeaderFacet|"+e+"|headerEditable::"+r.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeHeaderFacetExists:function(e,F,M){if(M){var s="BeforeHeaderFacet|"+e+"|headerEditable::"+r.getStableIdPartFromFacet(F);return M[s];}return false;},getVisibilityForExtensionPointReplaceHeaderFacet:function(e,F,M){var s="ReplaceHeaderFacet|"+e+"|headerEditable::"+r.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderFacetExists:function(e,F,M){if(M){var s="ReplaceHeaderFacet|"+e+"|headerEditable::"+r.getStableIdPartFromFacet(F);return M[s];}return false;},getVisibilityForExtensionPointAfterHeaderFacet:function(e,F,M){var s="AfterHeaderFacet|"+e+"|headerEditable::"+r.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterHeaderFacetExists:function(e,F,M){if(M){var s="AfterHeaderFacet|"+e+"|headerEditable::"+r.getStableIdPartFromFacet(F);return M[s];}return false;},extensionPointBeforeHeaderDataPointExists:function(e,i,M){if(M){var s="BeforeHeaderDataPoint|"+e+"|"+r.getStableIdPartFromDataPoint(i);return M[s];}return false;},extensionPointReplaceHeaderDataPointExists:function(e,i,M){if(M){var s="ReplaceHeaderDataPoint|"+e+"|"+r.getStableIdPartFromDataPoint(i);return M[s];}return false;},extensionPointAfterHeaderDataPointExists:function(e,i,M){if(M){var s="AfterHeaderDataPoint|"+e+"|"+r.getStableIdPartFromDataPoint(i);return M[s];}return false;},getObjectPageExtensions:function(C){var M=C.getObject();for(var e in M){if(e.split('|').length===4&&!(M[e]['sap.ui.generic.app']&&M[e]['sap.ui.generic.app']['key'])){d(M[e],{'sap.ui.generic.app':{'key':e.split('|')[3]}});}}C.getModel().setProperty("/manifestViewExtensions",M);return"/manifestViewExtensions";},extensionPointBeforeFacetExists:function(e,F,M){if(M){var s="BeforeFacet|"+e+"|"+r.getStableIdPartFromFacet(F);var i=Object.keys(M);for(var j in i){if(i[j].indexOf(s)>-1){return true;}}}return false;},getExtensions:function(C){var M=C.getObject();var e=Object.keys(M);var i=C.getModel();i.setProperty("/extensionKeys",e);return"/extensionKeys";},isCurrentManifestEntryForBeforeFacet:function(M,e,F){if(M){var s="BeforeFacet|"+e+"|"+r.getStableIdPartFromFacet(F);return M.indexOf(s)>-1;}return false;},isCurrentManifestEntryForAfterFacet:function(M,e,F){if(M){var s="AfterFacet|"+e+"|"+r.getStableIdPartFromFacet(F);return M.indexOf(s)>-1;}return false;},isManifestKeyLegacy:function(M){if(M){return(M.split('|').length===3);}return false;},extensionPointAfterFacetExists:function(e,F,M){if(M){var s="AfterFacet|"+e+"|"+r.getStableIdPartFromFacet(F);var i=Object.keys(M);for(var j in i){if(i[j].indexOf(s)>-1){return true;}}}return false;},extensionPointBeforeSubSectionExists:function(e,F,M){if(M){var s="BeforeSubSection|"+e+"|"+r.getStableIdPartFromFacet(F);return M[s];}return false;},extensionPointAfterSubSectionExists:function(e,F,M){if(M){var s="AfterSubSection|"+e+"|"+r.getStableIdPartFromFacet(F);return M[s];}return false;},extensionPointReplaceSubSectionExists:function(e,F,M){if(M){var s="ReplaceSubSection|"+e+"|"+r.getStableIdPartFromFacet(F);return M[s];}return false;},getExtensionPointFacetTitle:function(M,e){var i=e[M];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointAfterFacetTitle:function(e,F,M){var s="AfterFacet|"+e+"|"+r.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointBeforeSubSectionTitle:function(e,F,M){var s="BeforeSubSection|"+e+"|"+r.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointAfterSubSectionTitle:function(e,F,M){var s="AfterSubSection|"+e+"|"+r.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},getExtensionPointReplaceSubSectionTitle:function(e,F,M){var s="ReplaceSubSection|"+e+"|"+r.getStableIdPartFromFacet(F);var i=M[s];if(i&&i['sap.ui.generic.app']&&i['sap.ui.generic.app'].title){return i['sap.ui.generic.app'].title;}},isExtensionPointBeforeSubSectionLazyLoadingEnabled:function(e,F,M){return E("BeforeSubSection|"+e+"|"+r.getStableIdPartFromFacet(F),M);},isExtensionPointAfterSubSectionLazyLoadingEnabled:function(e,F,M){return E("AfterSubSection|"+e+"|"+r.getStableIdPartFromFacet(F),M);},isExtensionPointReplaceSubSectionLazyLoadingEnabled:function(e,F,M){return E("ReplaceSubSection|"+e+"|"+r.getStableIdPartFromFacet(F),M);},isExtensionPointFacetLazyLoadingEnabled:function(M,e){return E(M,e);},isExtensionPointAfterFacetLazyLoadingEnabled:function(e,F,M){return E("AfterFacet|"+e+"|"+r.getStableIdPartFromFacet(F),M);},isExtensionPointReplaceFacetLazyLoadingEnabled:function(e,F,M){return E("ReplaceFacet|"+e+"|"+r.getStableIdPartFromFacet(F),M);},getRepeatIndex:function(v){if(v&&v.getPath()){var P="0000000000";var s=P+((parseInt(v.getPath().substring(v.getPath().lastIndexOf("/")+1),10)+1)*10).toString();return s.substr(s.length-P.length);}else{L.error("Annotation Helper: Unable to get index.");}},getColumnListItemType:function(e,s,M,i,I,j){var u=i&&i.routeConfig&&i.routeConfig.name;var v=u==="root";var w=v&&s.some(function(y){return y.navigationProperty;});var x=I||v;return l(e,s,M,j,x,false,w);},getRowActionCountForDetailPage:function(e,s,M,i,I){return m(e,s,M,i,I);},getRowActionCountForListReport:function(e,s,M,i){return m(e,s,M,"",true);},hasSubObjectPage:function(e,s){return h(e,s);},isRelatedEntityCreatable:function(I,s,e,j,F,u,v){var w=false;var M=I.getInterface(0).getModel();var x=s["Org.OData.Capabilities.V1.InsertRestrictions"];var y=M.getODataEntityType(s.entityType);var z;var B;if(r.hasSubObjectPage(e,j)||(u&&r.isInlineCreate(F,u))){if(v){w="{= ${ui>/editable}}";}else{w="{= !${ui>/editable}}";}z=r.handleNavigationRestrictions(M,s,e,"Insertable");if(z&&z["Insertable"]){if(z["Insertable"].Path){B=z["Insertable"].Path;w=v?"{= ${ui>/editable} ? ${"+B+"} : false}":"{= !${ui>/editable} ? ${"+B+"} : false}";}}else if(x&&x.NonInsertableNavigationProperties&&x.NonInsertableNavigationProperties.length>0){for(var i=0;i<x.NonInsertableNavigationProperties.length;i++){var N=x.NonInsertableNavigationProperties[i];var C=r._getNonInsertableNavigationPropertyPath(N);if(C){var G=M.getODataAssociationSetEnd(y,C);if(G&&G.entitySet===e.name){if(N.If&&N.If.length===2){var H=N.If[0];B=H.Not?H.Not.Path:H.Path;if(n(M,s.entityType,B)){r._actionControlExpand(I,B,y.name);if(v){if(H.Not){w="{= ${ui>/editable} ? ${"+B+"} : false}";}else{w="{= ${ui>/editable} ? !${"+B+"} : false}";}}else{if(H.Not){w="{= !${ui>/editable} ? ${"+B+"} : false}";}else{w="{= !${ui>/editable} ? !${"+B+"} : false}";}}}else{w=false;L.warning("Creatable-Path is not valid. Creation for "+e.name+" is disabled");}}else{w=false;}break;}}}}}return w;},_getNonInsertableNavigationPropertyPath:function(N){var s;if(N.NavigationPropertyPath){s=N.NavigationPropertyPath;}else if(N.If){s=N.If[1].NavigationPropertyPath;}return s;},areBooleanRestrictionsValidAndPossible:function(i,e,j,s,u,O){var v;var M=i.getInterface(0).getModel();var w=j.entityType;var x,y,z;if(u){v=M.getODataEntitySet(u);z=v.entityType;}var B=r.handleNavigationRestrictions(M,v,j,s);if(B){x=B[s];y=z;}else{x=e&&e[s];y=w;}var V=!x||(x.Bool?!x.Path:(!!x.Path&&n(M,y,x.Path)));if(!V){L.error("Service Broken: Restrictions annotations for entity type "+w+" for section '"+s+"' are invalid.");}return V&&(!!O||!x||x.Bool!=="false");},handleNavigationRestrictions:function(M,s,e,j){if(!s){return false;}var u={"Insertable":"InsertRestrictions","Deletable":"DeleteRestrictions","Updatable":"UpdateRestrictions"};var i,N;var v=s["Org.OData.Capabilities.V1.NavigationRestrictions"];if(v&&v.RestrictedProperties){var w=v.RestrictedProperties;for(i in w){N=w[i];var x=M.getODataEntityType(s.entityType);var y=N.NavigationProperty.NavigationPropertyPath;var z=M.getODataAssociationSetEnd(x,y);if(z&&z.entitySet===e.name&&N[u[j]]){return N[u[j]];}}}return false;},_isPropertyPathBoolean:function(M,e,P){return n(M,e,P);},actionControl:function(i,s,e,j){if(j["com.sap.vocabularies.UI.v1.Hidden"]){return r.getBindingForHiddenPath(j);}else{r._actionControlExpand(i,s,e);if(s){return"{path: '"+s+"'}";}else{return"true";}}},_actionControlExpand:function(i,P,e){var s=[],u;i=i.getInterface(0);var M=i.getModel();var v=M.getODataEntityType(e);if(P){u=r._getNavigationPrefix(M,v,P);if(u){s.push(u);}}if(s.length>0){var w=i.getSetting("preprocessorsData");if(w){var x=w.rootContextExpand||[];for(var j=0;j<s.length;j++){if(x.indexOf(s[j])===-1){x.push(s[j]);}}w.rootContextExpand=x;}}},getEntityTypesForFormPersonalization:function(i,F,e){i=i.getInterface(0);var j=[];var M=i.getModel();var s=M.getODataEntitySet(e.name||'');var u=[];if(F.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"&&F.Facets){u=F.Facets;}else if(F.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){u.push(F);}u.forEach(function(F){var N;if(F.Target&&F.Target.AnnotationPath&&F.Target.AnnotationPath.indexOf("/")>0){N=F.Target.AnnotationPath.split("/")[0];var v=M.getODataEntityType(s.entityType);var w=M.getODataAssociationSetEnd(v,N);if(w&&w.entitySet){s=M.getODataEntitySet(w.entitySet);if(j.indexOf(s.entityType.split(".")[1])===-1){j.push(s.entityType.split(".")[1]);}}}else{if(j.indexOf(e.entityType.split(".")[1])===-1){j.push(e.entityType.split(".")[1]);}}});return j.join(", ");},_mapTextArrangement4smartControl:function(T){var s="descriptionAndId";switch(T){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":s="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":s="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":s="descriptionOnly";break;default:break;}return s;},getTextArrangementForSmartControl:function(i,F,e,j){i=i.getInterface(0);var s;var M=i.getModel();if(e.name==undefined){s=M.getODataEntityType(j.entityType);}else{s=M.getODataEntityType(e.entityType);}var T="descriptionAndId";if(M.getODataProperty(s,F.Value.Path)){var P=M.getODataProperty(s,F.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=r._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(s["com.sap.vocabularies.UI.v1.TextArrangement"]&&s["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=r._mapTextArrangement4smartControl(s["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}return T;},getTableTitle:function(F,e,H){var P=null;var j=new Map();var s=new RegExp("'",'g');var u=new RegExp('"','g');var G=function(F,P){for(var i=0;i<F.length;i++){if(F[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){G(F[i].Facets,F[i].Label.String);}else if(F[i].RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&F[i].Target&&F[i].Target.AnnotationPath.indexOf("LineItem")>-1){if(P!==null){j.set(F[i].Target.AnnotationPath,P);}else{j.set(F[i].Target.AnnotationPath,F[i].Label.String);}}}};G(F,P);var v=j.get(e.Target.AnnotationPath);v=v.replace(s,"\\'");v=v.replace(u,'\\"');if(v.indexOf(">")>-1){v="@i18n>"+v.split(">")[1].split("}")[0];}else{v="@i18n>"+v;}if(H&&H.TypeNamePlural&&H.TypeNamePlural.String){var T=H.TypeNamePlural.String;T=T.replace(s,"\\'");T=T.replace(u,'\\"');if(T===''){return"";}else if(T.indexOf(">")>-1){T="@i18n>"+T.split(">")[1].split("}")[0];}else{T="@i18n>"+T;}return"{parts: [{path: '"+T+"'}, {path: '"+v+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatTableTitle'}";}else{return"";}},formatTableTitle:function(T,s){if(T&&T!==s){return T;}return"";},getTitle:function(s,e,N){var i;var T=r.getTextArrangementObject(s,e,N);if(T){i=r.getTitleTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return i;},getDescription:function(s,e,N){var i;var T=r.getTextArrangementObject(s,e,N);if(T){i=r.getDescriptionTextArrangementBindingPath(T.textArrangement,T.propertyPath,T.textPath);}return i;},getTextArrangementObject:function(s,e,N){var T,P,i;if(e){P=e.name;var j=e["com.sap.vocabularies.Common.v1.Text"];if(j){i=j.Path;}T=r.getTextArrangement(s,e);return{textArrangement:T,propertyPath:P,textPath:i};}},getTextArrangement:function(e,F){var T;if(F["com.sap.vocabularies.UI.v1.TextArrangement"]&&F["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=r._mapTextArrangement4smartControl(F["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}if(!T){var P=F["com.sap.vocabularies.Common.v1.Text"];if(P&&P["com.sap.vocabularies.UI.v1.TextArrangement"]&&P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=r._mapTextArrangement4smartControl(P["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){if(e&&e["com.sap.vocabularies.UI.v1.TextArrangement"]&&e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){T=r._mapTextArrangement4smartControl(e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!T){T="descriptionAndId";}return T;},getTitleTextArrangementBindingPath:function(T,P,s){var e="{"+P+"}";var i="{"+s+"}";if(!s){return e;}if(T==="descriptionAndId"){return i;}else if(T==="descriptionOnly"){return i;}else if(T==="idAndDescription"){return e;}else if(T==="idOnly"){return e;}},getDescriptionTextArrangementBindingPath:function(T,P,s){var e="{"+P+"}";var i="{"+s+"}";if(!s){return"";}if(T==="descriptionAndId"){return e;}else if(T==="descriptionOnly"){return"";}else if(T==="idAndDescription"){return i;}else if(T==="idOnly"){return"";}},isDeepFacetHierarchy:function(F){if(F.Facets){for(var i=0;i<F.Facets.length;i++){if(F.Facets[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){return true;}}}return false;},doesCollectionFacetOnlyContainForms:function(F){var e=true;if(F.Facets){for(var i=0;i<F.Facets.length;i++){if(F.Facets[i].Target&&F.Facets[i].Target.AnnotationPath){if((F.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")<0)&&(F.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Identification")<0)&&(F.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.DataPoint")<0)){e=false;}}}}else{e=false;}return e;},doesFieldGroupContainOnlyOneMultiLineDataField:function(F,e){if(F.Data.length!==1){return false;}if((e['com.sap.vocabularies.UI.v1.MultiLineText']===undefined)||(F.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField")){return false;}return true;},testFormatter:function(v){return"formatted:"+v;},getFacetID:function(e,F){return e+"|"+r.getStableIdPartFromFacet(F);},isListReportTemplate:function(e){if(e){return e.template==="sap.suite.ui.generic.template.ListReport";}},isAnalyticalListPageOrListReportTemplate:function(e){if(e){return(e.template==="sap.suite.ui.generic.template.AnalyticalListPage"||e.template==="sap.suite.ui.generic.template.ListReport");}},getStableIdPartForDatafieldActionButton:function(e,F,T,C){var s="";var i="";var j="";if(F){j=r.getStableIdPartFromFacet(F);}if(e){i=r.getStableIdPartFromDataField(e);}s=(j!==""?j+"::":"")+"action::"+i;var u=r.getSuffixFromIconTabFilterKey(T);if(u){s=s.concat(u);}if(C){s=s+"::chart";}return s;},_hasCustomDeterminingActionsInListReport:function(e,M){if(M&&M[e]){var i=M[e];if(i.Actions){for(var j in i.Actions){if(i.Actions[j].determining){return true;}}}}return false;},hasDeterminingActionsRespectingApplicablePath:function(C,T,e,M){var s="";C=C.getInterface(0);if(e&&M&&M["sap.suite.ui.generic.template.ObjectPage.view.Details"]){var i=M["sap.suite.ui.generic.template.ObjectPage.view.Details"]["sap.ui.generic.app"];if(i&&i[e]){var j=i[e];if(j.Header&&j.Header.Actions){for(var u in j.Header.Actions){if(j.Header.Actions[u].determining){if(j.Header.Actions[u].applicablePath){if(s.length>0){s+=" || ";}s+="${path: '"+j.Header.Actions[u].applicablePath+"'}";}else{return true;}}}}}}if(T){for(var v=0;v<T.length;v++){if((T[v].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction")&&T[v].Determining&&T[v].Determining.Bool==="true"){var F=C.getModel().getODataFunctionImport(T[v].Action.String,true);var w=C.getModel().getObject(F);if(w["sap:applicable-path"]){if(s.length>0){s+=" || ";}s+="${path: '"+w["sap:applicable-path"]+"'}";}else{return"true";}}}}if(s.length>0){return"{= "+s+" || ${ui>/editable}}";}else{return"{ui>/editable}";}},hasDeterminingActions:function(T,e,M){if(e&&M&&M["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&r._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true";}else if(e&&M&&M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&r._hasCustomDeterminingActionsInListReport(e,M["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true";}for(var i=0;i<T.length;i++){if((T[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||T[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&T[i].Determining&&T[i].Determining.Bool==="true"){return"true";}}return"false";},actionControlDetermining:function(e,s,i){if(i["com.sap.vocabularies.UI.v1.Hidden"]){return r.getBindingForHiddenPath(i);}else if(r.isListReportTemplate(e)||!s){return true;}else{return"{path: '"+s+"'}";}},actionControlInline:function(s){if(!s){return true;}else{return"{path: '"+s+"'}";}},buildExpressionForProgressIndicatorPercentValue:function(i,e,u){var P="0";if(e.Value&&e.Value.Path){var v="$"+sap.ui.model.odata.AnnotationHelper.format(i,e.Value);var T,U;if(e.TargetValue){T=sap.ui.model.odata.AnnotationHelper.format(i,e.TargetValue);T=e.TargetValue.Path?"$"+T:T;}if(u){u=u['Org.OData.Measures.V1.Unit']||u["Org.OData.Measures.V1.ISOCurrency"];if(u){U=sap.ui.model.odata.AnnotationHelper.simplePath(i,u);U=U&&u.Path?"$"+U:"'"+U+"'";}}var s="({0} > 100 ? 100 : {0} < 0 ? 0 : {0} * 1)";var j="(({1}*1 > 0) ? (({0}*1 > {1}*1) ? 100 : (({0}*1 < 0) ? 0 : ({0} / {1} * 100))) : 0)";var w="'{'= ({2} === ''%'') ? "+s+" : "+j+" '}'";P=f(w,[v,T,U]);}return P;},buildExpressionForProgressIndicatorDisplayValue:function(i,e,u){var P;var j=function(i,v){var w=r.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(i,v));var x="{path: '"+w+"'}";return x;};P=j(i,e.Value)+", "+j(i,e.TargetValue)+", "+j(i,u);var s="{ parts: ["+P+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return s;},getProgressIndicatorTooltip:function(i,u){if(u&&u['com.sap.vocabularies.Common.v1.QuickInfo']&&u['com.sap.vocabularies.Common.v1.QuickInfo'].String){return u['com.sap.vocabularies.Common.v1.QuickInfo'].String;}else{return'';}},formatDisplayValue:function(v,T,u){var s="";if(v!==null&&v!==undefined){v=v.toString();}if(v){var C=this;var e=C.getModel("i18n").getResourceBundle();var i=C.getCustomData();var j=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();v=sap.ui.core.format.NumberFormat.getInstance(j).format(v);T=T||i.filter(function(O){if(O.getKey()==="Target"){return O;}});T=typeof(T)==="object"?(T[0]&&T[0].getValue()):T;u=u||i.filter(function(O){if(O.getKey()==="UoM"){return O;}});u=typeof(u)==="object"?(u[0]&&u[0].getValue()):u;if(u){if(u==='%'){s=e.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[v]);}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(j).format(T);s=e.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[v,T,u]);}else{s=e.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[v,u]);}}}else{if(T){T=sap.ui.core.format.NumberFormat.getInstance(j).format(T);s=e.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[v,T]);}else{s=v;}}}else{L.warning("Value property is mandatory, the default (empty string) will be returned");}return s;},buildExpressionForProgressIndicatorCriticality:function(i,e){var F=sap.ui.core.ValueState.None;var s;var C=e.Criticality;if(C){s="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(C.Path){var j='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,C);F=f(s,j);}else if(C.EnumMember){var u="'"+C.EnumMember+"'";F=f(s,u);}else{L.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{L.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return F;},trimCurlyBraces:function(v){return v?v.replace("{","").replace("}",""):undefined;},getEntitySetName:function(e,i){var s="";try{s=e.name||i.name;}catch(j){L.warning("At least one of the input parameters is undefined. Returning default value for entity set name.");}return s;},getBreakoutActionEnabledKey:function(e,T){var B=r.getBreakoutActionButtonId(e,T);var s="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+B+"/enabled}";return s;},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(e){if(e["com.sap.vocabularies.UI.v1.Hidden"]){return r.getBindingForHiddenPath(e);}else if(!!e.RequiresContext&&e.RequiresContext.Bool=="false"&&(!e.Inline||e.Inline.Bool==="false")){var s=e.SemanticObject.String;var i=e.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+s+"/"+i+"/visible}}";}else{return true;}},searchForFirstSemKey_Title_Description:function(e){var s,T,j,u,v,M,w,x,y,z,B,F,C,H,G,I,J,i;if(!e){return;}s=e.getPath();if(s.indexOf("com.sap.vocabularies.UI.v1.LineItem")<0){return;}j=s&&s.lastIndexOf("/");u=s.substring(0,j);v=s.substring(j+1);M=e.getModel();B=M&&M.getObject(u);if(B){F=B["com.sap.vocabularies.Common.v1.SemanticKey"]&&B["com.sap.vocabularies.Common.v1.SemanticKey"][0]&&B["com.sap.vocabularies.Common.v1.SemanticKey"][0].PropertyPath;C=B[v];H=B["com.sap.vocabularies.UI.v1.HeaderInfo"];G="";I="";if(H){G=H&&H["Title"]&&H["Title"].Value&&H["Title"].Value.Path;I=H&&H["Description"]&&H["Description"].Value&&H["Description"].Value.Path;}J=C&&C.length;T=s+"/";for(i=0;i<J;i++){if(C[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[i].Value.Path===F){if(r.isPropertyHidden(C[i])){continue;}T=T+i+'/Value/Path';return T;}if(C[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[i].Value.Path===G){if(r.isPropertyHidden(C[i])){continue;}w=true;z=i;}if(C[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[i].Value.Path===I){if(r.isPropertyHidden(C[i])){continue;}x=true;y=i;}}if(w){T=T+z+'/Value/Path';return T;}else if(x){T=T+y+'/Value/Path';return T;}}else{L.warning("No entity type provided");}},isPropertyHidden:function(e){var H=false;if(e["com.sap.vocabularies.UI.v1.Hidden"]||(e["com.sap.vocabularies.Common.v1.FieldControl"]&&e["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember&&e["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden")){H=true;}return H;},getColumnHeaderText:function(e,i){var s;if(i.Label){return i.Label.String;}else{s=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return s;}},getColumnToolTip:function(e,i){var s;if(i.Label){return i.Label.String;}else{s=e["sap:quickinfo"]||(e["com.sap.vocabularies.Common.v1.QuickInfo"]||"").String||e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return s;}},getTextForDataField:function(e){var v=e["com.sap.vocabularies.Common.v1.Text"]&&e["com.sap.vocabularies.Common.v1.Text"].Path;return v;},getColumnCellFirstText:function(e,i,j,C){var s,T;T=r.getTextArrangement(j,e);switch(T){case"idAndDescription":s=i.Value.Path;if(!s){s=r.getTextForDataField(e);}break;case"idOnly":s=i.Value.Path;if(!s){s=r.getTextForDataField(e);}break;case"descriptionAndId":case"descriptionOnly":default:s=r.getTextForDataField(e);if(!s){s=i.Value.Path;}break;}if(s){if(C){return true;}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var F=r.formatDateTimeForCustomColumn(e.type,s);return F;}else{return"{"+s+"}";}}}},getColumnCellSecondText:function(e,i,j,C){var s;s=r.getTitlePath(e,i,j);if(s){if(C){return true;}else{if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){var F=r.formatDateTimeForCustomColumn(e.type,s);return F;}else{return"{"+s+"}";}}}},getTitlePath:function(e,i,j){var s,T;T=r.getTextArrangement(j,e);switch(T){case"idOnly":case"descriptionOnly":break;case"idAndDescription":if(!i.Value.Path){break;}s=r.getTextForDataField(e);break;case"descriptionAndId":default:if(!r.getTextForDataField(e)){break;}s=i.Value.Path;break;}return s;},getHeaderVisibility:function(e,i,j){var T,s;T=r.getTitlePath(e,i,j);if(!T){if(e.type==="Edm.DateTimeOffset"||e.type==="Edm.DateTime"||e.type==="Edm.Time"){T=r.getColumnCellFirstText(e,i,j);return"{= "+T+" ? false : true}";}else{T=r.getColumnCellFirstText(e,i,j).replace("{","").replace("}","");}}else{s=r.getTextArrangement(j,e);if(!s||s==="descriptionAndId"){T=r.getColumnCellFirstText(e,i,j).replace("{","").replace("}","");}if(s==="idAndDescription"){T=r.getTitlePath(e,i,j);}}if(T){return"{= ${path: '"+T+"'} ? false : true}";}return false;},formatDateTimeForCustomColumn:function(e,s){if(e==="Edm.DateTimeOffset"){return"{ path: '"+s+"', type: 'sap.ui.model.odata.type.DateTimeOffset', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else if(e==="Edm.DateTime"){return"{ path: '"+s+"', type: 'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else{return"{ path: '"+s+"', type: 'sap.ui.model.odata.type.Time', formatOptions: { style: 'medium'}}";}},getAdditionalSemanticObjects:function(e){var i;var j=[];for(i in e){if(i.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")!=-1){j.push(e[i].String);}}if(j.length>0){return j;}},getColumnCellFirstTextVisibility:function(e,i,j){var C=true;var v=!!r.getColumnCellFirstText(e,i,j,C);return v;},getColumnCellSecondTextVisibility:function(e,i,j){var C=true;var v=!!r.getColumnCellSecondText(e,i,j,C);return v;},isSmartLink:function(e){var i;for(i in e){if(i.indexOf('com.sap.vocabularies.Common.v1.SemanticObject')>=0){return true;}}return false;},setRowHighlight:function(T,s,C){var e=(T.entitySet===s)?T.isDraft:(T.isDraft||T.level===0)&&C(s);var i=T.level>0&&(e||!T.isDraft);var j=e?"{path: 'IsActiveEntity'}, {path: 'HasActiveEntity'}":"{value: true}, {value: true}";var M=i?"{path: 'ui>/editable'}, {path: '_templPrivMessage>/'}":"{value: false}, {value: ''}";return"{parts: ["+j+", "+M+", {path: ''}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.setInfoHighlight'}";},setInfoHighlight:function(e,j,s){var u=this.getBindingContext();if(!u){return"None";}var M="None";var v=sap.ui.core.MessageType;if(s){var w=u.getMessages();for(var i=0;i<w.length;i++){var x=w[i];var T=x.getType();if(T===v.Error){return"Error";}if(T===v.Warning){M="Warning";}else if(T===v.Information&&M!==v.Warning){M="Information";}}}if(e===false&&j===false){return M==="None"?"Information":M;}var C=q(this,u);return(C==="Error"||C==="Warning"||M==="None")?C:M;},getGroupElementQualifier:function(C){for(var i=0;i<C.length;i++){if(C[i].getKey()==="sap-ui-custom-settings"){var e=C[i].getValue()['sap.ui.dt'].annotation;if(typeof e=="string"){e=JSON.parse(e);}if(e){return(e.value[0]=="@")?e.value.substring(1):e.value;}else{return null;}}}return null;},getDataFieldLabel:function(i,e,j){var s;if(j.Label){return sap.ui.model.odata.AnnotationHelper.format(i,j.Label);}else{s=e["sap:label"]||(e["com.sap.vocabularies.Common.v1.Label"]||"").String||"";if(s===""){var u=(e.extensions)?e.extensions.find(function(v){return v.name==="label";}):null;if(u!==undefined&&u!==null){if(u.length!==undefined&&u.length>0){s=u[0].value;}else{s=u.value;}}else{s="";}}return s;}},getDataFieldValue:function(i,e,M){if(e&&!e.Path&&!e.Apply&&!e.String){return"";}var s=A.format(i.getModel()?i:i.getInterface(0),e);if(M){s=s.replace("{","{ mode:'"+M+"', ");}return s;},getDataFieldValueSimplePath:function(i,e,M){if(e&&!e.Path&&!e.Apply&&!e.String){return"";}var s=A.simplePath(i.getModel()?i:i.getInterface(0),e);if(M){s=s.replace("{","{ mode:'"+M+"', ");}return s;},formatObjectMarker:function(e,i,j){if(e&&i&&j){return sap.m.ObjectMarkerType.Locked;}else if(e&&i&&!j){return sap.m.ObjectMarkerType.Unsaved;}else{return sap.m.ObjectMarkerType.Flagged;}},formatObjectMarkerVisibility:function(e,i,j){if(e&&i&&j){return true;}else if(e&&i&&!j){return true;}else{return false;}},setNoDataTextForSmartTable:function(e,s){s="::"+e+"--"+s;return"{parts: [{value: '"+s+"'}], formatter: '._templateFormatters.setNoDataTextForSmartTable'}";},getRelevantDataForAnnotationRecord:function(M,s,e){var N,i;while(s.indexOf('/')>-1){N=s.split("/")[0];s=s.split('/').slice(1).join('/');i=M.getODataAssociationEnd(e,N);e=M.getODataEntityType(i&&i.type);}return{"entityType":e,"association":i,"dataFieldValuePath":s};},getTextArrangementForSCFields:function(I,F,e,C){var M=I.getInterface(0).getModel();var s=M.getODataEntityType(e.entityType);var u=F.Value.Path;s=r.getRelevantDataForAnnotationRecord(M,F.Value.Path,s).entityType;var P=s.property||[];var v,T;for(var i=0;i<P.length;i++){if(u===P[i].name){v=P[i]["sap:text"];break;}}for(var j=0;j<C.length;j++){if(C[j].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[j].Value.Path===v){return"idOnly";}}T=r.getTextArrangementForSmartControl(I,F,{},e);return T;},checkMultiplicityForDataFieldAssociation:function(i,e,j){if(j.Value&&j.Value.Path){var s=j.Value.Path;var M=i.getModel(0);var u=M.getODataEntityType(e.entityType);var v;if(!(s.indexOf('/')>-1)){return true;}while(s.indexOf('/')>-1){var N=s.split("/")[0];s=s.split('/').slice(1).join('/');u=M.getODataEntityType(v&&v.type)||u;v=M.getODataAssociationEnd(u,N);}if(v&&v.multiplicity==="*"){return false;}}return true;},checkMultiplicityForDataFieldAssociationInTable:function(i,e,j){if(j.Value&&j.Value.Path){var s=j.Value.Path;var M=i&&i.getModel&&i.getModel(0);var u=M&&M.getODataEntityType&&M.getODataEntityType(e.entityType);var v;if(!(s.indexOf('/')>-1)||!u){return false;}while(s.indexOf('/')>-1){var N=s.split("/")[0];s=s.split('/').slice(1).join('/');u=M.getODataEntityType(v&&v.type)||u;v=M.getODataAssociationEnd(u,N);}if(v&&v.multiplicity==="*"){return true;}}return false;},hasQuickViewFacet:function(I,e){var M=I.getModel();var s=M.getODataEntityType(e.entityType);var P=[];var u=[];var v,T,w,N,F;if(!s||!s.navigationProperty){return'\\{\\}';}var x=s.property||[];for(var i=0;i<x.length;i++){if(x[i]["com.sap.vocabularies.Common.v1.SemanticObject"]){P.push(x[i].name);}}for(var i=0;i<s.navigationProperty.length;i++){if(s.navigationProperty.name==="SiblingEntity"||s.navigationProperty.name==="DraftAdministrativeData"){continue;}T=M.getODataEntityType(M.getODataAssociationEnd(s,s.navigationProperty[i].name).type);if(T["com.sap.vocabularies.UI.v1.QuickViewFacets"]){w=M.getObject("/dataServices/schema");N=T.namespace;for(var j in w){if(w[j].namespace===N){v=w[j];break;}}var y;var z=v.association;var Q=s.navigationProperty[i].relationship;var B=Q.lastIndexOf(".");var C=Q.slice(B+1);for(var j in z){if(z[j].name===C){y=z[j];break;}}var G=(y.referentialConstraint&&y.referentialConstraint.dependent&&y.referentialConstraint.dependent.propertyRef)||[];for(var j=0;j<G.length;j++){if(P.indexOf(G[j].name)!==-1){u.push(G[j].name);}}}}if(u.length){F='\\{';for(var i=0;i<u.length;i++){F+='"'+u[i]+'":"true",';}return F.slice(0,-1)+'\\}';}else{return'\\{\\}';}},buildHeaderInfoCustomData:function(i,e){var H="";var v="";var I;var j;if(e&&e.Title&&e.Title.Value){H=e.Title.Value.Path?e.Title.Value.Path:(e.Title.Value.String||"");I=e.Title.Value.Path?true:false;j=false;if(e&&e.Description&&e.Description.Value){v=e.Description.Value.Path?e.Description.Value.Path:(e.Description.Value.String||"");j=e.Description.Value.Path?true:false;}}return'\{"headerTitle":"'+H+'"\,"isHeaderTitlePath":'+I+'\,"headerSubTitle":"'+v+'"\,"isHeaderSubTitlePath":'+j+'\}';},getPresentationVariantQualifier:function(e,v){var V=e[v];if(V.Visualizations||V.SortOrder){return v.split("#")[1]||"";}else if(V.PresentationVariant&&(V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath)){var s=V.PresentationVariant.Path||V.PresentationVariant.AnnotationPath;return s.split("#")[1]||"";}else if(V.PresentationVariant){return"";}},getPresentationVariantInitialExpansionLevel:function(e,v){var V=e[v];var P=r.getPresentationVariant(V,e);if(P.InitialExpansionLevel){return P.InitialExpansionLevel.Int;}}};r.setAriaText.requiresIContext=true;r.getLinkTextForDFwithIBN.requiresIContext=true;r.getLabelForDFwithIBN.requiresIContext=true;r.isPropertySemanticKey.requiresIContext=true;r.getRepeatIndex.requiresIContext=true;r.suppressP13NDuplicateColumns.requiresIContext=true;r.formatWithExpand.requiresIContext=true;r.formatWithExpandSimple.requiresIContext=true;r.getNavigationPathWithExpand.requiresIContext=true;r.getFormGroupBindingString.requiresIContext=true;r.getCurrentPathWithExpand.requiresIContext=true;r.getCurrentPathWithExpandForContact.requiresIContext=true;r.getEntityTypesForFormPersonalization.requiresIContext=true;r.actionControl.requiresIContext=true;r.getTextArrangementForSmartControl.requiresIContext=true;r.matchesBreadCrumb.requiresIContext=true;r.createP13N.requiresIContext=true;r.createP13NColumnForConnectedFields.requiresIContext=true;r.createP13NColumnForIndicator.requiresIContext=true;r.createP13NColumnForAction.requiresIContext=true;r.createP13NColumnForContactPopUp.requiresIContext=true;r.createP13NColumnForChart.requiresIContext=true;r.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;r.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;r.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;r.getProgressIndicatorTooltip.requiresIContext=true;r.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;r.areBooleanRestrictionsValidAndPossible.requiresIContext=true;r.isRelatedEntityCreatable.requiresIContext=true;r.buildBreadCrumbExpression.requiresIContext=true;r.getApplicablePathForChartToolbarActions.requiresIContext=true;r.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;r.getIconTabFilterText.requiresIContext=true;r.formatImageUrl.requiresIContext=true;r.getPathWithExpandFromHeader.requiresIContext=true;r.formatImageOrTypeUrl.requiresIContext=true;r.formatHeaderImage.requiresIContext=true;r.getDataFieldLabel.requiresIContext=true;r.getDataFieldValue.requiresIContext=true;r.getDataFieldValueSimplePath.requiresIContext=true;r.getActionButtonVisibility.requiresIContext=true;r.checkMultiplicityForDataFieldAssociation.requiresIContext=true;r.checkMultiplicityForDataFieldAssociationInTable.requiresIContext=true;r.getTextArrangementForSCFields.requiresIContext=true;r.hasQuickViewFacet.requiresIContext=true;r.buildActionButtonsCustomData.requiresIContext=true;r.buildHeaderInfoCustomData.requiresIContext=true;r.formatWithExpandSimplePath.requiresIContext=true;r.formatSmartField.requiresIContext=true;return r;},true);
