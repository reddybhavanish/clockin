/*!
 * OpenUI5
 * (c) Copyright 2009-2020 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/integration/library","sap/ui/base/Object","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/base/strings/formatMessage","sap/ui/integration/controls/ActionsToolbar","./CardActions"],function(q,l,B,N,H,f,A,C){"use strict";var a=l.AreaType;function b(F,h){if(F.parts&&F.translationKey&&F.parts.length===2){var o={parts:[F.translationKey,F.parts[0].toString(),F.parts[1].toString()],formatter:function(t,p,P){var s=p||F.parts[0];var d=P||F.parts[1];if(Array.isArray(p)){s=p.length;}if(Array.isArray(P)){d=P.length;}var i=parseFloat(s)||0;var e=parseFloat(d)||0;return f(t,[i,e]);}};h.bindProperty("statusText",o);}}var c=B.extend("sap.ui.integration.util.HeaderFactory",{metadata:{library:"sap.ui.integration"},constructor:function(o){B.call(this);this._oCard=o;}});c.prototype.create=function(m){var h,o=this._oCard,d,e=this._createActionsToolbar();if(!m&&!e){return null;}if(!m){m={};}d=new C({card:o,areaType:a.Header});switch(m.type){case"Numeric":h=new N(m,e,o._sAppId);break;default:h=new H(m,e,o._sAppId,o._oIconFormatter);break;}if(m.status&&m.status.text&&m.status.text.format){if(m.status.text.format.translationKey){o._loadDefaultTranslations();}b(m.status.text.format,h);}h.setServiceManager(o._oServiceManager);h.setDataProviderFactory(o._oDataProviderFactory);h._setData(m.data);d.attach(m,h);h._oActions=d;return h;};c.prototype._createActionsToolbar=function(){var o=this._oCard,h=o.getHostInstance(),d,e;if(!h){return null;}d=new A();e=d.initializeContent(h,o);if(e){return d;}return null;};return c;});
