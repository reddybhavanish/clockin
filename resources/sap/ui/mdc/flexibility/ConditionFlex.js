/*
 * ! SAPUI5

		(c) Copyright 2009-2020 SAP SE. All rights reserved
	
 */
sap.ui.define(['sap/base/util/merge','sap/ui/mdc/condition/FilterOperatorUtil'],function(m,F){"use strict";var a=function(C,o,b,p,i){if(b.applyConditionsAfterChangesApplied){b.applyConditionsAfterChangesApplied();}return new Promise(function(d){var e,f=null,M=p.modifier;e=m({},M.getProperty(b,"filterConditions"));if(e){for(var s in e){if(s===o.name){f=e[s];break;}}}if(!f){e[o.name]=[];f=e[o.name];}var n=F.indexOfCondition(o.condition,f);if(n<0){f.push(o.condition);M.setProperty(b,"filterConditions",e);if(!i){C.setRevertData({name:o.name,condition:o.condition});}if(b.addCondition){b.addCondition(o.name,o.condition).then(function(){d();return;});}}d();});};var r=function(C,o,b,p,i){if(b.applyConditionsAfterChangesApplied){b.applyConditionsAfterChangesApplied();}return new Promise(function(d){var e,f,n=-1,M=p.modifier;e=m({},M.getProperty(b,"filterConditions"));if(e){for(var s in e){if(s===o.name){f=e[s];break;}}}if(f&&(f.length>0)){n=F.indexOfCondition(o.condition,f);if(n>=0){f.splice(n,1);M.setProperty(b,"filterConditions",e);if(!i){C.setRevertData({name:o.name,condition:o.condition});}if(b.removeCondition){b.removeCondition(o.name,o.condition).then(function(){d();return;});}}}d();});};var c={};c.addCondition={"changeHandler":{applyChange:function(C,o,p){return a(C,C.getContent(),o,p,false);},completeChangeContent:function(C,b,p){},revertChange:function(C,o,p){return r(C,C.getRevertData(),o,p,true).then(function(){C.resetRevertData();});}},"layers":{"USER":true}};c.removeCondition={"changeHandler":{applyChange:function(C,o,p){return r(C,C.getContent(),o,p,false);},completeChangeContent:function(C,b,p){},revertChange:function(C,o,p){return a(C,C.getRevertData(),o,p,true).then(function(){C.resetRevertData();});}},"layers":{"USER":true}};return c;});
