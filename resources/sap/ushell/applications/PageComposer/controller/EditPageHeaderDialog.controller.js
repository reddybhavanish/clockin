// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ui/model/json/JSONModel","./BaseDialog.controller","sap/base/util/merge"],function(J,B,m){"use strict";return B.extend("sap.ushell.applications.PageComposer.controller.EditPageHeaderDialog",{constructor:function(v){this._oView=v;this._oModel=new J({id:"",title:"",description:"",validation:{title:false}});this.sViewId="editPageHeaderDialog";this.sId="sap.ushell.applications.PageComposer.view.EditPageHeaderDialog";},onConfirm:function(){var M=this.getModel(),r={id:M.getProperty("/id"),title:M.getProperty("/title").trim(),description:M.getProperty("/description").trim()};if(this._fnConfirm){this._fnConfirm(r);this._oView.byId("editPageHeaderDialog").close();}},_resetModel:function(M){M.setProperty("/id","");M.setProperty("/title","");M.setProperty("/description","");var v=m({},M.getProperty("/validation"),{title:false});M.setProperty("/validation",v);},initialTitleValidation:function(){var i=this.isValidTitleOrDescription(this._oModel.getProperty("/title")),v=m({},this._oModel.getProperty("/validation"),{title:i});this._oModel.setProperty("/validation",v);},onBeforeOpen:function(){var f=this._oView.byId("editPageHeaderDialog");sap.ui.getCore().getMessageManager().registerObject(f,true);this._resetModel(f.getModel());}});});
