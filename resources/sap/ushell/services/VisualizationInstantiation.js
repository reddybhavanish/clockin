// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/_VisualizationInstantiation/VizInstance","sap/ushell/services/_VisualizationInstantiation/VizInstanceAbap","sap/ushell/services/_VisualizationInstantiation/VizInstanceCdm","sap/m/library","sap/base/util/ObjectPath","sap/ushell/EventHub","sap/ushell/adapters/cdm/v3/_LaunchPage/readVisualizations"],function(V,a,b,M,O,E,r){"use strict";var L=M.LoadState;function c(){}c.prototype.instantiateVisualization=function(v){var o;var p=O.get("_instantiationData.platform",v);var d={title:v.title,subtitle:v.subtitle,info:v.info,icon:v.icon,targetURL:v.targetURL,keywords:v.keywords,instantiationData:v._instantiationData,indicatorDataSource:v.indicatorDataSource};if(d.indicatorDataSource){d.indicatorDataSource.ui5object=true;}switch(p){case"ABAP":o=new a(d);break;case"CDM":o=new b(d);break;default:o=new V({state:L.Failed});}if(r.isStandardVizType(v.vizType)){o.load().then(function(){E.emit("VizInstanceLoaded",v.id);});}else{E.once("CoreResourcesComplementLoaded").do(o.load.bind(o));}return o;};c.hasNoAdapter=true;return c;});
