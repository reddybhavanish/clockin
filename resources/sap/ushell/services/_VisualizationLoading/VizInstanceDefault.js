// Copyright (c) 2009-2020 SAP SE, All Rights Reserved
sap.ui.define(["sap/ushell/services/_VisualizationLoading/VizInstance","sap/ushell/EventHub"],function(V,E){"use strict";var v=V.extend("sap.ushell.ui.launchpad.VizInstanceDefault",{renderer:V.getMetadata().getRenderer()});v.prototype.getTitle=function(){return this.getAdapter().getCatalogTilePreviewTitle(this.getCatalogTile());};v.prototype.getSubtitle=function(){return this.getAdapter().getCatalogTilePreviewSubtitle(this.getCatalogTile());};v.prototype.getIcon=function(){return this.getAdapter().getCatalogTilePreviewIcon(this.getCatalogTile());};v.prototype.getKeywords=function(){return this.getAdapter().getCatalogTileKeywords(this.getCatalogTile());};v.prototype.getFooter=function(){return this.getAdapter().getCatalogTilePreviewInfo(this.getCatalogTile());};v.prototype.getTarget=function(){return this.getAdapter().getCatalogTileTargetURL(this.getCatalogTile());};v.prototype.getType=function(){var a=this.getAdapter();if(a.getTileType){return a.getTileType(this.getCatalogTile());}return this.getVizType();};v.prototype.setActive=function(a,r){var i=this.getInnerControl(),c=i&&i.getController&&i.getController(),C=this.getCatalogTile(),o=C&&C.getContract&&C.getContract("visible");if(c&&c.visibleHandler&&o&&o.setVisible){c.visibleHandler(a);o.setVisible(a);if(r&&c.refreshHandler){c.refreshHandler();}}};v.prototype.refresh=function(){this.getAdapter().refresh(this.getCatalogTile());};v.prototype.getHeight=function(){var s=this.getAdapter().getTileSize(this.getCatalogTile());var r=+s.split("x")[0];return r;};v.prototype.getWidth=function(){var s=this.getAdapter().getTileSize(this.getCatalogTile());var c=+s.split("x")[1];return c;};v.prototype.getSize=function(){return this.getAdapter().getTileSize(this.getCatalogTile());};v.prototype.isCustomTile=function(){if(!this.getAdapter().isCustomTile){var c=this.getCatalogTile();var C=c.tileResolutionResult.tileComponentLoadInfo.componentName;return this.getAdapter()._isCustomTileComponent(C);}return this.getAdapter().isCustomTile(this.getCatalogTile());};v.prototype._setVizViewControlPromise=function(a){if(a&&a.isBookmark){this.oControlPromise=new Promise(function(r,b){a.chip.load(function(){r(a.chip.getImplementationAsSapui5());});});}else{var p=this.getPreviewMode();this.oControlPromise=sap.ushell.Container.getService("VisualizationDataProvider").getVisualizationView(this.getVisualizationId(),p);}};v.prototype.load=function(){var t=this;this.setAdapter(sap.ushell.Container.getService("VisualizationDataProvider")._getAdapter());var o=V.prototype.load.apply(this,arguments);if(!this.isCustomTile()){o.then(function(){E.emit("VizInstanceLoaded",t.getVisualizationId());});}return o;};return v;});
